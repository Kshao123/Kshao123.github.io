<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>win10 重装系统，电脑出现：&quot;由于最近更改电脑硬件而无法正常启动&quot;，或重装卡在：&quot;海内存知己&quot;等问题解决方法</title>
      <link href="/2020/05/20/wl-system/"/>
      <url>/2020/05/20/wl-system/</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><div class="note info no-icon">            <p>本篇不仅可以学到如何重装系统，还能解决在重装中遇到的各种问题，绝了。（也是佩服我，重装一次改遇到的问题全有了）</p>          </div><h1 id="罗列问题（按装系统顺序列出-）"><a href="#罗列问题（按装系统顺序列出-）" class="headerlink" title="罗列问题（按装系统顺序列出~）"></a>罗列问题（按装系统顺序列出~）</h1><ol><li>开机出现 <code>&quot;由于最近更改电脑硬件而无法正常启动&quot;</code>，如下图<br><img src="/" class="lazyload" data-src="https://wxt.sinaimg.cn/mw690/0085UwQ9ly1geyzrxgcvlj30h80cxaas.jpg"  alt="由于最近更改电脑硬件而无法正常启动"></li><li>重装出现 <code>&quot;Windows 安装程序无法将 Windows 配置为此计算机的硬件上运行&quot;</code>，如下图<br><img src="/" class="lazyload" data-src="https://wxt.sinaimg.cn/mw690/0085UwQ9ly1gez0aa04wej30fa098mx9.jpg"  alt="重装错误"></li><li>上一步中使用 <code>msoobe.exe</code> 出现或卡在 <code>海内存知己，天涯若比邻</code>，如下图<br><img src="/" class="lazyload" data-src="https://wxt.sinaimg.cn/mw690/0085UwQ9ly1gez0cz83r3j30i30dhaan.jpg"  alt="海内存知己，天涯若比邻"></li><li>U盘 重装系统 微软官方 <code>PE</code> 中出现 <code>&quot;缺少计算机所需的介质驱动程序。。。&quot;</code>，看下图<br><img src="/" class="lazyload" data-src="https://wxt.sinaimg.cn/mw690/0085UwQ9ly1gez0jaojbjj30g40lh75a.jpg"  alt="无驱动"></li><li>专业版系统可能会出现：点击关机后又重新启动的情况（这个莫得图 ~）</li></ol><h1 id="开装"><a href="#开装" class="headerlink" title="开装 ~"></a>开装 ~</h1><blockquote><p>如果你只是单纯的想重装系统建议使用微软官方的 u盘 制作工具，一键制作启动盘，并且他的镜像下载速度更快~</p></blockquote><h2 id="使用-Rufus-制作系统盘"><a href="#使用-Rufus-制作系统盘" class="headerlink" title="使用 Rufus 制作系统盘"></a>使用 <code>Rufus</code> 制作系统盘</h2><blockquote><p>软件地址不留了</p></blockquote><ol><li>下载正版的<code>Win10</code>镜像 <a href="https://msdn.itellyou.cn/" target="_blank" rel="noopener">MSDN 地址</a><br><img src="/" class="lazyload" data-src="https://wxt.sinaimg.cn/mw690/0085UwQ9ly1gez12saeekj314l0m4n4l.jpg"  alt="镜像"><blockquote><p>不建议去一些啥系统之家下载 Ghost 之内的镜像，或者使用排名名列前茅的 制作启动盘工具，安全问题另说，系统肯定不会是纯净的</p></blockquote></li><li>开始制作<blockquote><p>分区类型默认 <code>MBR</code>，如果你需要 <code>UEFI</code> 引导的话可更改，但磁盘格式得一致<br><img src="/" class="lazyload" data-src="https://wxt.sinaimg.cn/mw690/0085UwQ9ly1gez12mx0l4j30iw0i275r.jpg"  alt=""></p></blockquote></li><li>插入 U盘，开始引导<blockquote><p>一般主板都是 <code>F12</code>找到 U盘，回车进入即可</p></blockquote></li><li>图找不到了 ~，开始时一直点击下一步即可，如果遇到 <code>缺少计算机所需的介质驱动程序</code><br><img src="/" class="lazyload" data-src="https://wxt.sinaimg.cn/mw690/0085UwQ9ly1gez0jaojbjj30g40lh75a.jpg"  alt="无驱动"></li></ol><ul><li>返回到刚开始的步骤点击 <code>修复</code> =&gt; <code>疑难问答</code> =&gt; <code>命令提示符</code></li><li>打开 <code>命令提示符</code>之后记住需要插拔<code>U盘</code>，这一步必须有</li><li>输入 <code>setup.exe</code>, 回车</li></ul><ol start="5"><li>到这里应该可以进入选系统版本和系统盘的步骤，接着等待 Windows 安装即可</li><li>安装完成，如果顺利会直接进入系统，否则可能会出现 <code>Windows 安装程序无法将 Windows 配置为此计算机的硬件上运行</code><br><img src="/" class="lazyload" data-src="https://wxt.sinaimg.cn/mw690/0085UwQ9ly1gez0aa04wej30fa098mx9.jpg"  alt="重装错误"></li></ol><ul><li>两个方法，推荐方法2</li><li>方法1： 此时按住 <code>shift + F10</code>，命令行输入 <code>cd oobe</code> 回车，<code>msoobe.exe</code>，欧皇进系统，非酋会卡在 <code>海内存知己，天涯若比邻</code><br><img src="/" class="lazyload" data-src="https://wxt.sinaimg.cn/mw690/0085UwQ9ly1gez0cz83r3j30i30dhaan.jpg"  alt="海内存知己，天涯若比邻"></li><li>方法2：方法1卡在那就别等了，还是刚刚那个页面 <code>shift + F10</code><figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 1. 进入到 C 盘的根目录</span></span><br><span class="line">cd /</span><br><span class="line"><span class="meta">#</span><span class="bash"> 2. 打开注册表修改 HKLM/SYSTEM/setup 内的所有行的数值键为 0。（HKLM 为表名HKEY_LOCAL_MACHINE的缩写）</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 输入 regedit，tab，回车，打开注册表</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 3. 生成用户，按顺序输入，每行回车</span></span><br><span class="line">net user boringsoft /add</span><br><span class="line">net user boringsoft /active</span><br><span class="line">net localgroup administrators boringsoft /add</span><br><span class="line"><span class="meta">#</span><span class="bash"> 最后重启系统</span></span><br><span class="line">shutdown -r -t 0</span><br></pre></td></tr></table></figure></li></ul><h1 id="重装完成"><a href="#重装完成" class="headerlink" title="重装完成"></a>重装完成</h1><blockquote><p>如果有遇到点击关机后有回到用户登录页面的情况方法如下：</p></blockquote><ul><li>右键<code>电脑</code>，<code>属性</code>，<code>高级系统设置</code></li><li>点击 <code>启动和故障修复</code>，关闭 <code>自动重新启动</code>，<code>写入调试信息</code>选<code>无</code></li></ul>]]></content>
      
      
      <categories>
          
          <category> 系统重装 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>算法- js 二叉树，二叉查找树的基本实现及递归与循环的版本</title>
      <link href="/2020/05/20/ms-binaryTree/"/>
      <url>/2020/05/20/ms-binaryTree/</url>
      
        <content type="html"><![CDATA[<h1 id="二叉树"><a href="#二叉树" class="headerlink" title="二叉树"></a>二叉树</h1><blockquote><p>二叉树是一种属性结构，它的特点是每个节点最多只有两个分支节点，一颗二叉树通常由根节点，分支节点，叶节点组成，而每个分支节点也常常被称作为一颗子树。</p></blockquote><p><img src="/" class="lazyload" data-src="https://ss0.baidu.com/6ONWsjip0QIZ8tyhnq/it/u=1139422521,2060217416&fm=173&app=49&f=JPEG?w=640&h=330&s=4DA03C721982594758FC01CA0000C0B2"  alt="image"></p><ul><li>根节点：二叉树最顶层的节点</li><li>分支节点：除了根节点以外且拥有叶子节点</li><li>叶节点：除了自身没有其他节点</li><li>中节点：当前节点的父节点（中序遍历）</li><li>层</li><li><ul><li>根的层次为0（一般来说），根的直接左右孩子层次为1，以此类推逐渐递增</li></ul></li><li>度</li><li><ul><li><ol><li>二叉树节点的度数指该节点所含子树的个数</li></ol></li></ul></li><li><ul><li><ol start="2"><li>二叉树的深度是指所有节点中最深节点（叶节点）所在层数</li></ol></li></ul></li></ul><p><strong>常用术语：</strong> 在二叉树中，我们常常用父节点和子节点来描述，你如图中的2为6和3的父节点，反之6和3是2的子节点</p><h1 id="二叉树的三个性质"><a href="#二叉树的三个性质" class="headerlink" title="二叉树的三个性质"></a>二叉树的三个性质</h1><ol><li>在二叉树的第 i 层上，之多有 2 ^ (i - 1) 个节点</li><li>i=1时，只有一个根节点，2^(i-1) = 2^0 = 1<br>深度为k的二叉树至多有2^k-1个节点.</li><li>i=2时，2^k-1 = 2^2 - 1 = 3个节点<br>对任何一棵二叉树T，如果总结点数为n0，度为2(子树数目为2)的节点数为n2,则n0=n2+1</li></ol><h1 id="树和二叉树的三个主要区别"><a href="#树和二叉树的三个主要区别" class="headerlink" title="树和二叉树的三个主要区别"></a>树和二叉树的三个主要区别</h1><ol><li>树的节点个数至少为1，而二叉树的节点个数可以为0</li><li>树中节点的最大度数（节点数量）没有限制，而二叉树的节点最大度为 2</li><li>树的节点没有左右之分</li></ol><blockquote><p>二叉树分为完全二叉树（complete binary tree）和 满二叉树</p></blockquote><ul><li>二叉查找树 或 二叉搜索树</li><li>满二叉树：一颗深度为 k 且有 2 ^ k - 1个节点二叉树称为满二叉树</li><li>完全二叉树：最后一层左边是满的，右边可能满也可能不满，然后其余层都是满的二叉树称为完全二叉树（满二叉树也是一种完全二叉树）</li></ul><p><img src="/" class="lazyload" data-src="https://ss0.baidu.com/6ONWsjip0QIZ8tyhnq/it/u=3927680712,2787270813&fm=173&app=49&f=JPEG?w=640&h=245&s=59AC3C7213D44C614EF9E4DA0000C0B1"  alt="image"></p><h1 id="二叉树的数组展示"><a href="#二叉树的数组展示" class="headerlink" title="二叉树的数组展示"></a>二叉树的数组展示</h1><blockquote><p>用一个数组来展示二叉树的结构，将一组数组从根节点开始从上到下，从左到右一次填入一颗完全二叉树中</p></blockquote><p><img src="/" class="lazyload" data-src="https://ss0.baidu.com/6ONWsjip0QIZ8tyhnq/it/u=2764211988,3840172961&fm=173&app=49&f=JPEG?w=640&h=222&s=0D2874328FE26D2258D01CD20000C0B1"  alt="image"></p><p><strong>通过上图可以分析得到数组表示的完全二叉树有以下几个性质</strong></p><ul><li><code>left = index * 2 + 1</code>，例如：根节点的下标为 0，则左节点的值为下标：arrary[0 * 2 + 1] = 1</li><li><code>right = idnex * 2 + 2</code>，例如：根节点的下标为 0，则有节点的值为下标：array[index * 2 + 2]</li><li>序数 &gt;= floor(N / 2) 都是叶节点，例如：floor(9 / 2) = 4</li></ul><h1 id="二叉搜索树"><a href="#二叉搜索树" class="headerlink" title="二叉搜索树"></a>二叉搜索树</h1><ul><li>若左子树不为空，则左子树上所有的节点值均小于它的根节点的值；</li><li>若有子树不为空，则右子树上所有节点的值均大于它的根节点的值</li><li>左右子树也分别为二叉排序树</li><li>没有键相等的节点</li></ul><p><img src="/" class="lazyload" data-src="https://wx1.sinaimg.cn/mw690/0085UwQ9ly1geywwtpaauj30cm09it99.jpg"  alt="二叉搜索树"></p><h2 id="根据上图首先定义相关方法"><a href="#根据上图首先定义相关方法" class="headerlink" title="根据上图首先定义相关方法"></a>根据上图首先定义相关方法</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BinaryTree</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> data = [<span class="number">6</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">12</span>, <span class="number">1</span>, <span class="number">22</span>];</span><br><span class="line"><span class="keyword">const</span> tree = <span class="keyword">new</span> BinaryTree(&#123;data&#125;);</span><br></pre></td></tr></table></figure><h2 id="添加节点"><a href="#添加节点" class="headerlink" title="添加节点"></a>添加节点</h2><blockquote><p>根据上面的特性添加节点</p></blockquote><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BinaryTree</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 定义基础节点</span></span><br><span class="line">    <span class="keyword">static</span> Node = <span class="function"><span class="params">key</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        key,</span><br><span class="line">        left: <span class="literal">null</span>,</span><br><span class="line">        right: <span class="literal">null</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;    </span><br><span class="line"></span><br><span class="line">    <span class="keyword">constructor</span>(&#123;data = []&#125; = &#123;&#125;) &#123;</span><br><span class="line">      <span class="keyword">this</span>.root = <span class="literal">null</span>;</span><br><span class="line">      <span class="keyword">if</span> (data.length) &#123;</span><br><span class="line">        data.forEach(<span class="function"><span class="params">key</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">this</span>.insertNode(key);</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 插入节点, 首次判断是否为根节点</span></span><br><span class="line">    insertNode(key) &#123;</span><br><span class="line">      <span class="keyword">const</span> node = BinaryTree.Node(key);</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">this</span>.root === <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">this</span>.root = node;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.insertNodeInTree(<span class="keyword">this</span>.root, node)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 往树中插入节点</span></span><br><span class="line">    <span class="comment">// 并约定右子树的值永远大于左子树</span></span><br><span class="line">    insertNodeInTree(node, newNode) &#123;</span><br><span class="line">      <span class="comment">// 往当前节点的右子树插入</span></span><br><span class="line">      <span class="keyword">if</span> (newNode.key &gt; node.key) &#123;</span><br><span class="line">        <span class="comment">// 当前没有右子树</span></span><br><span class="line">        <span class="keyword">if</span> (node.right === <span class="literal">null</span>) &#123;</span><br><span class="line">          node.right = newNode</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="keyword">this</span>.insertNodeInTree(node.right, newNode);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123; <span class="comment">// 左边做相同的操作</span></span><br><span class="line">        <span class="comment">// 当前没有左子树</span></span><br><span class="line">        <span class="keyword">if</span> (node.left === <span class="literal">null</span>) &#123;</span><br><span class="line">          node.left = newNode</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="keyword">this</span>.insertNodeInTree(node.left, newNode);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="二叉树的遍历算法"><a href="#二叉树的遍历算法" class="headerlink" title="二叉树的遍历算法"></a>二叉树的遍历算法</h2><ul><li>图中中序遍历结果：1 2 3 4 6 7 8 9 12 22</li><li>图中前序遍历结果：6 2 1 3 4 9 8 7 12 22</li><li>图中后序遍历结果：1 4 3 2 7 8 22 12 9 6</li></ul><h3 id="中序遍历（递归和循环）"><a href="#中序遍历（递归和循环）" class="headerlink" title="中序遍历（递归和循环）"></a>中序遍历（递归和循环）</h3><blockquote><p>先处理左节点（左子树），在处理中节点（父节点），最后处理右节点</p></blockquote><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BinaryTree</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 中序遍历</span></span><br><span class="line">    <span class="comment">// 先处理左节点（左子树），在处理中节点（当前节点的父节点），最后处理有节点（右子树），递归遍历所有节点</span></span><br><span class="line">    <span class="keyword">static</span> traverseNodesLDR(node, callback) &#123;</span><br><span class="line">      <span class="keyword">if</span> (node !== <span class="literal">null</span>) &#123;</span><br><span class="line">        BinaryTree.traverseNodesLDR(node.left, callback);</span><br><span class="line">        callback?.(node);</span><br><span class="line">        BinaryTree.traverseNodesLDR(node.right, callback)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 中序遍历 循环版</span></span><br><span class="line">    <span class="keyword">static</span> traverseNodesLDRforWhile(node, callback) &#123;</span><br><span class="line">      <span class="keyword">const</span> stack = [];</span><br><span class="line">      <span class="keyword">let</span> currentNode = node;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">while</span> (stack.length || currentNode) &#123;</span><br><span class="line">        <span class="comment">// 判断当前 node，存在就向 stack 中 push 当前的左子节点</span></span><br><span class="line">        <span class="keyword">if</span> (currentNode) &#123;</span><br><span class="line">          stack.push(currentNode);</span><br><span class="line">          currentNode = currentNode.left;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          currentNode = stack.pop();</span><br><span class="line">          callback?.(currentNode)</span><br><span class="line">          currentNode = currentNode.right;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="comment">// 中序遍历，左 =&gt; 中 =&gt; 右</span></span><br><span class="line">    LDR(callback) &#123;</span><br><span class="line">      <span class="comment">// BinaryTree.traverseNodesLDR(this.root, callback)</span></span><br><span class="line">      BinaryTree.traverseNodesLDRforWhile(<span class="keyword">this</span>.root, callback)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 中序遍历</span></span><br><span class="line">tree.LDR(<span class="function"><span class="keyword">function</span> (<span class="params">node</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(node);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="前序遍历（先序遍历）"><a href="#前序遍历（先序遍历）" class="headerlink" title="前序遍历（先序遍历）"></a>前序遍历（先序遍历）</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BinaryTree</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 前序遍历</span></span><br><span class="line">    <span class="comment">// 先处理 中节点（父节点），在处理左节点（左子节点），最后处理右节点（右子节点）</span></span><br><span class="line">    <span class="keyword">static</span> traverseNodesDLR(node, callback) &#123;</span><br><span class="line">      <span class="keyword">if</span> (node !== <span class="literal">null</span>) &#123;</span><br><span class="line">        callback?.(node);</span><br><span class="line">        BinaryTree.traverseNodesDLR(node.left, callback);</span><br><span class="line">        BinaryTree.traverseNodesDLR(node.right, callback);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 前序遍历 循环</span></span><br><span class="line">    <span class="keyword">static</span> traverseNodesDLRforWhile(node, callback) &#123;</span><br><span class="line">      <span class="keyword">let</span> currentNode = node;</span><br><span class="line">      <span class="keyword">const</span> stack = [currentNode];</span><br><span class="line"></span><br><span class="line">      <span class="keyword">while</span> (stack.length) &#123;</span><br><span class="line">        currentNode = stack.pop();</span><br><span class="line">        callback?.(currentNode);</span><br><span class="line">        <span class="comment">// 先 push right，pop 取得时候 left 即可在前</span></span><br><span class="line">        <span class="keyword">if</span> (currentNode.right) stack.push(currentNode.right);</span><br><span class="line">        <span class="keyword">if</span> (currentNode.left) stack.push(currentNode.left);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 前(先)序遍历 中 =&gt; 左 =&gt; 右</span></span><br><span class="line">    DLR(callback) &#123;</span><br><span class="line">      <span class="comment">// BinaryTree.traverseNodesDLR(this.root, callback)</span></span><br><span class="line">      BinaryTree.traverseNodesDLRforWhile(<span class="keyword">this</span>.root, callback)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">  <span class="comment">// 先序遍历</span></span><br><span class="line">  tree.DLR(<span class="function"><span class="keyword">function</span> (<span class="params">node</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(node);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><h3 id="后序遍历"><a href="#后序遍历" class="headerlink" title="后序遍历"></a>后序遍历</h3><blockquote><p>左 =&gt; 右 =&gt; 中</p></blockquote><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BinaryTree</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 后序列遍历</span></span><br><span class="line">    <span class="comment">// 先处理 左节点（右节点），在处理右节点（左节点）最后处理中节点</span></span><br><span class="line">    <span class="keyword">static</span> traverseNodesLRD(node, callback) &#123;</span><br><span class="line">      <span class="keyword">if</span> (node !== <span class="literal">null</span>) &#123;</span><br><span class="line">        BinaryTree.traverseNodesLRD(node.left, callback);</span><br><span class="line">        BinaryTree.traverseNodesLRD(node.right, callback);</span><br><span class="line">        callback?.(node);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 后序遍历 左，右，中</span></span><br><span class="line">    <span class="keyword">static</span> traverseNodesLRDForWhile(node, callback) &#123;</span><br><span class="line">      <span class="comment">// 标记叶节点，当遇到叶节点将返回他的父节点，标记下次循环时跳过当前叶节点</span></span><br><span class="line">      <span class="keyword">let</span> currentNode = node;</span><br><span class="line">      <span class="keyword">const</span> stack = [currentNode];</span><br><span class="line">      <span class="keyword">let</span> fNode = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">while</span> (stack.length) &#123;</span><br><span class="line">        fNode = stack[stack.length - <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span> (fNode.left &amp;&amp; currentNode !== fNode.left &amp;&amp; currentNode !== fNode.right) &#123;</span><br><span class="line">          stack.push(fNode.left);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (fNode.right &amp;&amp; currentNode !== fNode.right) &#123;</span><br><span class="line">          stack.push(fNode.right)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          callback?.(stack.pop());</span><br><span class="line">          currentNode = fNode;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 后续遍历 左 =&gt; 右 =&gt; 中</span></span><br><span class="line">    LRD(callback) &#123;</span><br><span class="line">      <span class="comment">// BinaryTree.traverseNodesLRD(this.root, callback);</span></span><br><span class="line">      BinaryTree.traverseNodesLRDForWhile(<span class="keyword">this</span>.root, callback);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 后序遍历</span></span><br><span class="line">  tree.LRD(<span class="function"><span class="keyword">function</span> (<span class="params">node</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(node);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><h2 id="查找最大值"><a href="#查找最大值" class="headerlink" title="查找最大值"></a>查找最大值</h2><blockquote><p>因为是搜索树，所以约定了右树是大的一边，所以找到右树中的叶节点即可（最小值同理）</p></blockquote><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BinaryTree</span> </span>&#123;</span><br><span class="line">    getMaxValue(callback) &#123;</span><br><span class="line">      <span class="comment">// this.traverseRight(this.root, callback)</span></span><br><span class="line">      <span class="keyword">this</span>.traverseRightForWhile(<span class="keyword">this</span>.root, callback)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    traverseRight(node, callback) &#123;</span><br><span class="line">      <span class="keyword">if</span> (node !== <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="comment">// 如果有右节点则继续递归，没有那当前就是最大值</span></span><br><span class="line">        <span class="keyword">if</span> (node.right !== <span class="literal">null</span>) &#123;</span><br><span class="line">          <span class="keyword">this</span>.traverseRight(node.right, callback);</span><br><span class="line">        &#125; <span class="keyword">else</span> callback?.(node)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        callback?.(<span class="string">'xxxx'</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 遍历右子树循环版</span></span><br><span class="line">    traverseRightForWhile(node, callback) &#123;</span><br><span class="line">      <span class="keyword">let</span> currentNode = node;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">while</span> (currentNode) &#123;</span><br><span class="line">        <span class="keyword">if</span> (currentNode.right) currentNode = currentNode.right;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">          callback?.(currentNode);</span><br><span class="line">          currentNode = <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  tree.getMaxValue(<span class="function"><span class="keyword">function</span> (<span class="params">node</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(node);</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure><h2 id="查找最小值"><a href="#查找最小值" class="headerlink" title="查找最小值"></a>查找最小值</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BinaryTree</span> </span>&#123;</span><br><span class="line">   <span class="comment">// 获取最小值</span></span><br><span class="line">    getMinValue(callback) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.traverseLeft(<span class="keyword">this</span>.root, callback)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    traverseLeft(node, callback) &#123;</span><br><span class="line">      !callback &amp;&amp; <span class="built_in">console</span>.log(node, <span class="string">'node'</span>);</span><br><span class="line">      <span class="keyword">if</span> (node !== <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (node.left !== <span class="literal">null</span>) &#123;</span><br><span class="line">          <span class="keyword">if</span> (callback) <span class="keyword">this</span>.traverseLeft(node.left, callback);</span><br><span class="line">          <span class="keyword">else</span> <span class="keyword">return</span> <span class="keyword">this</span>.traverseLeft(node.left, callback);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="keyword">if</span> (callback) callback?.(node)</span><br><span class="line">          <span class="keyword">else</span> <span class="keyword">return</span> node</span><br><span class="line">        &#125;</span><br><span class="line">      &#125; <span class="keyword">else</span> callback?.(<span class="string">'xxxx'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">  tree.getMinValue(<span class="function"><span class="keyword">function</span> (<span class="params">node</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(node);</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure><h2 id="查找指定的值"><a href="#查找指定的值" class="headerlink" title="查找指定的值"></a>查找指定的值</h2><blockquote><p>当传入的 <code>key</code> 大于根节点则只需在右子树中寻找，反之同理</p></blockquote><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BinaryTree</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 查找指定 key</span></span><br><span class="line">    findNode(targetKey) &#123;</span><br><span class="line">      <span class="comment">// return this.traverseNode(this.root, targetKey);</span></span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.traverseNodeForWhile(<span class="keyword">this</span>.root, targetKey);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 遍历树，如果指定的 key 小于根节点则继续遍历左节点反之亦然</span></span><br><span class="line">    traverseNode(node, targetKey) &#123;</span><br><span class="line">      <span class="keyword">if</span> (node !== <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="comment">// 目标存在于 右子树</span></span><br><span class="line">        <span class="keyword">if</span> (targetKey &gt; node.key) &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="keyword">this</span>.traverseNode(node.right, targetKey);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (targetKey &lt; node.key) &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="keyword">this</span>.traverseNode(node.left, targetKey);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="keyword">return</span> node;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 查找指定的值 循环版</span></span><br><span class="line">    traverseNodeForWhile(node, targetKey) &#123;</span><br><span class="line">      <span class="keyword">let</span> currentNode = node;</span><br><span class="line">      <span class="keyword">let</span> resultNode = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">while</span> (currentNode) &#123;</span><br><span class="line">        <span class="keyword">if</span> (targetKey &gt; currentNode.key) currentNode = currentNode.right;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (targetKey &lt; currentNode.key) currentNode = currentNode.left;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">          resultNode = currentNode;</span><br><span class="line">          currentNode = <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> resultNode;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 查找指定的值</span></span><br><span class="line">  <span class="keyword">const</span> target = tree.findNode(<span class="number">22</span>);</span><br></pre></td></tr></table></figure><h2 id="删除节点"><a href="#删除节点" class="headerlink" title="删除节点"></a>删除节点</h2><ul><li>删除叶节点：把当前节点设为 null</li><li>删除仅包含 左子节点 的中节点：把当前节点赋值为左子节点即可（单右节点同理）</li><li>删除包含左右节点的值：为了让其继续维持约定，所以被替换的值最合适的为当前节点的右节点中最小的值，赋值的同时并删除右边最小的值</li></ul><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BinaryTree</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 删除节点</span></span><br><span class="line">    removeNode(key) &#123;</span><br><span class="line">      <span class="keyword">this</span>.removeNodeByKey(<span class="keyword">this</span>.root, key)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    removeNodeByKey(node, key) &#123;</span><br><span class="line">      <span class="keyword">if</span> (node === <span class="literal">null</span>) <span class="keyword">return</span> node;</span><br><span class="line">      <span class="comment">// 找到指定节点</span></span><br><span class="line">      <span class="keyword">if</span> (key &gt; node.key) &#123;</span><br><span class="line">        node.right = <span class="keyword">this</span>.removeNodeByKey(node.right, key);</span><br><span class="line">        <span class="keyword">return</span> node;</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (key &lt; node.key) &#123;</span><br><span class="line">        node.left = <span class="keyword">this</span>.removeNodeByKey(node.left, key);</span><br><span class="line">        <span class="keyword">return</span> node;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// 叶节点处理</span></span><br><span class="line">      <span class="keyword">if</span> (node.left === <span class="literal">null</span> &amp;&amp; node.right === <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> node = <span class="literal">null</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// 删除只有右子树的节点</span></span><br><span class="line">      <span class="comment">// 只要把右子树赋值上去即可</span></span><br><span class="line">      <span class="keyword">if</span> (node.left === <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> node = node.right;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 删除只有左子树的节点</span></span><br><span class="line">      <span class="comment">// 操作同上</span></span><br><span class="line">      <span class="keyword">if</span> (node.right === <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> node = node.left;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 删除包含左右子节点的节点</span></span><br><span class="line">      <span class="comment">// 为了让继续维持约定，所以被替换的值最合适的为当前节点的右节点中最小的值，赋值的同时并删除右边最小的值</span></span><br><span class="line">      <span class="keyword">const</span> minValue = <span class="keyword">this</span>.traverseLeft(node.right)</span><br><span class="line">      node.key = minValue.key;</span><br><span class="line">      node.right = <span class="keyword">this</span>.removeNodeByKey(node.right, minValue.key)</span><br><span class="line">      <span class="keyword">return</span> node</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(tree.removeNode(<span class="number">9</span>));</span><br></pre></td></tr></table></figure><h1 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BinaryTree</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> Node = <span class="function"><span class="params">key</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      key,</span><br><span class="line">      left: <span class="literal">null</span>,</span><br><span class="line">      right: <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 中序遍历</span></span><br><span class="line">  <span class="comment">// 先处理左节点（左子树），在处理中节点（当前节点的父节点），最后处理有节点（右子树），递归遍历所有节点</span></span><br><span class="line">  <span class="keyword">static</span> traverseNodesLDR(node, callback) &#123;</span><br><span class="line">    <span class="keyword">if</span> (node !== <span class="literal">null</span>) &#123;</span><br><span class="line">      BinaryTree.traverseNodesLDR(node.left, callback);</span><br><span class="line">      callback?.(node);</span><br><span class="line">      BinaryTree.traverseNodesLDR(node.right, callback)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 中序遍历 循环版</span></span><br><span class="line">  <span class="comment">// 左 =&gt; 中 =&gt; 右</span></span><br><span class="line">  <span class="comment">//     6</span></span><br><span class="line">  <span class="comment">//   2   9</span></span><br><span class="line">  <span class="comment">//  1 3 8  12</span></span><br><span class="line">  <span class="comment">//    4 7   22</span></span><br><span class="line">  <span class="comment">//</span></span><br><span class="line">  <span class="keyword">static</span> traverseNodesLDRforWhile(node, callback) &#123;</span><br><span class="line">    <span class="keyword">const</span> stack = [];</span><br><span class="line">    <span class="keyword">let</span> currentNode = node;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (stack.length || currentNode) &#123;</span><br><span class="line">      <span class="comment">// 判断当前 node，存在就向 stack 中 push 当前的左子节点</span></span><br><span class="line">      <span class="keyword">if</span> (currentNode) &#123;</span><br><span class="line">        stack.push(currentNode);</span><br><span class="line">        currentNode = currentNode.left;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        currentNode = stack.pop();</span><br><span class="line">        callback?.(currentNode)</span><br><span class="line">        currentNode = currentNode.right;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 前序遍历</span></span><br><span class="line">  <span class="comment">// 先处理 中节点（父节点），在处理左节点（左子节点），最后处理右节点（右子节点）</span></span><br><span class="line">  <span class="keyword">static</span> traverseNodesDLR(node, callback) &#123;</span><br><span class="line">    <span class="keyword">if</span> (node !== <span class="literal">null</span>) &#123;</span><br><span class="line">      callback?.(node);</span><br><span class="line">      BinaryTree.traverseNodesDLR(node.left, callback);</span><br><span class="line">      BinaryTree.traverseNodesDLR(node.right, callback);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 前序遍历 循环</span></span><br><span class="line">  <span class="comment">// 中 左 右</span></span><br><span class="line">  <span class="comment">//     6</span></span><br><span class="line">  <span class="comment">//   2   9</span></span><br><span class="line">  <span class="comment">//  1 3 8  12</span></span><br><span class="line">  <span class="comment">//    4 7   22</span></span><br><span class="line">  <span class="keyword">static</span> traverseNodesDLRforWhile(node, callback) &#123;</span><br><span class="line">    <span class="keyword">let</span> currentNode = node;</span><br><span class="line">    <span class="keyword">const</span> stack = [currentNode];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (stack.length) &#123;</span><br><span class="line">      currentNode = stack.pop();</span><br><span class="line">      callback?.(currentNode);</span><br><span class="line">      <span class="comment">// 先 push right，pop 取得时候 left 即可在前</span></span><br><span class="line">      <span class="keyword">if</span> (currentNode.right) stack.push(currentNode.right);</span><br><span class="line">      <span class="keyword">if</span> (currentNode.left) stack.push(currentNode.left);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 后序列遍历</span></span><br><span class="line">  <span class="comment">// 先处理 左节点（右节点），在处理右节点（左节点）最后处理中节点</span></span><br><span class="line">  <span class="keyword">static</span> traverseNodesLRD(node, callback) &#123;</span><br><span class="line">    <span class="keyword">if</span> (node !== <span class="literal">null</span>) &#123;</span><br><span class="line">      BinaryTree.traverseNodesLRD(node.left, callback);</span><br><span class="line">      BinaryTree.traverseNodesLRD(node.right, callback);</span><br><span class="line">      callback?.(node);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 后序遍历 左，右，中</span></span><br><span class="line">  <span class="comment">//     6</span></span><br><span class="line">  <span class="comment">//   2   9</span></span><br><span class="line">  <span class="comment">//  1 3 8  12</span></span><br><span class="line">  <span class="comment">//    4 7   22</span></span><br><span class="line">  <span class="keyword">static</span> traverseNodesLRDForWhile(node, callback) &#123;</span><br><span class="line">    <span class="comment">// 标记叶节点，当遇到叶节点将返回他的父节点，标记下次循环时跳过当前叶节点</span></span><br><span class="line">    <span class="keyword">let</span> currentNode = node;</span><br><span class="line">    <span class="keyword">const</span> stack = [currentNode];</span><br><span class="line">    <span class="keyword">let</span> fNode = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (stack.length) &#123;</span><br><span class="line">      fNode = stack[stack.length - <span class="number">1</span>];</span><br><span class="line">      <span class="keyword">if</span> (fNode.left &amp;&amp; currentNode !== fNode.left &amp;&amp; currentNode !== fNode.right) &#123;</span><br><span class="line">        stack.push(fNode.left);</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (fNode.right &amp;&amp; currentNode !== fNode.right) &#123;</span><br><span class="line">        stack.push(fNode.right)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        callback?.(stack.pop());</span><br><span class="line">        currentNode = fNode;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span>(&#123;data = []&#125; = &#123;&#125;) &#123;</span><br><span class="line">    <span class="keyword">this</span>.root = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">if</span> (data.length) &#123;</span><br><span class="line">      data.forEach(<span class="function"><span class="params">key</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.insertNode(key);</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 插入节点, 首次判断是否为根节点</span></span><br><span class="line">  insertNode(key) &#123;</span><br><span class="line">    <span class="keyword">const</span> node = BinaryTree.Node(key);</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.root === <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="keyword">this</span>.root = node;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">this</span>.insertNodeInTree(<span class="keyword">this</span>.root, node)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 往树中插入节点</span></span><br><span class="line">  <span class="comment">// 并预定右子树的值永远大于左子树</span></span><br><span class="line">  insertNodeInTree(node, newNode) &#123;</span><br><span class="line">    <span class="comment">// 往当前节点的右子树插入</span></span><br><span class="line">    <span class="keyword">if</span> (newNode.key &gt; node.key) &#123;</span><br><span class="line">      <span class="comment">// 当前没有右子树</span></span><br><span class="line">      <span class="keyword">if</span> (node.right === <span class="literal">null</span>) &#123;</span><br><span class="line">        node.right = newNode</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.insertNodeInTree(node.right, newNode);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123; <span class="comment">// 左边做相同的操作</span></span><br><span class="line">      <span class="comment">// 当前没有右子树</span></span><br><span class="line">      <span class="keyword">if</span> (node.left === <span class="literal">null</span>) &#123;</span><br><span class="line">        node.left = newNode</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.insertNodeInTree(node.left, newNode);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 中序遍历，左 =&gt; 中 =&gt; 右</span></span><br><span class="line">  LDR(callback) &#123;</span><br><span class="line">    <span class="comment">// BinaryTree.traverseNodesLDR(this.root, callback)</span></span><br><span class="line">    BinaryTree.traverseNodesLDRforWhile(<span class="keyword">this</span>.root, callback)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 前(先)序遍历 中 =&gt; 左 =&gt; 右</span></span><br><span class="line">  DLR(callback) &#123;</span><br><span class="line">    <span class="comment">// BinaryTree.traverseNodesDLR(this.root, callback)</span></span><br><span class="line">    BinaryTree.traverseNodesDLRforWhile(<span class="keyword">this</span>.root, callback)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 后续遍历 左 =&gt; 右 =&gt; 中</span></span><br><span class="line">  LRD(callback) &#123;</span><br><span class="line">    <span class="comment">// BinaryTree.traverseNodesLRD(this.root, callback);</span></span><br><span class="line">    BinaryTree.traverseNodesLRDForWhile(<span class="keyword">this</span>.root, callback);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 获取树中最大的节点，有限遍历右节点</span></span><br><span class="line">  getMaxValue(callback) &#123;</span><br><span class="line">    <span class="comment">// this.traverseRight(this.root, callback)</span></span><br><span class="line">    <span class="keyword">this</span>.traverseRightForWhile(<span class="keyword">this</span>.root, callback)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 获取最小值</span></span><br><span class="line">  getMinValue(callback) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.traverseLeft(<span class="keyword">this</span>.root, callback)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 遍历右子树</span></span><br><span class="line">  traverseRight(node, callback) &#123;</span><br><span class="line">    <span class="keyword">if</span> (node !== <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="comment">// 如果有右节点则继续递归，没有那当前就是最大值</span></span><br><span class="line">      <span class="keyword">if</span> (node.right !== <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">this</span>.traverseRight(node.right, callback);</span><br><span class="line">      &#125; <span class="keyword">else</span> callback?.(node)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      callback?.(<span class="string">'xxxx'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 遍历右子树循环版</span></span><br><span class="line">  traverseRightForWhile(node, callback) &#123;</span><br><span class="line">    <span class="keyword">let</span> currentNode = node;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (currentNode) &#123;</span><br><span class="line">      <span class="keyword">if</span> (currentNode.right) currentNode = currentNode.right;</span><br><span class="line">      <span class="keyword">else</span> &#123;</span><br><span class="line">        callback?.(currentNode);</span><br><span class="line">        currentNode = <span class="literal">null</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 遍历左子树</span></span><br><span class="line">  traverseLeft(node, callback) &#123;</span><br><span class="line">    !callback &amp;&amp; <span class="built_in">console</span>.log(node, <span class="string">'node'</span>);</span><br><span class="line">    <span class="keyword">if</span> (node !== <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (node.left !== <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (callback) <span class="keyword">this</span>.traverseLeft(node.left, callback);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> <span class="keyword">this</span>.traverseLeft(node.left, callback);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (callback) callback?.(node)</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> node</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> callback?.(<span class="string">'xxxx'</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 查找指定 key</span></span><br><span class="line">  findNode(targetKey) &#123;</span><br><span class="line">    <span class="comment">// return this.traverseNode(this.root, targetKey);</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.traverseNodeForWhile(<span class="keyword">this</span>.root, targetKey);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 遍历树，如果指定的 key 小于根节点则继续遍历左节点反之亦然</span></span><br><span class="line">  traverseNode(node, targetKey) &#123;</span><br><span class="line">    <span class="keyword">if</span> (node !== <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="comment">// 目标存在于 右子树</span></span><br><span class="line">      <span class="keyword">if</span> (targetKey &gt; node.key) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.traverseNode(node.right, targetKey);</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (targetKey &lt; node.key) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.traverseNode(node.left, targetKey);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> node;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 查找指定的值 循环版</span></span><br><span class="line">  traverseNodeForWhile(node, targetKey) &#123;</span><br><span class="line">    <span class="keyword">let</span> currentNode = node;</span><br><span class="line">    <span class="keyword">let</span> resultNode = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (currentNode) &#123;</span><br><span class="line">      <span class="keyword">if</span> (targetKey &gt; currentNode.key) currentNode = currentNode.right;</span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span> (targetKey &lt; currentNode.key) currentNode = currentNode.left;</span><br><span class="line">      <span class="keyword">else</span> &#123;</span><br><span class="line">        resultNode = currentNode;</span><br><span class="line">        currentNode = <span class="literal">null</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> resultNode;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 删除节点</span></span><br><span class="line">  removeNode(key) &#123;</span><br><span class="line">    <span class="keyword">this</span>.removeNodeByKey(<span class="keyword">this</span>.root, key)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 1. 删除的节点为 叶节点：直接指向 null</span></span><br><span class="line"><span class="comment">   * 2. 删除的节点仅包含一个子节点：</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  removeNodeByKey(node, key) &#123;</span><br><span class="line">    <span class="keyword">if</span> (node === <span class="literal">null</span>) <span class="keyword">return</span> node;</span><br><span class="line">    <span class="comment">// 找到指定节点</span></span><br><span class="line">    <span class="keyword">if</span> (key &gt; node.key) &#123;</span><br><span class="line">      node.right = <span class="keyword">this</span>.removeNodeByKey(node.right, key);</span><br><span class="line">      <span class="keyword">return</span> node;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (key &lt; node.key) &#123;</span><br><span class="line">      node.left = <span class="keyword">this</span>.removeNodeByKey(node.left, key);</span><br><span class="line">      <span class="keyword">return</span> node;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 叶节点处理</span></span><br><span class="line">    <span class="keyword">if</span> (node.left === <span class="literal">null</span> &amp;&amp; node.right === <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> node = <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 删除只有右子树的节点</span></span><br><span class="line">    <span class="comment">// 只要把右子树赋值上去即可</span></span><br><span class="line">    <span class="keyword">if</span> (node.left === <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> node = node.right;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 删除只有左子树的节点</span></span><br><span class="line">    <span class="comment">// 操作同上</span></span><br><span class="line">    <span class="keyword">if</span> (node.right === <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> node = node.left;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 删除包含左右子节点的节点</span></span><br><span class="line">    <span class="comment">// 为了让继续维持约定，所以被替换的值最合适的为当前节点的右节点中最小的值，赋值的同时并删除右边最小的值</span></span><br><span class="line">    <span class="keyword">const</span> minValue = <span class="keyword">this</span>.traverseLeft(node.right)</span><br><span class="line">    node.key = minValue.key;</span><br><span class="line">    node.right = <span class="keyword">this</span>.removeNodeByKey(node.right, minValue.key)</span><br><span class="line">    <span class="keyword">return</span> node</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//     6</span></span><br><span class="line"><span class="comment">//   2   9</span></span><br><span class="line"><span class="comment">//  1 3 8  12</span></span><br><span class="line"><span class="comment">//    4 7 11 22</span></span><br><span class="line"><span class="comment">//          21</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">const</span> data = [<span class="number">6</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">12</span>, <span class="number">1</span>, <span class="number">22</span>, <span class="number">21</span>, <span class="number">11</span>];</span><br><span class="line"><span class="keyword">const</span> tree = <span class="keyword">new</span> BinaryTree(&#123;data&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(tree);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 中序遍历</span></span><br><span class="line">tree.LDR(<span class="function"><span class="keyword">function</span> (<span class="params">node</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// console.log(node);</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 先序遍历</span></span><br><span class="line">tree.DLR(<span class="function"><span class="keyword">function</span> (<span class="params">node</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// console.log(node);</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 后序遍历</span></span><br><span class="line">tree.LRD(<span class="function"><span class="keyword">function</span> (<span class="params">node</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// console.log(node);</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 查找最大值</span></span><br><span class="line">tree.getMaxValue(<span class="function"><span class="keyword">function</span> (<span class="params">node</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// console.log(node);</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 查找 最小值</span></span><br><span class="line">tree.getMinValue(<span class="function"><span class="keyword">function</span> (<span class="params">node</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// console.log(node);</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 查找指定的值</span></span><br><span class="line"><span class="keyword">const</span> target = tree.findNode(<span class="number">22</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 删除指定值</span></span><br><span class="line"><span class="built_in">console</span>.log(tree.removeNode(<span class="number">9</span>));</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 二叉树 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>异或运算符 ^ 理解与应用</title>
      <link href="/2020/05/14/ms-xor/"/>
      <url>/2020/05/14/ms-xor/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon">            <p>简单搞一题</p>          </div><h1 id="异或运算符"><a href="#异或运算符" class="headerlink" title="异或运算符 ^"></a>异或运算符 ^</h1><h2 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h2><ol><li>交换律：a ^ b ^ c &lt;=&gt; a ^ c ^ b</li><li>任何数与 0 异或，为任何数：0 ^ n =&gt; n</li><li>相同的数异或为 0</li></ol><h1 id="搞一题"><a href="#搞一题" class="headerlink" title="搞一题"></a>搞一题</h1><blockquote><p>给定一个非空整数数组，除了某个元素只出现一次以外，其余每个元素均出现两次。找出那个只出现了一次的元素。<br>说明：<br>你的算法应该具有线性时间复杂度。 你可以不使用额外空间来实现吗？</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">输入: [2,2,1]</span><br><span class="line">输出: 1</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> singleNumber = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> xor;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">    xor ^= nums[i]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>根据<code>特性 1</code>，所以上面的可以理解为<br>2 ^ 2 ^ 1 =&gt; 0 ^ 1 =&gt; 1</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 面试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 异或运算 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>面试 - js 在指定数组中找出不重复的两数之和为 target</title>
      <link href="/2020/05/14/ms-twoSum/"/>
      <url>/2020/05/14/ms-twoSum/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon">            <p>简单搞一题，逆思维解法</p>          </div><h1 id="原题"><a href="#原题" class="headerlink" title="原题"></a>原题</h1><blockquote><p>给定一个整数数组 nums 和一个目标值 target，请你在该数组中找出和为目标值的那 两个 整数，并返回他们的数组下标。<br>  你可以假设每种输入只会对应一个答案。但是，数组中同一个元素不能使用两遍。</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">给定 nums &#x3D; [2, 7, 11, 15], target &#x3D; 9</span><br><span class="line"></span><br><span class="line">因为 nums[0] + nums[1] &#x3D; 2 + 7 &#x3D; 9</span><br><span class="line">所以返回 [0, 1]</span><br></pre></td></tr></table></figure><h1 id="解"><a href="#解" class="headerlink" title="解"></a>解</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> twoSum1 = <span class="function"><span class="keyword">function</span>(<span class="params">nums, target</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, length = nums.length; i &lt; length; i++) &#123;</span><br><span class="line">    <span class="keyword">const</span> current = nums[i];</span><br><span class="line">    <span class="keyword">const</span> diff = target - current;</span><br><span class="line">    <span class="keyword">if</span> (diff === current) <span class="keyword">continue</span>;</span><br><span class="line">    <span class="keyword">const</span> tIndex = nums.lastIndexOf(diff);</span><br><span class="line">    <span class="keyword">if</span> (tIndex &gt; <span class="number">-1</span>) <span class="keyword">return</span> [i, tIndex]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>面试 - js 二分法，二分查找</title>
      <link href="/2020/05/14/ms-binarySearch/"/>
      <url>/2020/05/14/ms-binarySearch/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon">            <p>记录二分法</p>          </div><h1 id="二分法"><a href="#二分法" class="headerlink" title="二分法"></a>二分法</h1><blockquote><p>二分查找是一种高效搜索法，是一种可以在有序数组中搜索到特定元素的算法</p></blockquote><h2 id="优缺点"><a href="#优缺点" class="headerlink" title="优缺点"></a>优缺点</h2><ul><li>优：比较次数少，查找速度快，平均性能好，</li><li>缺: 要求待查表为有序表，且插入删除困难，</li></ul><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"> <span class="keyword">const</span> arr = [<span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">7</span>];</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">bubbleSort</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">if</span> (!arr.length) <span class="keyword">return</span> arr;</span><br><span class="line">   <span class="keyword">const</span> copyArr = arr.slice();</span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, length = copyArr.length; i &lt; length; i++) &#123;</span><br><span class="line">     <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; length - i - <span class="number">1</span>; j++) &#123;</span><br><span class="line">       <span class="keyword">const</span> current = copyArr[j];</span><br><span class="line">       <span class="keyword">const</span> next = copyArr[j + <span class="number">1</span>];</span><br><span class="line">       <span class="keyword">if</span> (current &gt; next) [copyArr[j], copyArr[j + <span class="number">1</span>]] = [next, current]</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> copyArr;</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"> <span class="keyword">const</span> sortArr = bubbleSort(arr);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 递归</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">binarySearch</span>(<span class="params">arr, num, low = <span class="number">0</span>, height = arr.length || <span class="number">0</span></span>) </span>&#123;</span><br><span class="line">   <span class="keyword">const</span> midIndex = <span class="built_in">Math</span>.floor((low + height) / <span class="number">2</span>)</span><br><span class="line">   <span class="keyword">const</span> midNum = arr[midIndex];</span><br><span class="line">   <span class="keyword">if</span> (midNum === num) <span class="keyword">return</span> [midIndex, midNum];</span><br><span class="line">   <span class="keyword">if</span> (midNum &gt; num) &#123;</span><br><span class="line">     height = midIndex - <span class="number">1</span>;</span><br><span class="line">     <span class="keyword">return</span> binarySearch(arr, num, low, height);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">if</span> (midNum &lt; num) &#123;</span><br><span class="line">     low = midIndex + <span class="number">1</span>;</span><br><span class="line">     <span class="keyword">return</span> binarySearch(arr, num, low, height);</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"> <span class="comment">// while</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">binarySearch1</span>(<span class="params">arr, num</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">let</span> start = <span class="number">0</span>, end = arr.length, midNum, midIndex;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">while</span> (start &lt;= end) &#123;</span><br><span class="line">     midIndex = <span class="built_in">Math</span>.floor((start + end) / <span class="number">2</span>);</span><br><span class="line">     midNum = arr[midIndex];</span><br><span class="line">     <span class="keyword">if</span> (midNum === num) <span class="keyword">return</span> &#123;midNum, midIndex&#125;</span><br><span class="line">     <span class="keyword">if</span> (midNum &gt; num) end = midIndex - <span class="number">1</span>;</span><br><span class="line">     <span class="keyword">else</span> <span class="keyword">if</span> (midNum &lt; num) start = midIndex + <span class="number">1</span></span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> binarySearch1(sortArr, <span class="number">3</span>)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 面试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 二分法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>面试- 头条的简单的一道面试题</title>
      <link href="/2020/05/13/js-ms-scoop/"/>
      <url>/2020/05/13/js-ms-scoop/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon">            <p>很简单~ 但是容易错~</p>          </div><h1 id="原题"><a href="#原题" class="headerlink" title="原题"></a>原题</h1><blockquote><p>执行代码求输出，并说明为什么，严格模式下输出有变化吗，为什么</p></blockquote><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;<span class="keyword">this</span>.b = <span class="number">3</span>;&#125;</span><br><span class="line"><span class="keyword">var</span> c = <span class="keyword">new</span> a();</span><br><span class="line">a.prototype.b = <span class="number">9</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="number">7</span>;</span><br><span class="line">a();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(b);</span><br><span class="line"><span class="built_in">console</span>.log(c.b);</span><br></pre></td></tr></table></figure><details>  <summary onclick="ga('send', 'event', 'open', 'click', 'ms-scoop');">    点击展开 console  </summary><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(b); <span class="comment">// 3</span></span><br><span class="line"><span class="built_in">console</span>.log(c.b); <span class="comment">// 3</span></span><br></pre></td></tr></table></figure></details><div class="note info no-icon">            <p>比较容易混淆的是可能不会注意到最后函数 <code>a</code> 的执行~</p>          </div>]]></content>
      
      
      <categories>
          
          <category> 面试 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>配置 React 源码的本地调试环境</title>
      <link href="/2020/05/13/react-source/"/>
      <url>/2020/05/13/react-source/</url>
      
        <content type="html"><![CDATA[<h1 id="配置-React-源码的本地调试环境"><a href="#配置-React-源码的本地调试环境" class="headerlink" title="配置 React 源码的本地调试环境"></a>配置 React 源码的本地调试环境</h1><ol><li>creat-react-app &lt;项目名称&gt;</li><li>yarn run eject</li><li>clone 官方源码（目前是 master latest）小版本可能会有些许异同，可以根据命令行的报错信息再去搜索（镜像 react 仓库，clone 慢的可以使用这个）</li></ol><h6 id="根目录中执行"><a href="#根目录中执行" class="headerlink" title="根目录中执行"></a>根目录中执行</h6><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git clone --depth=1 https://github.com.cnpmjs.org/facebook/react.git src/react</span><br></pre></td></tr></table></figure><h1 id="修改相关配置"><a href="#修改相关配置" class="headerlink" title="修改相关配置"></a>修改相关配置</h1><ol><li>链接本地源码<br><code>react/config/webpack.config.js</code></li></ol><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">resolve: &#123;</span><br><span class="line">    alias: &#123;</span><br><span class="line">        'react-native': 'react-native-web',</span><br><span class="line"><span class="deletion">-       ...(isEnvProductionProfile &amp;&amp; &#123;</span></span><br><span class="line"><span class="deletion">-         'react-dom$': 'react-dom/profiling',</span></span><br><span class="line"><span class="deletion">-         'scheduler/tracing': 'scheduler/tracing-profiling',</span></span><br><span class="line"><span class="deletion">-       &#125;),</span></span><br><span class="line"><span class="deletion">-       ...(modules.webpackAliases || &#123;&#125;),</span></span><br><span class="line">        </span><br><span class="line"><span class="addition">+        'react': path.resolve(__dirname, '../src/react/packages/react'),</span></span><br><span class="line"><span class="addition">+        'react-dom': path.resolve(__dirname, '../src/react/packages/react-dom'),</span></span><br><span class="line"><span class="addition">+        'shared': path.resolve(__dirname, '../src/react/packages/shared'),</span></span><br><span class="line"><span class="addition">+        'react-reconciler': path.resolve(__dirname, '../src/react/packages/react-reconciler'),</span></span><br><span class="line">         'react-events': path.resolve(__dirname, '../src/react/packages/events')</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>修改环境变量</li></ol><blockquote><p>这一步不同版本中可能会出现变量不对等的情况<br>如有报错可以看下源码中的 <code>.eslintrc.js</code> 里面的 <code>globals</code> 属性</p></blockquote><p><code>react/config/env.js</code></p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">  const stringified = &#123;</span><br><span class="line">    ....,</span><br><span class="line">    </span><br><span class="line"><span class="addition">+    __DEV__: true,</span></span><br><span class="line"><span class="addition">+    SharedArrayBuffer: true,</span></span><br><span class="line"><span class="addition">+    spyOnDev: true,</span></span><br><span class="line"><span class="addition">+    spyOnDevAndProd: true,</span></span><br><span class="line"><span class="addition">+    spyOnProd: true,</span></span><br><span class="line"><span class="addition">+    __PROFILE__: true,</span></span><br><span class="line"><span class="addition">+    __UMD__: true,</span></span><br><span class="line"><span class="addition">+    __EXPERIMENTAL__: true,</span></span><br><span class="line"><span class="addition">+    __VARIANT__: true,</span></span><br><span class="line"><span class="addition">+    gate: true,</span></span><br><span class="line"><span class="addition">+    trustedTypes: true,</span></span><br><span class="line">  &#125;;</span><br></pre></td></tr></table></figure><p>2.1 项目根目录中创建 <code>.eslintrc.json</code> 文件</p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"extends"</span>: <span class="string">"react-app"</span>,</span><br><span class="line">  <span class="attr">"globals"</span>: &#123;</span><br><span class="line">    <span class="attr">"SharedArrayBuffer"</span>: <span class="literal">true</span>,</span><br><span class="line"></span><br><span class="line">    <span class="attr">"spyOnDev"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"spyOnDevAndProd"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"spyOnProd"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"__PROFILE__"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"__UMD__"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"__EXPERIMENTAL__"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"__VARIANT__"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"gate"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"trustedTypes"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li>忽略 <code>flow</code><blockquote><p>webstrom 中可自动识别 flow，其他编辑器可能需要下载插件 </p></blockquote></li></ol><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">yarn add @babel/plugin-transform-flow-strip-types -D</span><br></pre></td></tr></table></figure><p>3.1 添加配置</p><p><code>react/config/webpack.config.js[babel-loader]</code></p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">plugins: [</span><br><span class="line"><span class="addition">+ require.resolve('@babel/plugin-transform-flow-strip-types'),</span></span><br><span class="line">  [</span><br><span class="line">    require.resolve('babel-plugin-named-asset-import'),</span><br><span class="line">    &#123;</span><br><span class="line">      loaderMap: &#123;</span><br><span class="line">        svg: &#123;</span><br><span class="line">          ReactComponent:</span><br><span class="line">            '@svgr/webpack?-svgo,+titleProp,+ref![path]',</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">],</span><br></pre></td></tr></table></figure><ol start="4"><li>导出 <code>HostConfig</code></li></ol><p>修改文件<code>/react/packages/react-reconciler/src/ReactFiberHostConfig.js</code>。</p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line"><span class="deletion">- invariant(false, 'This module must be shimmed by a specific renderer.');</span></span><br><span class="line"><span class="addition">+ export * from './forks/ReactFiberHostConfig.dom'</span></span><br></pre></td></tr></table></figure><p>4.1 修改文件<code>/react/packages/shared/ReactSharedInternals.js</code>。<code>react</code>此时未<code>export</code>内容，直接从<code>ReactSharedInternals</code>拿值</p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line"><span class="deletion">- import * as React from 'react';</span></span><br><span class="line"></span><br><span class="line"><span class="deletion">- const ReactSharedInternals =</span></span><br><span class="line"><span class="deletion">-   React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;</span></span><br><span class="line"></span><br><span class="line"><span class="addition">+ import ReactSharedInternals from '../react/src/ReactSharedInternals'</span></span><br><span class="line"></span><br><span class="line">export default ReactSharedInternals;</span><br></pre></td></tr></table></figure><p>4.2 关闭 <code>eslint</code> 扩展</p><p><code>/react/.eslingrc.js[module.exports]</code></p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">  extends: [</span><br><span class="line"><span class="deletion">-   'fbjs',</span></span><br><span class="line">    'prettier'</span><br><span class="line">  ],</span><br></pre></td></tr></table></figure><h1 id="相关报错"><a href="#相关报错" class="headerlink" title="相关报错"></a>相关报错</h1><h2 id="invariant"><a href="#invariant" class="headerlink" title="invariant"></a>invariant</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Error: Internal React error: invariant() is meant to be replaced at compile time. There is no runtime version.</span><br></pre></td></tr></table></figure><p>解决</p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">export default function invariant(condition, format, a, b, c, d, e, f) &#123;</span><br><span class="line"><span class="addition">+  return;</span></span><br><span class="line"></span><br><span class="line">  throw new Error(</span><br><span class="line">    'Internal React error: invariant() is meant to be replaced at compile ' +</span><br><span class="line">      'time. There is no runtime version.',</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="完结撒花"><a href="#完结撒花" class="headerlink" title="完结撒花"></a>完结撒花</h1><ul><li>github <a href="https://github.com/Kshao123/react-source" target="_blank" rel="noopener">源码地址</a></li><li>版本更新复制 clone 代码即可，建议 pull，避免代码覆盖问题</li></ul><p><img src="/" class="lazyload" data-src="https://wxt.sinaimg.cn/mw690/0085UwQ9ly1ger6uwu5soj30n10lldhb.jpg"  alt="运行结果"></p>]]></content>
      
      
      <categories>
          
          <category> react </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>node 中 request 的 302 的相关问题</title>
      <link href="/2020/05/07/node-request/"/>
      <url>/2020/05/07/node-request/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon">            <p>在 <code>node</code> <code>request</code> 爬虫中遇到 302 的相关问题</p>          </div><h1 id="followRedirect-不进行跳转"><a href="#followRedirect-不进行跳转" class="headerlink" title="followRedirect 不进行跳转"></a><code>followRedirect</code> 不进行跳转</h1><blockquote><p>此时可获得跳转前的 <code>response</code> 的相关信息，这在某些场景中很有用~</p></blockquote><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">   rp(&#123;</span><br><span class="line">     uri,</span><br><span class="line"><span class="addition">+    followRedirect: false,</span></span><br><span class="line">     headers: &#123;</span><br><span class="line">       "User-Agent": "Mozilla/5.0 (iPhone; CPU iPhone OS 5_0 like Mac OS X) AppleWebKit/534.46 (KHTML, like Gecko) Version/5.1 Mobile/9A334 Safari/7534.48.3"</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;, (err, resp, body) =&gt; &#123;</span><br><span class="line">     </span><br><span class="line">   &#125;)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> node </category>
          
      </categories>
      
      
        <tags>
            
            <tag> request </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>在线工具 - 一键获取抖音无水印视频，抖音动态封面，抖音去水印解析工具</title>
      <link href="/2020/05/06/wl-dy-video/"/>
      <url>/2020/05/06/wl-dy-video/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon">            <p>输入<code>抖音</code>分享的链接解析即可~<br>获取失败可多尝试几次，获取的视频链接会出现403等情况，建议及时保存或者重新解析即可！</p>          </div><meta name="referrer" content="never"><style>:root {  --btn-primary-color: #007bff;  --btn-radius: 6px;  --btn-radius1: 6px;  --test: red;}.wl-btn-default {  position: relative;  outline: none;  cursor: pointer;  display: inline-block;  border: 1px solid transparent;  user-select: none;  font-size: 14px;  line-height: 1.5;  border-radius: 0.25rem;  font-weight: 400;  color: #212529;  text-align: center;  vertical-align: middle;  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;}.wl-btn-primary {  color: #fff;  background-color: #007bff;  border-color: #007bff;}.wl-btn-primary:hover {  color: #fff;  background-color: #0069d9;  border-color: #0062cc;}.wl-btn-primary:disabled {  color: rgba(0, 0, 0, 0.25);  background-color: #f5f5f5;  border-color: #d9d9d9;  text-shadow: none;  -webkit-box-shadow: none;  box-shadow: none;  cursor: not-allowed;}.wl-btn-loading {  text-indent: 20px;}.wl-btn-loading:before {  content: '';  position: absolute;  left: 3px;  top: 50%;  transform: translateY(-50%);  width: 15px;  height: 15px;  display: inline-block;  border: 2px solid #6c757d;  border-right-color: transparent;  border-radius: 50%;  animation: btn-loading 0.76s linear infinite;}@keyframes btn-loading {  to {    transform: translateY(-50%) rotate(360deg);  }}.wl-input-default {  display: inline-block;  outline: none;  height: 29px;  padding: 0.375rem 0.75rem;  font-size: 14px;  font-weight: 400;  line-height: 1.5;  color: #495057;  background-color: #fff;  background-clip: padding-box;  border: 1px solid #ced4da;  border-radius: 0.25rem;  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;}.wl-input-default:focus {  color: #495057;  background-color: #fff;  border-color: #80bdff;  outline: 0;  box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);}.card-wrap {  width: 80%;  max-width: 360px;  margin: auto;  box-sizing: border-box;  color: rgba(0, 0, 0, 0.65);  font-size: 14px;  font-variant: tabular-nums;  line-height: 1.5715;  list-style: none;  font-feature-settings: 'tnum';  position: relative;  background: #fff;  border-radius: 2px;  transition: all 0.3s;  border: 1px solid #f0f0f0;}.card-wrap:hover {  box-shadow: 0 1px 2px -2px rgba(0, 0, 0, 0.16), 0 3px 6px 0 rgba(0, 0, 0, 0.12), 0 5px 12px 4px rgba(0, 0, 0, 0.09);}.card-wrap figure,.card-wrap figcaption {  padding: 0;  margin: 0;}.card-wrap .card-cover {  width: 100%;}.card-wrap .card-desc {  padding: 24px;}.card-wrap .card-body > dd {  margin-top: 10px;  margin-left: 0;}.card-wrap .card-body > dd > a {  word-break: break-all;}.card-wrap .card-body .c-b-title {  font-weight: bold;  font-size: 1rem;  color: rgba(0, 0, 0, 0.85);}.card-wrap .card-body .c-b-cover > img {  width: 100%;}.card-wrap .card-body .c-b-video > video {  width: 100%;}.wl-result-wrap {  padding: 20px;}/*# sourceMappingURL=douyin.css.map */</style><section class="wl-tool">    <h1>抖音在线工具</h1>    <div class="wl-tool-wrap">      <input id="dy-inp" class="wl-input-default" style="width: 80%; max-width: 260px" type="text" value="https://v.douyin.com/K4XqoP/">      <button id="dy-btn" class="wl-btn-default wl-btn-primary">        一键解析      </button>    </div>    <div class="wl-result-wrap">      <div class="card-wrap">        <figure>          <img class="card-cover lazyload" referrerpolicy="no-referrer" src="/" alt="" data-src="https://p3-dy.byteimg.com/obj/tos-cn-p-0015/31149885f01b4b9ab2b18d46db1f9927_1580566077?from=2563711402_large">          <figcaption class="card-desc">            <dl class="card-body">              <dt class="c-b-title">在家的第;,&@):/.,!”!,”。天，决定站起来动动筋骨</dt>              <dd class="c-b-cover">                <img id="c-b-cover" referrerpolicy="no-referrer" src="/" class="lazyload" data-src="http://p3-dy.byteimg.com/large/tos-cn-p-0015/a610b111d23c45aba436452b93acfdfd_1580566077.jpeg?from=2563711402_large"  alt="">              </dd>              <dd class="c-b-video">                <video controls id="v-wrap" autoplay src="http://v9-dy-z.ixigua.com/c00a5befc6859d36ece5350b2809972b/5eb297fb/video/tos/cn/tos-cn-ve-15/e989cbcf00304bd5bd7bf9ecb186524a/?a=1128&br=0&bt=2452&cr=0&cs=0&dr=0&ds=6&er=&l=20200506175644010014047207090D68F6&lr=&qs=0&rc=anR3anc3dGVycjMzN2kzM0ApZzg1NDw3ZjtlN2RpNTY7ZGdoZGlpcHBwYG5fLS1gLS9zcy5jMS8xLzFfMDRhNDAuYjA6Yw%3D%3D&vl=&vr="></video>              </dd>              <dd>                动态 cover 链接：<a id="d-cover" target="_blank" referrerpolicy="no-referrer" href="https://p3-dy.byteimg.com/obj/tos-cn-p-0015/31149885f01b4b9ab2b18d46db1f9927_1580566077?from=2563711402_large">https://p3-dy.byteimg.com/obj/tos-cn-p-0015/31149885f01b4b9ab2b18d46db1f9927_1580566077?from=2563711402_large</a>              </dd>              <dd>                cover 链接：<a id="dy-cover" target="_blank" href="http://p3-dy.byteimg.com/large/tos-cn-p-0015/a610b111d23c45aba436452b93acfdfd_1580566077.jpeg?from=2563711402_large" referrerpolicy="no-referrer">http://p3-dy.byteimg.com/large/tos-cn-p-0015/a610b111d23c45aba436452b93acfdfd_1580566077.jpeg?from=2563711402_large</a>              </dd>              <dd>                无水印链接：<a id="video-url" target="_blank" href="http://v5-dy.ixigua.com/8548f4522c4da5f2fa9fc07b22461cc9/5eb28243/video/tos/cn/tos-cn-ve-15/e989cbcf00304bd5bd7bf9ecb186524a/?a=1128&br=0&bt=2452&cr=0&cs=0&dr=0&ds=6&er=&l=20200506162404010008072012097FBE3F&lr=&qs=0&rc=anR3anc3dGVycjMzN2kzM0ApZzg1NDw3ZjtlN2RpNTY7ZGdoZGlpcHBwYG5fLS1gLS9zcy5jMS8xLzFfMDRhNDAuYjA6Yw%3D%3D&vl=&vr=">http://v5-dy.ixigua.com/8548f4522c4da5f2fa9fc07b22461cc9/5eb28243/video/tos/cn/tos-cn-ve-15/e989cbcf00304bd5bd7bf9ecb186524a/?a=1128&br=0&bt=2452&cr=0&cs=0&dr=0&ds=6&er=&l=20200506162404010008072012097FBE3F&lr=&qs=0&rc=anR3anc3dGVycjMzN2kzM0ApZzg1NDw3ZjtlN2RpNTY7ZGdoZGlpcHBwYG5fLS1gLS9zcy5jMS8xLzFfMDRhNDAuYjA6Yw%3D%3D&vl=&vr=</a>              </dd>            </dl>          </figcaption>        </figure>      </div>    </div>  </section><script>eval(function(p,a,c,k,e,r){e=function(c){return(c<62?'':e(parseInt(c/62)))+((c=c%62)>35?String.fromCharCode(c+29):c.toString(36))};if('0'.replace(0,e)==0){while(c--)r[e(c)]=k[c];k=[function(e){return r[e]||e}];e=function(){return'[02-9af-sux-zA-T]'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('"use strict";6 m=2.5(\'f-m\'),g=2.A(\'.c-b-g\'),B=2.A(\'.card-3\'),C=2.5(\'c-b-3\'),h=2.5(\'c-b-h\'),n=2.5(\'v-wrap\'),o=2.5(\'d-3\'),p=2.5(\'f-3\'),q=2.5(\'h-8\'),4=2.5(\'f-4\');6 D=/^(http|E):\\/\\/v.douyin.F\\/\\w+|(\\/)/;6 G=\'E://1798248453614055.cn-shanghai.fc.aliyuncs.F/2016-08-15/proxy/getBdy-GreetingService-EE494AFDB77E/getDyVideo/\';i 0(H,I,r){H[I]=r}6 9=i 9(j){s(j){0(4,\'J\',true);4.K.add(\'L-4-j\')}else{0(4,\'J\',false);4.K.remove(\'L-4-j\')}};4.addEventListener(\'M\',async i(){6 8=m.r.trim();try{s(!D.test(8)){N(\'请输入正确的链接\');O P Q();}9(1);6 R$u$x=await u("".S(G,"?shareUrl=").S(8)).x(i(T){return T.json()}),7=R$u$x.7;s(!7){N(\'获取失败！请确认链接正确后，重新解析\');O P Q();}6 3=7.3,a=7.a,t=7.g,k=7.8;0(g,\'l\',t);0(B,\'y\',a);0(C,\'y\',3);0(o,\'z\',a);0(o,\'l\',a);0(p,\'z\',3);0(p,\'l\',3);0(q,\'z\',k);0(q,\'l\',k);0(n,\'y\',k);n.play()}catch(e){console.log(e);9()}finally{9()}ga(\'send\',\'event\',\'get\',\'M\',\'f-h\')});',[],56,'setAttr||document|cover|btn|getElementById|var|data|url|setLoading|dynamicImg|||||dy|title|video|function|loading|videoUrl|innerText|inp|vWrap|dCoverUrl|dyCoverUrl|vUrl|value|if||fetch|||then|src|href|querySelector|dyCover|dCover|urlReg|https|com|api|dom|attr|disabled|classList|wl|click|alert|throw|new|Error|_await|concat|res'.split('|'),0,{}))</script>]]></content>
      
      
      <categories>
          
          <category> 网络 </category>
          
          <category> 在线工具 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>react、react-native 配置 Mobx，Mobx的多 store</title>
      <link href="/2020/05/03/mobx-rn/"/>
      <url>/2020/05/03/mobx-rn/</url>
      
        <content type="html"><![CDATA[<h1 id="安装-Mobx-及所需相关-babel-依赖"><a href="#安装-Mobx-及所需相关-babel-依赖" class="headerlink" title="安装 Mobx 及所需相关 babel 依赖"></a>安装 <code>Mobx</code> 及所需相关 <code>babel</code> 依赖</h1><ol><li><p>Mobx</p><figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="code"><pre><span class="line">npm insatall mobx --save</span><br><span class="line">npm insatall mobx-react --save</span><br></pre></td></tr></table></figure></li><li><p>babel</p><figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="code"><pre><span class="line">npm install babel-plugin-transform-decorators-legacy --save-dev</span><br><span class="line">npm install @babel/plugin-proposal-decorators --save-dev</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 或者</span></span><br><span class="line">npm install @babel/plugin-proposal-decorators babel-plugin-transform-decorators-legacy --save-dev</span><br></pre></td></tr></table></figure></li><li><p>配置 babel</p></li></ol><p><code>.babelrc</code> 或者 <code>babel.config.js</code> 或者在 <code>package.json</code> 中</p><figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="code"><pre><span class="line">plugins:[</span><br><span class="line">  ["@babel/plugin-proposal-decorators", &#123;"legacy":true&#125;],</span><br><span class="line">  ["@babel/plugin-proposal-class-properties", &#123;"loose":true&#125;]</span><br><span class="line">]</span><br></pre></td></tr></table></figure><ol start="4"><li>配置 mobx，多 store 组合</li></ol><p><code>文件结构</code></p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">project</span><br><span class="line">│   app.js  </span><br><span class="line">└───src</span><br><span class="line">│   │</span><br><span class="line">│   └───stores</span><br><span class="line">│       │   todo.js</span><br><span class="line">│       │   index.js</span><br><span class="line">│       │   ...</span><br><span class="line">│   └───pages</span><br><span class="line">│       │   todoPage.js</span><br><span class="line">│       │   ...</span><br><span class="line">│</span><br></pre></td></tr></table></figure><p>4.1 src/stores/todo.js</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  observable,</span><br><span class="line">  action,</span><br><span class="line">  computed,</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">'mobx'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">TodoStore</span> </span>&#123;</span><br><span class="line">  @observable name = <span class="string">'555'</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 不接受任何参</span></span><br><span class="line">  @computed <span class="keyword">get</span> getName() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// @autorun( () =&gt; &#123;</span></span><br><span class="line">  <span class="comment">// &#125;)</span></span><br><span class="line">  </span><br><span class="line">  @action.bound setName(name) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name, name);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 或者</span></span><br><span class="line">  @action</span><br><span class="line">  setName = <span class="function">(<span class="params">name</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name, name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> STORE_TODO = <span class="string">'todoStore'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> TodoStore;</span><br></pre></td></tr></table></figure><p>4.2 <code>src/stores/index.js</code></p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> TodoStore, &#123; STORE_TODO, TodoType &#125; <span class="keyword">from</span> <span class="string">"./todo"</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RootStore</span> </span>&#123;</span><br><span class="line">  [STORE_TODO]: TodoType</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">this</span>[STORE_TODO] = <span class="keyword">new</span> TodoStore();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> RootStore();</span><br></pre></td></tr></table></figure><p>4.4 <code>/app.js</code></p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line"><span class="addition">+ import RootStore from './src/store/index';</span></span><br><span class="line"><span class="addition">+ import &#123; Provider &#125; from 'mobx-react';</span></span><br><span class="line"></span><br><span class="line">const App: () =&gt; React$Node = () =&gt; &#123;</span><br><span class="line">  return (</span><br><span class="line"><span class="addition">+    &lt;Provider &#123;...RootStore&#125;&gt;</span></span><br><span class="line">        .....</span><br><span class="line"><span class="addition">+    &lt;/Provider&gt;</span></span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> mobx </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>谷歌playStore镜像 Chrome 浏览器插件</title>
      <link href="/2020/04/29/playStore-source/"/>
      <url>/2020/04/29/playStore-source/</url>
      
        <content type="html"><![CDATA[<h1 id="APk-download"><a href="#APk-download" class="headerlink" title="APk download"></a>APk download</h1><div class="note info no-icon">            <p>谷歌应用商店时常抽风，所以、备个稳定的下包方法能减少时间的浪费</p>          </div><div class="note primary no-icon">            <p><a onclick="ga('send', 'event', 'jump', 'click', 'apk-download');" target='_black' href='https://chrome.google.com/webstore/detail/apk-downloader/fgljidimohbcmjdabiecfeikkmpbjegm?utm_source=chrome-ntp-icon'>下载地址</a></p>          </div>]]></content>
      
      
      <categories>
          
          <category> 插件分享 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>mac 配置java环境变量，jdk 的 mac 百度云盘资源</title>
      <link href="/2020/04/26/mac-java-jdk/"/>
      <url>/2020/04/26/mac-java-jdk/</url>
      
        <content type="html"><![CDATA[<div class="note primary no-icon">            <p>记录配置流程~</p>          </div><h1 id="JDK8-Mac-的百度网盘资源"><a href="#JDK8-Mac-的百度网盘资源" class="headerlink" title="JDK8 Mac 的百度网盘资源"></a>JDK8 Mac 的百度网盘资源</h1><p>链接: <a href="https://pan.baidu.com/s/1i0Fq7UVkmAtRTal-_J9GsQ" target="_blank" rel="noopener">https://pan.baidu.com/s/1i0Fq7UVkmAtRTal-_J9GsQ</a><br>提取码: 1234</p><h1 id="Mac-环境变量配置"><a href="#Mac-环境变量配置" class="headerlink" title="Mac 环境变量配置"></a>Mac 环境变量配置</h1><ol><li>打开命令行 cd ~<figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="code"><pre><span class="line">cd ~</span><br></pre></td></tr></table></figure></li><li>编辑配置文件<figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="code"><pre><span class="line">open .bash_peofile</span><br></pre></td></tr></table></figure></li></ol><p>3.配置<br>路径根据自己的安装版本修改</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_201.jdk/Contents/Home</span></span><br><span class="line"><span class="string">PATH=$JAVA_HOME/bin:$PATH:.</span></span><br><span class="line"><span class="string">CLASSPATH=$JAVA_HOME/lib/tools.jar:$JAVA_HOME/lib/dt.jar:.</span></span><br><span class="line"><span class="string">export</span> <span class="string">JAVA_HOME</span></span><br><span class="line"><span class="string">export</span> <span class="string">PATH</span></span><br><span class="line"><span class="string">export</span> <span class="string">CLASSPATH</span></span><br></pre></td></tr></table></figure><p>4.</p><figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="code"><pre><span class="line">source .bash_profile</span><br></pre></td></tr></table></figure><p><img src="/" class="lazyload" data-src="https://wxt.sinaimg.cn/mw690/0085UwQ9ly1ge79nlidizj30go05g3ys.jpg"  alt=".bash_profile"></p><h1 id="java-version"><a href="#java-version" class="headerlink" title="java -version"></a>java -version</h1><p><img src="/" class="lazyload" data-src="https://wxt.sinaimg.cn/mw690/0085UwQ9ly1ge79nfmjokj30d9026glq.jpg"  alt="version"></p>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>记录阿里云函数 Fun 和 Cloud Toolkit 工具的使用，本地开发测试云函数</title>
      <link href="/2020/04/26/serverless-fun/"/>
      <url>/2020/04/26/serverless-fun/</url>
      
        <content type="html"><![CDATA[<div class="note primary no-icon">            <p>阿里提供了 <code>Fun</code> 和 <code>Cloud Toolkit</code> 两款工具来本地测试函数，流程如下。</p>          </div><h1 id="安装-Fun-工具"><a href="#安装-Fun-工具" class="headerlink" title="安装 Fun 工具"></a>安装 <code>Fun</code> 工具</h1><p><code>Fun</code> 为命令行工具，可在本地预览和部署函数<br><a href="https://hub.fastgit.org/alibaba/funcraft/blob/master/docs/usage/installation-zh.md" target="_blank" rel="noopener">官方安装教程</a></p><h4 id="npm-全局安装"><a href="#npm-全局安装" class="headerlink" title="npm 全局安装"></a>npm 全局安装</h4><figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="code"><pre><span class="line">npm install @alicloud/fun -g</span><br></pre></td></tr></table></figure><blockquote><p>注意！在本地运行函数需要安装 <code>docker</code>，<code>docker</code>安装推荐 <code>DaoCloud</code>，国内的镜像安装包和加速源测试下来相对阿里的源快一点</p></blockquote><h4 id="fun-init"><a href="#fun-init" class="headerlink" title="fun init"></a>fun init</h4><p>创建函数，根据需要选择函数类型</p><h4 id="fun-local-start"><a href="#fun-local-start" class="headerlink" title="fun local start"></a>fun local start</h4><p>运行函数，热更新。<br><code>fun local start &lt;函数名&gt;</code> 启动指定函数，无热更新</p><h4 id="fun-config"><a href="#fun-config" class="headerlink" title="fun config"></a>fun config</h4><p>登录阿里云，部署需要这一步</p><h4 id="fun-deploy"><a href="#fun-deploy" class="headerlink" title="fun deploy"></a>fun deploy</h4><p>部署，指定函数部署 <code>fun deploy &lt;函数名&gt;</code></p><blockquote><p>启动函数时，如果你的函数依赖未安装或者不全都会报错，需要在有 <code>yml</code> 配置文件路径下运行 <code>fun install</code>即可</p></blockquote><h1 id="安装-Cloud-Toolkit-IDE-插件"><a href="#安装-Cloud-Toolkit-IDE-插件" class="headerlink" title="安装 Cloud Toolkit IDE 插件"></a>安装 <code>Cloud Toolkit</code> IDE 插件</h1><p><code>jetbrain</code> 系列支持 <code>php</code>、<code>idea</code>，在 <code>plugin</code> 搜索 <code>Alibaba Cloud Toolkit</code> 即可<br>不支持 <code>webStorm</code>给差评，<code>vscode</code> 等其他编辑器点下面</p><p><a href="https://cn.aliyun.com/product/cloudtoolkit" target="_blank" rel="noopener">官网地址</a></p><h4 id="拉取云函数"><a href="#拉取云函数" class="headerlink" title="拉取云函数"></a>拉取云函数</h4><p>安装完插件后 <code>idea</code> 的函数工具栏是在右边，右边，右边！（idea 2020.1），左边的是服务器部署相关的工具。<br><img src="/" class="lazyload" data-src="https://wxt.sinaimg.cn/mw690/0085UwQ9ly1ge7767zmo8j30fo0eddgu.jpg"  alt="插件展示"></p><p>从远程获取函数<br><img src="/" class="lazyload" data-src="https://wxt.sinaimg.cn/mw690/0085UwQ9ly1ge7763qmp0j30ek0c3755.jpg"  alt="从远程获取函数"></p><h4 id="运行函数"><a href="#运行函数" class="headerlink" title="运行函数"></a>运行函数</h4><p>在本地函数右击，如果报错可在命令行用 <code>fun</code> 运行</p>]]></content>
      
      
      <categories>
          
          <category> serverless </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>在线图片canvas水印，一键水印，附纯前端 js 代码</title>
      <link href="/2020/04/23/wl-pic-waterMask/"/>
      <url>/2020/04/23/wl-pic-waterMask/</url>
      
        <content type="html"><![CDATA[<h1 id="在线给图片添加水印"><a href="#在线给图片添加水印" class="headerlink" title="在线给图片添加水印"></a>在线给图片添加水印</h1><style>body{margin:0;font:12px "Microsoft Sans Serif",Arial;}.wt-wrap{--btn-color:#1890ff;--sp-width:88px;margin:0 auto;padding:10px;width:100%;box-sizing:border-box;}.wt-wrap .auto-wrap{width:100%;margin:0 auto;box-sizing:border-box;}.wt-wrap .wt-btns{width:100%;}.wt-wrap .wt-btn{margin-top:5px;margin-right:5px;padding:4px 20px;border-radius:6px;font-size:14px;color:#fff;background-color:var(--btn-color);outline:none;}.wt-wrap .inp-text{outline:none;line-height:22px;}.wt-wrap .tips{color:#868585;font-size:12px;}.wt-wrap .wt-handle-wrap{margin-top:20px;font-size:14px;}.wt-wrap .wt-handle-wrap > div{margin-top:15px;}.wt-wrap .wt-handle-wrap > div > span{display:inline-block;min-width:var(--sp-width);}.wt-wrap .wt-handle-wrap > div > input{margin-right:15px;}.wt-wrap .wt-handle-wrap .last-handle{display:flex;flex-wrap:wrap;}.wt-wrap .wt-handle-wrap .last-handle > div > span{display:inline-block;min-width:var(--sp-width);margin-top:10px;}.wt-wrap .wt-handle-wrap .last-handle > div > input{margin-right:15px;}.wt-wrap .wt-handle-wrap .ap-wrap{display:flex;margin-top:15px;}.wt-wrap .wt-handle-wrap .ap-wrap .text{min-width:var(--sp-width);}.wt-wrap .wt-handle-wrap .ap-wrap .color-wrap{width:100%;height:16px;max-width:300px;background:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==') repeat;}.wt-wrap .wt-handle-wrap .ap-wrap .linear-bg{width:100%;height:100%;position:relative;background:linear-gradient(to right,rgba(55,214,122,0) 0%,#B8B8B8 100%);}.wt-wrap .wt-handle-wrap .ap-wrap .point{position:absolute;left:0;height:18px;width:18px;background:#f8f8f8;border-radius:50%;box-shadow:0 1px 4px rgba(0,0,0,0.37);transform:translate(0,-2px);cursor:pointer;}.wt-wrap .canvas-wrap{width:100%;padding:20px;}.wt-wrap .canvas-wrap > canvas{width:100%;}.box{width:200px;height:200px;background-color:#1890ff;position:absolute;left:80px;}</style><section class="wt-wrap">  <div>    <div class="wt-btns auto-wrap">      <button class="wt-btn" id="upload-btn">上传图片</button>      <button id="rotate-btn" class="wt-btn">旋转</button>      <button id="save-btn" class="wt-btn">保存</button>    </div>    <div class="wt-handle-wrap auto-wrap">      <div class="wt-text">        <span>水印文案：</span>        <input style="min-width: 150px" id="water-value" class="inp-text" type="text">      </div>      <div>        <span>字体颜色：</span>        <input id="wt-color" type="color">        <input style="border: 2px solid #bbb; border-radius: 2px;" id="wt-color-text" type="text" value="#B8B8B8">        <span class="tips">* 仅支持 16进制颜色输入</span>      </div>      <div class="ap-wrap" style="user-select: none">        <div class="text">          <span>透明度：</span>        </div>        <div class="color-wrap">          <div class="linear-bg" id="p-wrap">            <div id="point" class="point"></div>          </div>        </div>        <span id="alpha-value" style="margin-left: 20px" class="tips">80%</span>      </div>      <div class="last-handle">        <div>          <span>字体大小：</span>          <input id="fontsize-val" class="inp-text" type="number">        </div>        <div>          <span>字体角度：</span>          <input id="size-rotate" class="inp-text" type="number">        </div>        <div>          <span>水印框宽：</span>          <input id="water-box-width" class="inp-text" type="number">        </div>        <div>          <span>水印框高：</span>          <input id="water-box-height" class="inp-text" type="number">        </div>      </div>    </div>    <div id="canvas-wrap" class="auto-wrap canvas-wrap">      <canvas id="canvas"></canvas>    </div>  </div></section><script>ga('send', 'event', 'Vist page', 'Vist', 'waterMask');</script><script src="/worker.js"></script><script>eval(function(p,a,c,k,e,r){e=function(c){return(c<62?'':e(parseInt(c/62)))+((c=c%62)>35?String.fromCharCode(c+29):c.toString(36))};if('0'.replace(0,e)==0){while(c--)r[e(c)]=k[c];k=[function(e){return r[e]||e}];e=function(){return'([59b-dghj-mp-rt-wzA-EGHJ-WZ]|[1-4]\\w)'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('"use strict";b 3f(L,1s){c(L==B)h{};5 M=3g(L,1s);5 q,i;c(N.3h){5 2k=N.3h(L);13(i=0;i<2k.w;i++){q=2k[i];c(1s.3i(q)>=0)2l;c(!N.3j.propertyIsEnumerable.2m(L,q))2l;M[q]=L[q]}}h M}b 3g(L,1s){c(L==B)h{};5 M={};5 2n=N.3k(L);5 q,i;13(i=0;i<2n.w;i++){q=2n[i];c(1s.3i(q)>=0)2l;M[q]=L[q]}h M}b 3l(1b,1t){c(1t!=B&&2o 1c!=="H"&&1t[1c.3m]){h!!1t[1c.3m](1b)}1N{h 1b instanceof 1t}}b 3n(2p,3o){c(!3l(2p,3o)){1O O 3p("Cannot 2m a class as a b");}}b J(1u,q,j){c(q in 1u){N.defineProperty(1u,q,{j:j,enumerable:1d,configurable:1d,writable:1d})}1N{1u[q]=j}h 1u}b 3r(o){c(2o 1c==="H"||o[1c.2q]==B){c(1v.isArray(o)||(o=3s(o))){5 i=0;5 F=b F(){};h{s:F,n:b n(){c(i>=o.w)h{1P:1d};h{1P:2r,j:o[i++]}},e:b e(_e){1O _e;},f:F}}1O O 3p("Invalid attempt to iterate 3v-3w 2p.\\nIn order to be 3w, 3v-array objects must have a [1c.2q]() method.");}5 it,2s=1d,2t=2r,1x;h{s:b s(){it=o[1c.2q]()},n:b n(){5 2u=it.next();2s=2u.1P;h 2u},e:b e(3x){2t=1d;1x=3x},f:b f(){2v{c(!2s&&it.h!=B)it.h()}3y{c(2t)1O 1x;}}}}b 3s(o,2w){c(!o)h;c(2o o==="string")h 2x(o,2w);5 n=N.3j.toString.2m(o).1y(8,-1);c(n==="N"&&o.3z)n=o.3z.G;c(n==="Map"||n==="Set")h 1v.from(n);c(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?1v$/.3A(n))h 2x(o,2w)}b 2x(1Q,1i){c(1i==B||1i>1Q.w)1i=1Q.w;13(5 i=0,2y=O 1v(1i);i<1i;i++){2y[i]=1Q[i]}h 2y}5 1z=v.P(\'wt-1z\');5 3C=\'#B8B8B8\';5 2z=v.P(\'1A-2A\');5 1R=B;5 socket=B;5 1e=[];5 1j=b 1j(t,A,j){t.setAttribute(A,j)};5 2B=b 2B(j){1j(1z,\'j\',j||3C)};5 1S=b 1S(fn){5 3D=z.w>1&&z[1]!==H?z[1]:1T;5 2D=z.w>2&&z[2]!==H?z[2]:1d;5 1U;h b(){13(5 2E=z.w,1V=O 1v(2E),1B=0;1B<2E;1B++){1V[1B]=z[1B]}5 2F=p;c(2D){fn.3E(2F,1V);2D=2r}c(!1U){1U=setTimeout(b(){fn.3E(2F,1V);1U=B},3D)}}};5 2G=b 2G(2H){5 V=p;5 t=2H.t,1C=2H.1C;p.t=t;5 1k=\'\';5 3F=[\'transfrom\',\'webkitTransform\',\'MozTransform\',\'msTransform\',\'OTransform\'];5 1D={x:0,cx:0};5 1W=b 1W(e){c(e.2J&&e.2J.w){h e.2J[0]}h e};5 1X=b 1X(e){5 1Y=1W(e);5 2K=V.1Z.3G();V.3H=2K.d;5 2L=t.3G();V.d=2L.d;1D.x=2K.1b;1D.cx=1Y.3I-2L.1b;v.K(\'3J\',1l);v.K(\'3K\',1l);v.K(\'mouseup\',21);v.K(\'touchend\',21)};5 1l=b 1l(e){5 1Y=1W(e);5 x=1Y.3I-1D.x-1D.cx;5 dx=V.d/2;5 24=C.max(0-dx,C.min(x,V.3H-dx));c(1k){t.1E.1k="3L(".1f(24,"px, -3M)")}1N t.1E.1b="".1f(x,"px");1C&&1C(24,(24+dx)/V.1Z.2M)};5 21=b 21(e){v.3N(\'3J\',1l);v.3N(\'3K\',1l)};5 2N=b 2N(){c(!t)h;5 1F=3r(3F),2O;2v{13(1F.s();!(2O=1F.n()).1P;){5 A=2O.j;c(A in t.1E){1k=A}}}3O(1x){1F.e(1x)}3y{1F.f()}};5 2P=b 2P(){5 2Q=(V.1Z.2M- +3P(V.t).d.3Q(\'px\',\'\')/2)*0.8;c(1k){t.1E.1k="3L(".1f(2Q,"px, -3M)")}t.1b="".1f(2Q,"px")};p.3R=b(){p.1Z=t.parentNode;2N();2P();t.K(\'mousedown\',1X.3S(p));t.K(\'touchstart\',1X.3S(p))}};2B();5 14={1h:H,25:0,G:H};5 1m=b 1m(2R){5 9=p;3n(p,1m);J(p,"3T",b(Q){h O Promise(b(2S){c(!Q&&!9.k)h;c(9.k&&!Q)h 2S(9.k);5 k=9.k=O Image();k.src=Q;k.3U=b(){h 2S(k)}})});J(p,"2T",async b(Q,r){5 k=await 9.3T(Q);5 l=9.l;5 R=9.g.R;5 S=0;c(R){c(v.body.2M>768){R.1E.d=k.d+\'px\'}c(9.r!==9.2U){9.2U=9.r;9.S=S=parseFloat(3P(R).d)}1N c(9.S){S=9.S}}9.d=k.d;9.m=k.m;c(9.d>S){9.d=S;9.m=S*k.m/k.d}l.clearRect(0,0,9.u.d,9.u.m);9.r=r=r||9.r;c(r>3)9.r=r%=4;switch(r){default:26 0:9.u.d=9.d;9.u.m=9.m;l.1G(k,0,0,9.d,9.m);27;26 1:9.u.d=9.m;9.u.m=9.d;l.28();l.r(90*C.PI/T);l.1G(k,0,-9.m,9.d,9.m);l.2V();27;26 2:9.u.d=9.d;9.u.m=9.m;l.28();l.r(T*C.PI/T);l.1G(k,-9.d,-9.m,9.d,9.m);l.2V();27;26 3:9.u.d=9.m;9.u.m=9.d;l.28();l.r(270*C.PI/T);l.1G(k,-9.d,0,9.d,9.m);l.2V();27}9.3W()});J(p,"3W",b(){5 l=9.l;l.3X=l.createPattern(9.1o,\'repeat\');l.fillRect(0,0,9.u.d,9.u.m)});J(p,"29",b(Q,r){9.2T(Q,r)});J(p,"2W",b(){5 9$g=9.g,D=9$g.D,9$g$2X=9$g.W,W=9$g$2X===15 0?12:9$g$2X,1p=9$g.1p,9$g$E=9$g.Z,Z=9$g$E===15 0?2Y:9$g$E,9$g$2Z=9$g.17,17=9$g$2Z===15 0?T:9$g$2Z,9$g$30=9$g.U,U=9$g$30===15 0?20:9$g$30;c(W<=0)W=12;c(Z<=0)Z=2Y;c(17<=0)17=T;c(U<=0)U=20;5 l=9.1o.2a(\'2d\');9.1o.d=C.sqrt(C.3Y(Z,2)+C.3Y(17,2));9.1o.m=17;l.font="".1f(W,"px Arial");l.r(-U*C.PI/T);l.3X=1p;5 Y=31(C.sin(U*C.PI/T)*Z,10);5 X=-31(Y/C.tan((90-U)*C.PI/T),10);9.3Z(Z,D,X+10,Y+W+U,W*1.4)});J(p,"3Z",b(d,D,x,y,40){5 2b=0;5 2c=0;5 41=d;5 l=9.1o.2a(\'2d\');13(5 i=0;i<D.w;i++){5 2e=D[i];2b+=l.measureText(2e).d;c(2b>41-x){l.42(D.43(2c,i),x,y);y+=40;2b=0;2c=i}c(i===D.w-1){l.42(D.43(2c,i+1),x,y)}}});J(p,"44",b(G,1h){5 9$k,9$2f;5 d=z.w>2&&z[2]!==H?z[2]:((9$k=9.k)===B||9$k===15 0?15 0:9$k.d)||9.u.d;5 m=z.w>3&&z[3]!==H?z[3]:((9$2f=9.k)===B||9$2f===15 0?15 0:9$2f.m)||9.u.m;c(9.k){5 1H=v.2g(\'u\');1H.d=d;1H.m=m;5 45=1H.2a(\'2d\');45.1G(9.u,0,0,9.u.d,9.u.m,0,0,d,m);5 Q=1H.toDataURL(1h||\'k/jpeg\');5 a=v.2g(\'a\');a.href=Q;a.download=G;a.1q()}});J(p,"2h",b(g){9.g=N.46({},9.g,g||{});9.2W();c(!9.k)h;9.29();2v{5 G=14.G;c(G&&1e.w){1e.33(b(1I){c(1I.G===G){1I.47=9.g}})}}3O(e){}});5 1J=2R.1J,1K=2R.1K;p.g=N.46({},1m.48,1K);p.u=1J;p.l=1J.2a(\'2d\');p.r=1K.r||0;p.2U=p.S=H;p.k=B;p.1o=v.2g(\'u\');p.2W();p.2T(\'https://wxt.sinaimg.cn/mw690/0085UwQ9ly1gd7m9ms7kyj30ia0ujq4y.jpg\')};J(1m,"48",{D:\'仅用于当前业务，他用无效\',W:23,1p:\'rgba(34,34,34,0.8)\',Z:2Y,17:T,R:B,U:20});5 E=O 1m({1J:v.P(\'u\'),1K:{R:v.P(\'u-wrap\')}});5 1A=b 1A(e){5 1L=v.2g(\'1r\');1L.1h=\'18\';1L.accept=\'k/*\';1L.onchange=b(e){5 18=e.M.files[0];c(!18)h;14.1h=18.1h;14.G=18.G;14.25=18.25;5 35=O FileReader(18);35.3U=b(e){console.log(\'1A 49\');1R=e.M.result;5 36$g=E.g,R=36$g.R,g=3f(36$g,["R"]);E.29(1R);1e.4a({...14,baseU:1R,47:g})};35.readAsDataURL(18)};1L.1q()};2z.K(\'1q\',1A);5 4b=v.P(\'r-2A\');5 r=0;4b.K(\'1q\',b(){c(!E.k){h 2z.1q()}r+=1;E.29(H,r)});5 37=b 37(){E.44(14.G,14.1h)};5 4c=v.P(\'28-2A\');4c.K(\'1q\',37);5 38={D:{19:\'1r\',A:\'j\',id:\'39-j\'},W:{19:\'1r\',A:\'j\',id:\'fontsize-val\'},Z:{19:\'1r\',A:\'j\',id:\'39-4d-d\'},17:{19:\'1r\',A:\'j\',id:\'39-4d-m\'},U:{19:\'1r\',A:\'j\',id:\'25-r\'}};5 4e=N.3k(38);4e.33(b(q){5 2i$q=38[q],19=2i$q.19,A=2i$q.A,id=2i$q.id;5 t=v.P(id);1j(t,A,E.g[q]);t.K(19,1S(b(e){5 j=e.M.j;1j(t,A,j);E.2h(J({},q,q!==\'D\'?+j:j))}))});5 2j=b 2j(2e){5 1M=z.w>1&&z[1]!==H?z[1]:1T;5 11=2e.toLowerCase();5 4f=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;c(11&&4f.3A(11)){c(11.w===4){5 3a="#";13(5 i=1;i<4;i+=1){3a+=11.1y(i,i+1).1f(11.1y(i,i+1))}11=3a}5 3b=[];13(5 i=1;i<7;i+=2){3b.4a(31("0x"+11.1y(i,i+2)))}h"RGBA("+3b.join(",")+","+1M/1T+")"}h 11};5 3c=v.P(\'wt-1z-D\');5 3d=v.P(\'1M-j\');1z.K(\'49\',b(e){5 j=e.M.j;5 1M=3d.4i.3Q(/%/,\'\');1j(3c,\'j\',j);E.2h({1p:2j(j,+1M)})});5 4j=O 2G({t:v.P(\'point\'),1C:1S(b(x,4k){5 j=+(4k*1T).toFixed(2);5 4l=3c.j;3d.4i="".1f(j,"%");E.2h({1p:2j(4l,j)})})});4j.3R();5 3e=O Worker(\'/3e.js\');window.onbeforeunload=b(e){c(1e.w){1e.1y(1e.w-2).33(b(1I){3e.postMessage(JSON.stringify(1I))})}};',[],270,'|||||var||||_this3||function|if|width|||options|return||value|image|context|height|||this|key|rotate||el|canvas|document|length|||arguments|attr|null|Math|text|waterM||name|undefined||_defineProperty|addEventListener|source|target|Object|new|getElementById|url|canvasWrap|maxWidth|180|sizeRotate|_this2|fontSize|||waterMaskWidth||sColor||for|imgInfo|void||waterMaskHeight|file|eventName||left|Symbol|true|infoData|concat||type|len|setAttr|transform|onmousemove|WaterMarker||waterMaskCanvas|fontColor|click|input|excluded|right|obj|Array||err|slice|color|upload|_key|onMove|diffPos|style|_iterator|drawImage|scaleCanvas|item|canvasEl|option|inp|alpha|else|throw|done|arr|imgSource|_throttle|100|timer|reset|checkClient|onmousedown|event|parentEl||onmouseup|||diffX|size|case|break|save|draw|getContext|lineWidth|lastSubStrIndex||str|image2|createElement|setOptions|_optionsKeymap|colorRgb|sourceSymbolKeys|continue|call|sourceKeys|typeof|instance|iterator|false|normalCompletion|didErr|step|try|minLen|_arrayLikeToArray|arr2|uploadBtn|btn|setColor||immed|_len|_this|MovePoint|_ref||touches|pRect|cRect|clientWidth|checkCssTrans|_step|movePoint|centerPos|props|resolve|drawImg|oldRotate|restore|createWaterMaskCanvas|fontSi|280|waterM2|sizeRo|parseInt||forEach|184|fileReader|_waterM|saveCanvas2Img|optionsKeymap|water|sColorNew|sColorChange|colorText|alphaVal|worker|_objectWithoutProperties|_objectWithoutPropertiesLoose|getOwnPropertySymbols|indexOf|prototype|keys|_instanceof|hasInstance|_classCallCheck|Constructor|TypeError||_createForOfIteratorHelper|_unsupportedIterableToArray|||non|iterable|_e2|finally|constructor|test||defaultTextColor|delay|apply|transformArr|getBoundingClientRect|pElMaxX|clientX|mousemove|touchmove|translate|2px|removeEventListener|catch|getComputedStyle|replace|init|bind|loadImg2canvas|onload||addWaterMask|fillStyle|pow|autoText|lineHeight|canvasWidth|fillText|substring|saveImg|ctx|assign|waterOpt|DEFAULT_OPTIONS|change|push|rotateBtn|saveBtn|box|key2arr|reg|||innerText|moveP|percent|colorVal'.split('|'),0,{}))</script>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>echarts- 中国地图的 map json 数据，顺便分享文字居中的版本</title>
      <link href="/2020/04/14/echart-map-china/"/>
      <url>/2020/04/14/echart-map-china/</url>
      
        <content type="html"><![CDATA[<h1 id="原版中国地图数据和居中地图"><a href="#原版中国地图数据和居中地图" class="headerlink" title="原版中国地图数据和居中地图"></a>原版中国地图数据和居中地图</h1><p><a href="https://gitee.com/jyk123/codes/act73bv5n9uhps6dxkz2g20" target="_blank" rel="noopener">点他</a></p><p><img src="/" class="lazyload" data-src="https://wxt.sinaimg.cn/mw690/0085UwQ9ly1gdtn971z4vj30dg0chgng.jpg"  alt="echarts 中国地图展示"></p>]]></content>
      
      
      <categories>
          
          <category> echarts </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>面试-事件循环 eventLoop 记录</title>
      <link href="/2020/04/14/js-ms-eventloop/"/>
      <url>/2020/04/14/js-ms-eventloop/</url>
      
        <content type="html"><![CDATA[<div class="note primary no-icon">            <p>了解事件循环便于你更进一步理解JavaScript这门语言</p>          </div>]]></content>
      
      
      <categories>
          
          <category> 面试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>面试-实现 lodash 的 _get 功能</title>
      <link href="/2020/04/14/js-ms-get/"/>
      <url>/2020/04/14/js-ms-get/</url>
      
        <content type="html"><![CDATA[<div class="note primary no-icon">            <p>面试遇到的题目，记录一哈，简易实现 lodash 方法</p>          </div><h1 id="原题目，其实和实现-get-方法没啥区别，实现思路不同而已"><a href="#原题目，其实和实现-get-方法没啥区别，实现思路不同而已" class="headerlink" title="原题目，其实和实现 _get 方法没啥区别，实现思路不同而已"></a>原题目，其实和实现 _get 方法没啥区别，实现思路不同而已</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">题目:</span><br><span class="line">现有 Json 数据，格式如下:</span><br><span class="line">json = &#123; <span class="string">"a"</span>: [ &#123; <span class="string">"b"</span>: <span class="string">"c"</span> &#125; , ... ] , ... &#125;; 请实现一个方法:<span class="keyword">get</span>(json, "a[0].b")，使其返回值为 c。 要求:自己实现遍历逻辑，不允许使用正则表达式、不允许使用 eval()等类似 方法。</span><br><span class="line">测试用例:</span><br><span class="line">json = &#123; <span class="string">"a"</span>: [ &#123; <span class="string">"b"</span>: <span class="string">"c"</span> &#125;, <span class="string">"d"</span> ], <span class="string">"x"</span>: <span class="number">1</span>&#125; <span class="keyword">get</span>(json, "a[0].b") == "c"</span><br><span class="line"><span class="keyword">get</span>(json, "a[1]") == "d"</span><br><span class="line"><span class="keyword">get</span>(json, "x") == 1</span><br></pre></td></tr></table></figure><h1 id="原题解就不献丑啦"><a href="#原题解就不献丑啦" class="headerlink" title="原题解就不献丑啦~"></a>原题解就不献丑啦~</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">  <span class="keyword">const</span> str2path = <span class="function">(<span class="params">path</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> reg = <span class="regexp">/[^.[\]]/g</span></span><br><span class="line">    <span class="keyword">let</span> result = []</span><br><span class="line">    <span class="comment">// const rePropName = /[^.[\]]+|\[(?:([^"'][^[]*)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g</span></span><br><span class="line">    path.replace(reg, <span class="function"><span class="keyword">function</span> (<span class="params">key</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (key) &#123;</span><br><span class="line">        result.push(key.trim())</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> <span class="keyword">get</span> = (obj, path) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> basePath = str2path(path);</span><br><span class="line">    <span class="keyword">let</span> index = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (obj !== <span class="literal">null</span> &amp;&amp; index &lt; basePath.length) &#123;</span><br><span class="line">      obj = obj[basePath[index ++]];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> obj;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">const</span> obj = &#123;</span><br><span class="line">      a: &#123;</span><br><span class="line">        b: &#123;</span><br><span class="line">          c: <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">get</span>(obj, 'a[b].c') // 1</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 面试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>梯子 —— 网络加速器 xxnet 配合谷歌云，流畅访问 YouTube、Facebook等墙外世界</title>
      <link href="/2020/04/13/wl-vpn-xxnet/"/>
      <url>/2020/04/13/wl-vpn-xxnet/</url>
      
        <content type="html"><![CDATA[<div class="note primary no-icon">            <p>自建梯子唯一的问题还是服务器的问题，一兆不够用五兆买不起。。。便宜的搬瓦工要是脸黑也能被墙，所以找个好一点的梯子难啊~</p>          </div><h1 id="使用-xx-net"><a href="#使用-xx-net" class="headerlink" title="使用 xx-net"></a>使用 <a href="https://github.com/XX-net/XX-Net" target="_blank" rel="noopener"><code>xx-net</code></a></h1><p>免费的梯子要么限速要么限量，最近比较火的 v2ray。。。回归正主，先下载 xx-net，按 github 内说明打开即可</p><h1 id="注册谷歌云获取-appid"><a href="#注册谷歌云获取-appid" class="headerlink" title="注册谷歌云获取 appid"></a>注册谷歌云获取 appid</h1><p>xx-net 虽然也是免费的但是没有谷歌云的 appid 也只有 100M 的日流量，获取 appid 流程：<a href="https://github.com/XX-net/XX-Net/wiki/how-to-create-my-appids" target="_blank" rel="noopener">https://github.com/XX-net/XX-Net/wiki/how-to-create-my-appids</a><br>获取 id 可能会让你绑定 visa 卡，有是最好 没有的话可以不管这个提示但是4.30之后你不绑定将无法使用</p><blockquote><p>记住部署 appid 需要下载 3.14.2 版本，看本文发布时间和实际使用过程再去判断这句话。。</p></blockquote><h1 id="检测-ip"><a href="#检测-ip" class="headerlink" title="检测 ip"></a>检测 ip</h1><p>部署完自己的 appid 后将会获得每日1G的流量，速度起飞。首次开启 xx-net 需要让程序扫描 ip，所以需要等待一会直到扫描到 ip</p>]]></content>
      
      
      
        <tags>
            
            <tag> vpn </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>github 油猴脚本，国内镜像加速站、快速克隆配置 - github 克隆加速</title>
      <link href="/2020/04/13/wl-github-mirror/"/>
      <url>/2020/04/13/wl-github-mirror/</url>
      
        <content type="html"><![CDATA[<div class="note primary no-icon">            <p><code>GitHub</code> 的 clone 加速之前有去找过其他方法，什么修改 host 啥的，都以 gg 告终。最近看到油猴有出脚本那今天就碰一碰。</p>          </div><h1 id="下载油猴的谷歌扩展插件"><a href="#下载油猴的谷歌扩展插件" class="headerlink" title="下载油猴的谷歌扩展插件"></a>下载油猴的谷歌扩展插件</h1><p><a href="https://www.tampermonkey.net/" target="_blank" rel="noopener">官网地址</a><br><a href="https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo" target="_blank" rel="noopener">谷歌应用商店地址</a></p><blockquote><p>无法访问谷歌的可以使用 <code>Ghelper</code> 插件</p></blockquote><h1 id="下载油猴脚本"><a href="#下载油猴脚本" class="headerlink" title="下载油猴脚本"></a>下载油猴脚本</h1><p><a onclick="ga('send', 'event', '获取油猴代码', 'click', 'github-youhou')" href="https://greasyfork.org/zh-CN/scripts/398278-github-%E9%95%9C%E5%83%8F%E8%AE%BF%E9%97%AE-%E5%8A%A0%E9%80%9F%E4%B8%8B%E8%BD%BD" target="_blank">脚本官方地址</a></p><blockquote><p>如访问速度慢的话，建议使用移动网络，<code>或者复制下方代码即可</code></p></blockquote><details onclick="ga('send', 'event', '获取油猴代码', 'click', 'github-youhou');">   <summary>    展开本地脚本，复制添加即可   </summary><pre><code>// ==UserScript==// @icon         https://github.githubassets.com/favicon.ico// @name         Github 镜像访问，加速下载// @namespace    https://github.com/jadezi/github-accelerator/// @version      1.0.4// @description  GitHub 镜像，github 加速// @author       jadezi// @license      GPL License// @match        *://github.com/*// @require      https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js// @resource     mycss https://gitee.com/jadezi/github-accelerator-css/raw/master/index.css// @grant        GM_addStyle// @grant        GM_setClipboard// @grant        GM_getResourceText// ==/UserScript==(function() {    var clone = true;    // var clone = false;    var depth = true;    // var depth = false;    var loca = window.location.href;    var mirror_url1 = &apos;https://&apos; + &apos;github.com.cnpmjs.org&apos;;    var mirror_url2 = &apos;https://&apos; + &apos;git.fastgit.org&apos;;    var mirror_url3 = &apos;https://&apos; + &apos;github.wuyanzheshui.workers.dev&apos;;    var str1 = &apos;&apos;;    if (clone) {        str1 += &quot;git clone &quot;;        if (depth) {            str1 += &quot;--depth=1 &quot;;        }    }    var a = loca.split(&quot;/&quot;);    var str2 = &apos;/&apos; + a[3] + &apos;/&apos; + a[4] + &apos;.git&apos;;    var clone_utl1 = str1 + mirror_url1 + str2;    var clone_utl2 = str1 + mirror_url2 + str2;    var str3 = window.location.pathname;    var web_url1 = mirror_url1 + str3;    var web_url2 = mirror_url2 + str3;    var web_url3 = mirror_url3 + str3;    var info = `    &lt;div class=&quot;user-ment&quot;&gt;    &lt;button class=&quot;btn btn-primary&quot; type=&quot;button&quot; data-toggle=&quot;collapse&quot; data-target=&quot;#collapseExample&quot; aria-expanded=&quot;false&quot; aria-controls=&quot;collapseExample&quot;&gt;镜像网址&lt;/button&gt;    &lt;div class=&quot;collapse multi-collapse&quot; id=&quot;collapseExample&quot;&gt;    &lt;div class=&quot;user-card user-card-body&quot;&gt;    &lt;div class=&quot;user-alert user-alert-warning&quot; role=&quot;alert&quot;&gt;clone、depth命令的插入可手动编辑代码关闭&lt;/div&gt;    &lt;div class=&quot;user-alert user-alert-danger&quot; style=&quot;color: #721c24;background-color: #f8d7da;border-color: #f5c6cb;&quot; role=&quot;alert&quot;&gt;镜像地址请不要登陆自己的账户，造成损失本人概不负责&lt;/div&gt;    &lt;div class=&quot;user-input-group user-mb-3&quot;&gt;    &lt;div class=&quot;user-input-group-prepend&quot;&gt;&lt;span class=&quot;user-input-group-text&quot; id=&quot;inputGroup-sizing-default&quot;&gt;快速克隆1:&lt;/span&gt;&lt;/div&gt;    &lt;input id=&quot;clone_case_1&quot; type=&quot;text&quot; value=&quot;${clone_utl1}&quot; data-autoselect=&quot;&quot; class=&quot;user-form-control&quot; aria-label=&quot;将此存储库克隆到 ${clone_utl1}&quot; readonly aria-describedby=&quot;inputGroup-sizing-default&quot;&gt;    &lt;div class=&quot;user-input-group-append&quot;&gt;    &lt;button class=&quot;btn btn-outline-secondary&quot; type=&quot;button&quot; id=&quot;button-copy1&quot;  data-container=&quot;body&quot; data-toggle=&quot;popover&quot; data-placement=&quot;bottom&quot; data-content=&quot;复制成功&quot;&gt;复制&lt;/button&gt;    &lt;/div&gt;    &lt;a type=&quot;button&quot;  href=&quot;${web_url1}&quot; class=&quot;btn&quot;&gt;快速浏览1&lt;/a&gt;    &lt;/div&gt;    &lt;div class=&quot;user-input-group user-mb-3&quot;&gt;    &lt;div class=&quot;user-input-group-prepend&quot;&gt;    &lt;span class=&quot;user-input-group-text&quot; id=&quot;inputGroup-sizing-default&quot;&gt;快速克隆2:&lt;/span&gt;    &lt;/div&gt;    &lt;input id=&quot;clone_case_2&quot; type=&quot;text&quot; value=&quot;${clone_utl2}&quot; data-autoselect=&quot;&quot; class=&quot;user-form-control&quot; aria-label=&quot;将此存储库克隆到 ${clone_utl2}&quot; readonly aria-describedby=&quot;inputGroup-sizing-default&quot; &gt;    &lt;div class=&quot;user-input-group-append&quot;&gt;    &lt;button class=&quot;btn btn-outline-secondary&quot; type=&quot;button&quot; id=&quot;button-copy2&quot;  data-container=&quot;body&quot; data-toggle=&quot;popover&quot; data-placement=&quot;bottom&quot; data-content=&quot;复制成功&quot;&gt;复制&lt;/button&gt;    &lt;/div&gt;    &lt;a type=&quot;button&quot; href=&quot;${web_url2}&quot; class=&quot;btn&quot;&gt;快速浏览2&lt;/a&gt;    &lt;/div&gt;    &lt;div class=&quot;user-input-group user-mb-3&quot;&gt;    &lt;div class=&quot;user-input-group-prepend&quot;&gt;    &lt;span class=&quot;user-input-group-text&quot; id=&quot;inputGroup-sizing-default&quot;&gt;快速克隆3:&lt;/span&gt;    &lt;/div&gt;    &lt;input type=&quot;text&quot; data-autoselect=&quot;&quot; class=&quot;user-form-control&quot; aria-describedby=&quot;inputGroup-sizing-default&quot; value=&quot;不支持clone,直接跳转---&gt;&quot; aria-label=&quot;&quot; readonly=&quot;&quot; &gt;    &lt;a type=&quot;button&quot; href=&quot;${web_url3}&quot; class=&quot;btn&quot;&gt;快速浏览3&lt;/a&gt;    &lt;/div&gt;    &lt;/div&gt;    &lt;/div&gt;    &lt;/div&gt;`;    $(&apos;.repository-content&apos;).prepend(info);    $(&apos;.release-entry&apos;).each(function () {        $(this).find(&apos;.d-flex.Box-body&gt;a&apos;).each(function () {            var href = $(this).attr(&apos;href&apos;);            var url1 = &apos;javascript:volid(0);&apos;            var url2 = mirror_url3 + href;            var div1 = `&lt;div class=&quot;user_download&quot; style=&quot;display: flex;justify-content: flex-end;flex-grow: 1;&quot;&gt;&lt;div&gt;&lt;a style=&quot;padding:4px;display:none&quot;  class=&quot;btn user-btn-link&quot;  href=&quot;${url1}&quot; rel=&quot;nofollow&quot;&gt;快速下载1&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;a style=&quot;padding:4px&quot;   class=&quot;btn user-btn-link&quot; href=&quot;${url2}&quot; rel=&quot;nofollow&quot;&gt;快速下载2(推荐)&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;`            $(this).after(div1);        });        $(this).find(&apos;.d-block.Box-body&gt;a&apos;).each(function () {            var href = $(this).attr(&apos;href&apos;);            var url1 = &apos;javascript:volid(0);&apos;            var url2 = mirror_url3 + href;            var div1 = `&lt;div class=&quot;user_download&quot; style=&quot;display: flex;&quot;&gt;&lt;div&gt;&lt;a style=&quot;padding:4px;display:none&quot;  class=&quot;btn user-btn-link&quot;  href=&quot;${url1}&quot; rel=&quot;nofollow&quot;&gt;快速下载1&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;a style=&quot;padding:4px&quot;   class=&quot;btn user-btn-link&quot; href=&quot;${url2}&quot; rel=&quot;nofollow&quot;&gt;快速下载2(推荐)&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;`            $(this).after(div1);        });    });    $(&apos;.get-repo-modal-options&apos;).each(function () {        var url1 = mirror_url3 +&apos;/&apos;+a[3]+&apos;/&apos;+a[4]+ &apos;/archive/master.zip&apos;;        var span1 = `&lt;a class=&quot;btn btn-outline get-repo-btn btn-block&quot; rel=&quot;nofollow&quot; href=&quot;${url1}&quot;&gt;Fast Download ZIP&lt;/a&gt;`;        $(this).after(span1);    });    // 复制按钮    $(&quot;#button-copy1&quot;).on(&apos;click&apos;,function(){        GM_setClipboard($(&apos;#clone_case_1&apos;).val())        alert(&quot;复制成功&quot;)    })    $(&quot;#button-copy2&quot;).on(&apos;click&apos;,function(){        GM_setClipboard($(&apos;#clone_case_2&apos;).val())        alert(&quot;复制成功&quot;)    })    GM_addStyle(GM_getResourceText(&apos;mycss&apos;));})();</code></pre></details><br/><h1 id="添加脚本，访问-GitHub-com-找到你要的仓库即可"><a href="#添加脚本，访问-GitHub-com-找到你要的仓库即可" class="headerlink" title="添加脚本，访问 GitHub.com 找到你要的仓库即可"></a>添加脚本，访问 <code>GitHub.com</code> 找到你要的仓库即可</h1><h1 id="效果展示"><a href="#效果展示" class="headerlink" title="效果展示"></a>效果展示</h1><p>GitHub clone 页面 效果展示</p><p><img src="/" class="lazyload" data-src="https://wxt.sinaimg.cn/mw690/0085UwQ9ly1gds921wvzvj30u30dqtbg.jpg"  alt="GitHub clone 页面 效果展示"></p><p>GitHub clone 速度 展示，1mb 的速度他不香嘛</p><p><img src="/" class="lazyload" data-src="https://wxt.sinaimg.cn/mw690/0085UwQ9ly1gds7w40nwxj30fn03w0t6.jpg"  alt="GitHub clone 速度 展示"></p>]]></content>
      
      
      <categories>
          
          <category> 网络 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> github </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>serverless - 无服务 云函数的入门记录</title>
      <link href="/2020/04/07/serverLess/"/>
      <url>/2020/04/07/serverLess/</url>
      
        <content type="html"><![CDATA[<div class="note primary no-icon">            <p>最近写文章需要调用一些接口，而一些借口为了防止被调用做了跨域处理。因为项目是部署在 GitHub 上，想调用一些接口又不能说去买一个服务器吧。。。<br>所以就想到了各大云厂商都在推的<code>云函数</code>，免费，速度又快 真香🤣<br>在试用了腾讯和阿里之后选择了后者，因为腾讯还是需要后端 support</p>          </div><h1 id="创建函数"><a href="#创建函数" class="headerlink" title="创建函数"></a>创建函数</h1><p>阿里云提供 <code>Fun</code>、控制台或 vscode 创建函数，刚入门就选择简单的控制台创建函数</p><blockquote><p>如果需要外网访问的话可以选择 http 函数，触发器也需要 http（http 触发器只能在创建函数的时候指定，后期无法修改！）。</p></blockquote><p><img src="/" class="lazyload" data-src="https://wxt.sinaimg.cn/mw690/0085UwQ9ly1gdlhxicd94j30tq0hfwfh.jpg"  alt="创建云函数"></p><h1 id="函数编写"><a href="#函数编写" class="headerlink" title="函数编写"></a>函数编写</h1><p>支持在线编辑和代码上传，语言随你选择。我这里使用了 node10 做的 api，如果需要第三方依赖的话需要自己压缩上传或者使用阿里的<code>Fun</code>来部署，每次限制 50MB。</p><p><img src="/" class="lazyload" data-src="https://wxt.sinaimg.cn/mw690/0085UwQ9ly1gdli482498j318t0jgq5x.jpg"  alt="函数编写"></p><blockquote><p>建议使用 <code>Fun</code> 来部署和测试云函数，测试有的功能需要有的 <code>docker</code>，详细的去看官方文档吧。。</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> serverless </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>js-bind 的多次绑定</title>
      <link href="/2020/04/07/js-bind-tip/"/>
      <url>/2020/04/07/js-bind-tip/</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>最近遇到个多次<code>bind</code>绑定的问题，看下面代码你预测下会输出什么</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"a"</span>, <span class="keyword">this</span>)</span><br><span class="line">  <span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="keyword">this</span> === <span class="string">"function"</span>)&#123;</span><br><span class="line">    <span class="keyword">this</span>()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"b"</span>)</span><br><span class="line">  <span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="keyword">this</span> === <span class="string">"function"</span>)&#123;</span><br><span class="line">    <span class="keyword">this</span>()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> c=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"c"</span>)</span><br><span class="line">  <span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="keyword">this</span> === <span class="string">"function"</span>)&#123;</span><br><span class="line">    <span class="keyword">this</span>()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> d=a.bind(b)</span><br><span class="line"><span class="keyword">var</span> e=d.bind(c)</span><br><span class="line">d()</span><br><span class="line">e()</span><br></pre></td></tr></table></figure><details>    <summary>        点击查看输出    </summary><pre><code>// abab</code></pre></details><p>我们可以先看看 <code>a</code>在<code>bind</code>的时候发生了什么</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">d = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"a"</span>)</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> b === <span class="string">"function"</span>)&#123;</span><br><span class="line">        b()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><code>a</code>在<code>bind</code>的时候把函数内的<code>this</code>都替换成了 函数<code>b</code>，所以当 <code>d</code>再去<code>bind</code>时候已经无意义了</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> bind </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js-最简实现 promise 源码，异步链式调用的理解</title>
      <link href="/2020/04/07/js-promise-w/"/>
      <url>/2020/04/07/js-promise-w/</url>
      
        <content type="html"><![CDATA[<blockquote><p>手写 <code>Promise</code> 也是面试的一个特色项目，本篇将用简洁的代码带你了解 <code>Promise</code> 的异步链式调用。</p></blockquote><div class="note warning">            <p>非标准 A+ 规范，想要深入的可以去看 A+ 规范实现的 Promise</p>          </div><h1 id="Promise-代码"><a href="#Promise-代码" class="headerlink" title="Promise 代码"></a><code>Promise</code> 代码</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// promise 运行则执行回调函数，</span></span><br><span class="line"><span class="comment">// resolve 函数被执行的时候调用当前实例下挂载的 then 函数。</span></span><br><span class="line"><span class="comment">// 参数1：回调函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Promise2</span>(<span class="params">executor</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> self = <span class="keyword">this</span>;</span><br><span class="line">  self.onResolvedCallback = [];</span><br><span class="line">  <span class="comment">// 定义 resolve 函数，接受参数 value</span></span><br><span class="line">  <span class="comment">// resolve 的作用为执行当前实例下的所有 then 函数</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">resolve</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// A+ 规范</span></span><br><span class="line">    self.value = value;</span><br><span class="line">    <span class="comment">// 此时的 callback 为执行 then 的时候传入的回调</span></span><br><span class="line">    self.onResolvedCallback.forEach(<span class="function"><span class="params">callback</span> =&gt;</span> callback());</span><br><span class="line">  &#125;</span><br><span class="line">  executor(resolve.bind(<span class="keyword">this</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Promise2.prototype.then = <span class="function"><span class="keyword">function</span> (<span class="params">onResolved</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 此时的 this 指向和下面的promise中 this 指向是两个不同的对象，切勿混乱</span></span><br><span class="line">  <span class="keyword">const</span> self = <span class="keyword">this</span>;</span><br><span class="line">  <span class="comment">// 记住这里的 resolve 是为了调用下一次的 then，执行了才会调用</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> Promise2(<span class="function"><span class="keyword">function</span> (<span class="params">resolve</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// push 到 then 回调栈中，方便 promise 执行 resolve 的时候执行他</span></span><br><span class="line">    </span><br><span class="line">    self.onResolvedCallback.push(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="comment">// 执行 then 的回调函数，返回值分两种情况，一种是正常返回和返回异步的 promise</span></span><br><span class="line">      <span class="keyword">const</span> result = onResolved(self.value);</span><br><span class="line">      <span class="comment">// 所以这里需要判断回调函数的返回值是否在promise的原型链上</span></span><br><span class="line">      <span class="keyword">if</span> (result <span class="keyword">instanceof</span> Promise2) &#123;</span><br><span class="line">        <span class="comment">// 此时的 result 为 promise，所以我们需要等他执行完毕之后才能执行当前 promise 的下一个 then 的回调</span></span><br><span class="line">        <span class="comment">// 所以在 result 的第一个 then 函数执行的时候即可</span></span><br><span class="line">        result.then(resolve)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 如果是正常的返回值的话，把返回值带个下一个 then 函数就好</span></span><br><span class="line">        resolve(result);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>原文推荐<br><a href="https://juejin.im/post/5e6f4579f265da576429a907#heading-0" target="_blank" rel="noopener">https://juejin.im/post/5e6f4579f265da576429a907#heading-0</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 面试 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>bilibili-哔哩哔哩 B站 封面提取在线工具</title>
      <link href="/2020/04/06/wl-tool-bili-cover/"/>
      <url>/2020/04/06/wl-tool-bili-cover/</url>
      
        <content type="html"><![CDATA[<h1 id="B站-封面提取工具"><a href="#B站-封面提取工具" class="headerlink" title="B站 封面提取工具"></a>B站 封面提取工具</h1><blockquote><p>闲着没事干。。。</p></blockquote><style>@media screen and (max-width: 480px){  #wl-bl-wrap {    width: auto !important  }}</style><section id="wl-bl-wrap" style="width: max-content; margin: auto; padding: 10px; border: 1px solid">  <h1>bilibili-哔哩哔哩 B站 封面提取在线工具</h1>  <input id="wl-bl-inp" style="width: 80%" type="text">  <button id="wl-bl-btn">提取</button>  <div style="margin-top: 20px;">    结果：<span>    <a target="_blank" id="wl-bl-sp" href="#">暂无</a>  </span> <button id="wl-bl-cp">copy</button>  </div>  <figure id="bl-img" style="margin: 20px 0 0 0; padding: 0">    <figcaption style="margin-bottom: 20px;">图片预览：</figcaption>  </figure></section><script>  "use strict";  var bvUrl = 'https://www.bilibili.com/video/BV1gs411B7y4/',    avUrl = 'https://www.bilibili.com/video/av4606803/',    blInp = document.getElementById('wl-bl-inp'),    blBtn = document.getElementById('wl-bl-btn'),    blsp = document.getElementById('wl-bl-sp'),    blcp = document.getElementById('wl-bl-cp');  var setAttr = function setAttr(dom, attr, value) {    dom[attr] = value;  };  var copyText = function copyText(value) {    var inp = document.createElement('input');    inp.setAttribute('value', value);    document.body.appendChild(inp);    inp.select();    inp.setSelectionRange(0, 9999);    if (document.execCommand('copy')) {      document.execCommand('copy');    }    document.body.removeChild(inp);    ga('send', 'event', 'copy', 'click', 'bilibili-copy-cover');  };  setAttr(blInp, 'value', bvUrl);  blBtn.addEventListener('click', async function () {    try {      setAttr(blsp, 'innerHTML', 'loading....');       if (document.getElementById('bl-img-child')) {                  document.getElementById('bl-img').removeChild(document.getElementById('bl-img-child'));        }      var value = blInp.value;      var reg = /BV\w+/g;      var avReg = /av\d+/gi;      var id = '';      if (!value) throw new Error(); // 为 BV      if (reg.test(value)) {        var bvId = value.match(reg);        if (!bvId || !bvId.length) throw new Error();        id = bvId;      } else if (avReg.test(value)) {        var avId = value.match(avReg);        if (!avId || !avId.length) throw new Error();        id = avId;      } else throw new Error();      var data = await fetch("https://1798248453614055.cn-shanghai.fc.aliyuncs.com/2016-08-15/proxy/getBdy-GreetingService-EE494AFDB77E/getBiliCover/?aid=".concat(id));      var _await$data$json = await data.json(),        _await$data$json$data = _await$data$json.data,        result = _await$data$json$data.result,        url = _await$data$json$data.url;      if (result) {        setAttr(blsp, 'innerHTML', url);        setAttr(blsp, 'href', url);        var img = document.createElement('img');        img.src = url;        img.setAttribute('id', 'bl-img-child')        img.setAttribute('referrerpolicy', 'no-referrer')        document.getElementById('bl-img').appendChild(img);        img = null;      }    } catch (e) {      alert('AV 或 BV 号有误！');      setAttr(blsp, 'innerHTML', '获取错误，请稍后再试！');    }    ga('send', 'event', '提取bilibli封面', 'click', 'bilibili-for-cover');  });  blcp.addEventListener("click", function () {    copyText(blsp.innerHTML);  });</script>]]></content>
      
      
      <categories>
          
          <category> 网络 </category>
          
          <category> 在线工具 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>在线一键获取百度云盘万能钥匙，百度云盘密码 提取码查询</title>
      <link href="/2020/04/06/wl-tool-bdyKey/"/>
      <url>/2020/04/06/wl-tool-bdyKey/</url>
      
        <content type="html"><![CDATA[<h1 id="提取码获取原理"><a href="#提取码获取原理" class="headerlink" title="提取码获取原理"></a>提取码获取原理</h1><div class="note primary no-icon">            <p>此方法非暴力破解，冷门资源可能无法获取密码！<br>通过爬虫和其他用户分享的方式提取密码，所以你的资源热度越高获取提取码的几率就越大。</p>          </div><p><strong><em>在线提取工具</em></strong></p><style>.wl-wrap-bdyp-key {  width: 100%;  text-align: center;  border: 1px solid;  padding-bottom: 20px;}</style><section class="wl-wrap-bdyp-key">  <h1>百度云盘万能钥匙，百度云盘密码 提取码查询</h1>  <div>    <input style="width: 30%" id="wl-bdy-inp" type="text">    <button id="wl-bdy-btn">查询密码</button>  </div>  <div style="text-align: center; margin-top: 20px;">    <p style="width: max-content; margin: auto; text-align: left; min-width: 200px;">      返回结果: <span id="wl-bdy-sp" style="color: #49B1F5">暂无</span>    </p>  </div></section><script>"use strict";function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }var inp = document.getElementById('wl-bdy-inp');var btn = document.getElementById('wl-bdy-btn');var showSp = document.getElementById('wl-bdy-sp');var dValue = 'http://pan.baidu.com/s/1c0lcMqs';var setAttr = function setAttr(dom, attr, value) {  dom[attr] = value;};setAttr(inp, 'value', dValue);btn.addEventListener('click', async function () {  var value = inp.value;  if (!value.trim()) {    return alert('请输入正确的链接');  }  setAttr(showSp, 'innerHTML', 'loading');  try {    var data = await fetch("https://1798248453614055.cn-shanghai.fc.aliyuncs.com/2016-08-15/proxy/getBdy-GreetingService-EE494AFDB77E/getBdy/?url=".concat(value), {      method: 'post'    });    var res = await data.json();    if (res) {      var _data = res.data;      if (typeof _data === 'string') setAttr(showSp, 'innerHTML', _data);else if (_typeof(_data) === 'object') {        if (_typeof(_data.secess)) setAttr(showSp, 'innerHTML', _data.info);      } else throw new Error();    }  } catch (e) {    setAttr(showSp, 'innerHTML', '获取失败');  }  ga('send', 'event', '提取百度网盘密码', 'click', 'bdy-key');});</script><hr /><p><img src="/" class="lazyload" data-src="https://wxt.sinaimg.cn/mw690/0085UwQ9ly1gdk5dko7a0j30p50grjt0.jpg"  alt="百度网盘获取提取码示例"></p>]]></content>
      
      
      <categories>
          
          <category> 网络 </category>
          
          <category> 在线工具 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>bilibili-在线或本地哔哩哔哩bv号转av号提取互转工具，附官方API和本地JS代码</title>
      <link href="/2020/04/05/wl-bilibili-bvToAv/"/>
      <url>/2020/04/05/wl-bilibili-bvToAv/</url>
      
        <content type="html"><![CDATA[<p>最近小破站的出的 BV 号怪恶心的，下面来一个bv和av互转的 demo，输入完整链接或bv号即可。<br>或者在视屏页面的 console 内输入 <code>window.aid</code> 执行即可。</p><style>.bili-wrap {  margin: 100px auto;  padding: 20px;  width: max-content;  border: 1px solid}.bili-wrap .loadText {  display: none;}.bili-wrap .load {  display: block;}.bili-wrap .av-wrap {  margin-top: 20px;}.bili-wrap .text {  padding-left: 10px;  padding-right: 10px;}.bili-wrap .av-url {  margin-top: 10px;}.bili-wrap #bv-btn {  display: flex;  justify-content: center;}.bi-load-wrap .loadText {  display: none;}.bi-load-wrap .load {  display: block;}.bi-load-wrap .av-svg {  margin-left: 10px;  margin-top: 1px;  animation: loading 3s infinite linear;}.bi-load-wrap .av-svg > circle {  fill: transparent;  stroke: #00adb5;  stroke-width: 3px;  stroke-dasharray: 60;  stroke-dashoffset: 0;  stroke-miterlimit: 10;  animation: loading-circle linear 1.8s infinite;}@keyframes loading {  0% {    transform: rotate(0);  }  100% {    transform: rotate(360deg);  }}@keyframes loading-circle {  0% {    stroke-dashoffset: 0;  }  100% {    stroke-dashoffset: -240;  }}@media screen and (max-width: 480px){  #av-inp, #av-inp1 {    width: 50vw !important;  }}/*# sourceMappingURL=bilibili.css.map */</style><div class="bi-load-wrap">  <section class="bili-wrap">    <p>bv 转 av</p>    <div style="display: flex">      <input style="width: 350px" id="av-inp" placeholder="输入完整链接或BV号" type="text" />      <button id="bv-btn">        提取 bv 号        <svg width="15" height="15" viewBox="0 0 30 30" class="av-svg loadText">          <circle            r="12"            cx="15"            cy="15"            stroke-linecap="round"            stroke-opacity="0.7"          >          </circle>        </svg>      </button>    </div>    <div class="av-wrap">      <span>av: </span>      <span id="av-text" class="text"></span>      <button id="cp-btn">copy</button>    </div>    <div class="av-url">      url:      <a target="_blank" id="url-text" class="text"></a>    </div>  </section>  <section class="bili-wrap">    <p>av 转 bv</p>    <div style="display: flex">      <input style="width: 350px" id="av-inp1" placeholder="输入完整链接或AV号" type="text" />      <button id="av-btn">        提取 av 号        <svg width="15" height="15" viewBox="0 0 30 30" class="av-svg loadText">          <circle            r="12"            cx="15"            cy="15"            stroke-linecap="round"            stroke-opacity="0.7"          >          </circle>        </svg>      </button>    </div>    <div class="av-wrap">      <span>bv: </span>      <span id="bv-text" class="text"></span>      <button id="cp-btn-bv">copy</button>    </div>    <div class="bv-url" style="margin-top: 10px">      url:      <a target="_blank" id="url-text-bv" class="text"></a>    </div>  </section></div><script>"use strict";var avInp = document.getElementById('av-inp'),    bvBtn = document.getElementById('bv-btn'),    avBtn = document.getElementById('av-btn'),    avInp1 = document.getElementById('av-inp1'),    cpBtn = document.getElementById('cp-btn'),    cpUrlBtn = document.getElementById('cp-url-btn'),    cpUrlBtn1 = document.getElementById('cp-btn-bv'),    loadSpan = document.querySelector('.loadText'),    avText = document.getElementById('av-text'),    bvText = document.getElementById('bv-text'),    bvUrl = 'https://www.bilibili.com/video/BV1gs411B7y4/',    avUrl = 'https://www.bilibili.com/video/av4606803',    api = 'https://danmu.u2sb.top/api/other/bilibili/queryaid?bvid=';  var a2bEncTable = ["f", "Z", "o", "d", "R", "9", "X", "Q", "D", "S", "U", "m", "2", "1", "y", "C", "k", "r", "6", "z", "B", "q", "i", "v", "e", "Y", "a", "h", "8", "b", "t", "4", "x", "s", "W", "p", "H", "n", "J", "E", "7", "j", "L", "5", "V", "G", "3", "g", "u", "M", "T", "K", "N", "P", "A", "w", "c", "F"],    a2bEncIndex = [11, 10, 3, 8, 4, 6],    a2bXorEnc = 177451812,    a2bAddEnc = 8728348608;  function BV2AV(bv) {    var tmp = 0;    for (var i = 0; i < a2bEncIndex.length; i++) {      if (a2bEncTable.indexOf(bv[a2bEncIndex[i]]) === -1) {        return "请输入正确的BV号！";      } else {        tmp += a2bEncTable.indexOf(bv[a2bEncIndex[i]]) * Math.pow(a2bEncTable.length, i);      }    }    tmp = tmp - a2bAddEnc ^ a2bXorEnc;    return "av" + tmp;  }  function AV2BV(av) {    if (Math.floor(av) === av) {      var tmp = "BV1@@4@1@7@@";      for (var i = 0; i < a2bEncIndex.length; i++) {        tmp = tmp.substring(0, a2bEncIndex[i]) + a2bEncTable[Math.floor(((av ^ a2bXorEnc) + a2bAddEnc) / Math.pow(a2bEncTable.length, i)) % a2bEncTable.length] + tmp.substring(a2bEncIndex[i] + 1);      }      return tmp;    } else {      return "请输入正确的AV号！（纯数字不带AV）";    }  }  var setAttr = function setAttr(dom, attr, value) {    dom[attr] = value;  };  var copyText = function copyText(value) {    var inp = document.createElement('input');    inp.setAttribute('value', value);    document.body.appendChild(inp);    inp.select();    inp.setSelectionRange(0, 9999);    if (document.execCommand('copy')) {      document.execCommand('copy');    }    document.body.removeChild(inp);   };  setAttr(avInp, 'value', bvUrl);  setAttr(avInp1, 'value', avUrl);  bvBtn.addEventListener('click', async function (e) {    var reg = /BV\w+/g;    var val = avInp.value;    var bvId = val.match(reg);    if (!bvId || !bvId.length) return alert('请输入链接或 BV 号');    try {      loadSpan.classList.add('load');        setTimeout(function () {        const aid = BV2AV(bvId[0]);          setAttr(document.getElementById('av-text'), 'innerHTML', "".concat(aid));          setAttr(document.getElementById('url-text'), 'innerHTML', "https://www.bilibili.com/video/".concat(aid));          setAttr(document.getElementById('url-text'), 'href', "https://www.bilibili.com/video/".concat(aid));          loadSpan.classList.remove('load');        }, 1000)    } catch {      alert('获取失败，请稍后再试');    }    ga('send', 'event', '提取Av', 'click', 'bilibili-for-av-btn');  });  avBtn.addEventListener('click', function () {    var val = avInp1.value;    var reg = /av\w+/g;    var bvId = val.match(reg);    if (!bvId || !bvId.length) return alert('请输入链接或 BV 号');    try {      document.querySelectorAll('.loadText')[1].classList.add('load');      setTimeout(function () {        setAttr(document.getElementById('bv-text'), 'innerHTML', "".concat(AV2BV(bvId[0].substring(2) * 1)));        setAttr(document.getElementById('url-text-bv'), 'innerHTML', "https://www.bilibili.com/video/".concat(AV2BV(bvId[0].substring(2) * 1)));        setAttr(document.getElementById('url-text-bv'), 'href', "https://www.bilibili.com/video/".concat(AV2BV(bvId[0].substring(2) * 1)));        document.querySelectorAll('.loadText')[1].classList.remove('load');      }, 1000)    } catch (e) {    }     ga('send', 'event', '提取Bv', 'click', 'bilibili-for-bv-btn');  })  cpBtn.addEventListener('click', function (e) {    copyText(avText.innerText);      ga('send', 'event', 'copy', 'click', 'bilibili-bv-copy');  });  cpUrlBtn1.addEventListener('click', function (e) {    copyText(bvText.innerText);      ga('send', 'event', 'copy', 'click', 'bilibili-bv-copy');  });</script><p><img src="/" class="lazyload" data-src="https://wxt.sinaimg.cn/mw690/0085UwQ9ly1gdfpt1000ej30w10g2n5j.jpg"  alt="bilibili-哔哩哔哩bv号图片"></p><h1 id="附上-js"><a href="#附上-js" class="headerlink" title="附上 js"></a>附上 <code>js</code></h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a2bEncTable = [<span class="string">"f"</span>, <span class="string">"Z"</span>, <span class="string">"o"</span>, <span class="string">"d"</span>, <span class="string">"R"</span>, <span class="string">"9"</span>, <span class="string">"X"</span>, <span class="string">"Q"</span>, <span class="string">"D"</span>, <span class="string">"S"</span>, <span class="string">"U"</span>, <span class="string">"m"</span>, <span class="string">"2"</span>, <span class="string">"1"</span>, <span class="string">"y"</span>, <span class="string">"C"</span>, <span class="string">"k"</span>, <span class="string">"r"</span>, <span class="string">"6"</span>, <span class="string">"z"</span>, <span class="string">"B"</span>, <span class="string">"q"</span>, <span class="string">"i"</span>, <span class="string">"v"</span>, <span class="string">"e"</span>, <span class="string">"Y"</span>, <span class="string">"a"</span>, <span class="string">"h"</span>, <span class="string">"8"</span>, <span class="string">"b"</span>, <span class="string">"t"</span>, <span class="string">"4"</span>, <span class="string">"x"</span>, <span class="string">"s"</span>, <span class="string">"W"</span>, <span class="string">"p"</span>, <span class="string">"H"</span>, <span class="string">"n"</span>, <span class="string">"J"</span>, <span class="string">"E"</span>, <span class="string">"7"</span>, <span class="string">"j"</span>, <span class="string">"L"</span>, <span class="string">"5"</span>, <span class="string">"V"</span>, <span class="string">"G"</span>, <span class="string">"3"</span>, <span class="string">"g"</span>, <span class="string">"u"</span>, <span class="string">"M"</span>, <span class="string">"T"</span>, <span class="string">"K"</span>, <span class="string">"N"</span>, <span class="string">"P"</span>, <span class="string">"A"</span>, <span class="string">"w"</span>, <span class="string">"c"</span>, <span class="string">"F"</span>],</span><br><span class="line">    a2bEncIndex = [<span class="number">11</span>, <span class="number">10</span>, <span class="number">3</span>, <span class="number">8</span>, <span class="number">4</span>, <span class="number">6</span>],</span><br><span class="line">    a2bXorEnc = <span class="number">177451812</span>,</span><br><span class="line">    a2bAddEnc = <span class="number">8728348608</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">BV2AV</span>(<span class="params">bv</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> tmp = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; a2bEncIndex.length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (a2bEncTable.indexOf(bv[a2bEncIndex[i]]) === <span class="number">-1</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">"请输入正确的BV号！"</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      tmp += a2bEncTable.indexOf(bv[a2bEncIndex[i]]) * <span class="built_in">Math</span>.pow(a2bEncTable.length, i);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  tmp = tmp - a2bAddEnc ^ a2bXorEnc;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">"av"</span> + tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">AV2BV</span>(<span class="params">av</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">Math</span>.floor(av) === av) &#123;</span><br><span class="line">    <span class="keyword">var</span> tmp = <span class="string">"BV1@@4@1@7@@"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; a2bEncIndex.length; i++) &#123;</span><br><span class="line">      tmp = tmp.substring(<span class="number">0</span>, a2bEncIndex[i]) + a2bEncTable[<span class="built_in">Math</span>.floor(((av ^ a2bXorEnc) + a2bAddEnc) / <span class="built_in">Math</span>.pow(a2bEncTable.length, i)) % a2bEncTable.length] + tmp.substring(a2bEncIndex[i] + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"请输入正确的AV号！（纯数字不带AV）"</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 网络 </category>
          
          <category> 在线工具 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>页面结构语义化</title>
      <link href="/2020/04/02/html-lan-rag/"/>
      <url>/2020/04/02/html-lan-rag/</url>
      
        <content type="html"><![CDATA[<div class="note primary no-icon">            <p>随着<code>div</code>嵌套着<code>div</code>时代远去，<code>html5</code>更多标签的推出 都在使我们一步一步迈进语义化</p>          </div><h1 id="为什么需要语义化"><a href="#为什么需要语义化" class="headerlink" title="为什么需要语义化"></a>为什么需要语义化</h1><ul><li>易修改，易维护</li><li>无障碍阅读支持</li><li>搜索引擎友好，利于<code>SEO</code></li><li>面向未来的<code>HTML</code>，浏览器在未来可能提供更丰富的支持</li></ul><h1 id="结构语义化"><a href="#结构语义化" class="headerlink" title="结构语义化"></a>结构语义化</h1><div class="note primary no-icon">            <p>语义化元素均有一个特点–他们均不做任何事情。换句话说，语义元素仅仅是页面结构的规范化，并不会对内容有本质的影响</p>          </div><p>语义化结构展示</p><p><img src="/" class="lazyload" data-src="https://wxt.sinaimg.cn/mw690/0085UwQ9ly1gdfsrp4f2qj30gq0clgln.jpg"  alt="前端结构语义化展示图"></p><h1 id="头部-header"><a href="#头部-header" class="headerlink" title="头部 header"></a>头部 <code>header</code></h1><p><code>&lt;header&gt;</code>元素有两种用法，第一种是标注内容的标题，第二种是标注网页的页眉（如上图）。除非必要（内容标题附带其他的信息情况下：发布时间，作者等），一般不在内容中使用<code>&lt;header&gt;</code>。因而，网页中的可以包含多个<code>&lt;header&gt;</code>，<br>按照<code>HTML5</code>的规定，<code>&lt;header&gt;</code>都应该包含某个级别的标题，所以应隐式或显式的包含标题，通常将不希望显示的标题设置为<code>display: none;</code>，一方面遵守规范，另一方面则提供了无障碍阅读而不至于影响到页面设计。</p><h1 id="导航栏-nav"><a href="#导航栏-nav" class="headerlink" title="导航栏 nav"></a>导航栏 <code>nav</code></h1><p><code>nav</code>不仅仅只作用在常用的导航栏上，他也可以用于一组文章的链接。一个页面可以包含多个<code>&lt;nav&gt;</code>元素，但通常仅仅只在页面导航部分使用它<br>《HTML5：The Missing Manual》中指出了在侧栏使用<nav>标签的两个案例：</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 案例一 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">nav</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 此处是链接 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">aside</span>&gt;</span><span class="tag">&lt;/<span class="name">aside</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">aside</span>&gt;</span><span class="tag">&lt;/<span class="name">aside</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 案例二 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aside</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">nav</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 此处是链接 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">section</span>&gt;</span><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">aside</span>&gt;</span></span><br></pre></td></tr></table></figure><p>如果侧栏中包含其他同于链接的其他区块，那么使用第二种方案更合适<br>导航通常包含一组链接，普遍认为链接使用列表来组织。</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">nav</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">title</span>=<span class="string">"链接"</span>&gt;</span>链接<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">title</span>=<span class="string">"链接"</span>&gt;</span>链接<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">title</span>=<span class="string">"链接"</span>&gt;</span>链接<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="附注-lt-aside-gt-侧栏"><a href="#附注-lt-aside-gt-侧栏" class="headerlink" title="附注 &lt;aside&gt; - 侧栏"></a>附注 <code>&lt;aside&gt;</code> - 侧栏</h1><p><code>&lt;aside&gt;</code>元素不仅仅是侧栏，他表示与他周围<code>文本</code>没有密切关系的内容。文章中同样可以使用<code>&lt;aside&gt;</code>元素，来说明文章中的附加内容，解释说明文章的某个观点，相关内容链接等。<br>当<code>&lt;aside&gt;</code>用于侧边栏时，其表示整个网页的附加内容，通常的广告区域、搜索、分享链接则位于侧栏。侧栏中的<code>&lt;section&gt;</code>元素规定了一个区域，通常是带有标题的内容</p><h4 id="lt-section-gt-标签适合标记的内容区块："><a href="#lt-section-gt-标签适合标记的内容区块：" class="headerlink" title="&lt;section&gt; 标签适合标记的内容区块："></a><code>&lt;section&gt;</code> 标签适合标记的内容区块：</h4><ul><li>与页面主体并列显式的小内容块</li><li>独立性内容，清单、表单等</li><li>分组内容，如 CMS 的文章分内区块</li><li>比较长文档的一部分，可能仅仅是为了正确规定页面大纲</li></ul><h1 id="页脚-lt-footer-gt"><a href="#页脚-lt-footer-gt" class="headerlink" title="页脚 &lt;footer&gt;"></a>页脚 <code>&lt;footer&gt;</code></h1><p>与<code>&lt;header&gt;</code>不同的是，标准规定<code>&lt;footer&gt;</code>标签仅仅可以包含版权、来源信息、法律限制等等之类的文本信息。</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">aside</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 其它内容 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">aside</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">footer</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 法律、版权、来源、联系信息等 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="主要内容-lt-main-gt"><a href="#主要内容-lt-main-gt" class="headerlink" title="主要内容 &lt;main&gt;"></a>主要内容 <code>&lt;main&gt;</code></h1><p>在早先的HTML5中并没有规定页面主体的标签，相关的书中经常说：除去头部、尾部、侧边栏等于其他部分，剩下的就是主体部分<br>HTML5.1 中规定了一个<code>&lt;main&gt;</code>标签来识别主体内容，<code>&lt;main&gt;</code>标签不能被包含在页面其他区块元素中，通常是<code>&lt;body&gt;</code>的子标签，或者是全局<code>&lt;div&gt;</code>的子标签。<code>&lt;main&gt;</code>标签可以帮助工具来识别页面的主体部分，从而让访问者迅速得到有用的信息</p><h1 id="文章-lt-article-gt"><a href="#文章-lt-article-gt" class="headerlink" title="文章 &lt;article&gt;"></a>文章 <code>&lt;article&gt;</code></h1><p><code>&lt;article&gt;</code>表示一个完整的、自成一体的内容块，例如文章或新闻报道，<code>&lt;article&gt;</code>应包含完整的标题、文章署名、发布时间、正文。当语义发生冲突，例如有时需要将文章分多个页面显式，那么需要把每个页面的文章区域都用<code>&lt;article&gt;</code>标记</p><p>文章中包含插图时，使用新的语义元素<figure>标签。</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">article</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>标题<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 内容 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">figure</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"#"</span> <span class="attr">alt</span>=<span class="string">"插图"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">figcaption</span>&gt;</span>这是一个插图<span class="tag">&lt;/<span class="name">figcaption</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">figure</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br></pre></td></tr></table></figure><p>上述情况下，<figcaption>包含了关于插图的详细解释，则<code>&lt;img&gt;</code>的alt属性可以略去。</p><blockquote><p>此文转载 <a href="https://rainylog.com/post/ife-note-1/" target="_blank" rel="noopener">© 雨落</a> <a href="https://rainylog.com/post/ife-note-1/" target="_blank" rel="noopener">https://rainylog.com/post/ife-note-1/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 面试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> html </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js-面试，手写代码系列：bind，call，apply，new</title>
      <link href="/2020/04/02/ms-writeCode/"/>
      <url>/2020/04/02/ms-writeCode/</url>
      
        <content type="html"><![CDATA[<div class="note primary no-icon">            <p>闲来无事，回顾一下这些经典面试手写代码题。</p>          </div><h1 id="bind"><a href="#bind" class="headerlink" title="bind"></a>bind</h1><div class="note default no-icon">            <ul><li>函数中的<code>this</code>是有属于调用者的，所以使用传入的<code>target</code>来调用当前函数即可</li><li>bind 的返回值为 <code>function</code>，记得 <code>return</code> 返回值。</li></ul>          </div><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype._bind = <span class="function"><span class="keyword">function</span> (<span class="params">thisArg, ...rest</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> thisArg === <span class="string">'undefined'</span>) thisArg = <span class="built_in">window</span> || global</span><br><span class="line">  thisArg.fn = <span class="keyword">this</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> res = thisArg.fn(...rest);</span><br><span class="line">    <span class="keyword">delete</span> thisArg.fn</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="call"><a href="#call" class="headerlink" title="call"></a>call</h1><div class="note default no-icon">            <ul><li>与<code>bind</code>区别 他是直接执行</li></ul>          </div><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype._call = <span class="function"><span class="keyword">function</span> (<span class="params">thisArg, ...rest</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> thisArg === <span class="string">'undefined'</span>) thisArg = <span class="built_in">window</span> || global;</span><br><span class="line">  thisArg.fn = <span class="keyword">this</span>;</span><br><span class="line">  <span class="keyword">const</span> res = thisArg.fn(...rest);</span><br><span class="line">  <span class="keyword">delete</span> thisArg.fn</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="apply"><a href="#apply" class="headerlink" title="apply"></a>apply</h1><div class="note default no-icon">            <ul><li>与<code>bind</code>区别 他是直接执行，参数为数组</li><li><code>apply</code> 应该是问的比较多的吧</li></ul>          </div><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype._apply = <span class="function"><span class="keyword">function</span> (<span class="params">thisArg, rest</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> thisArg === <span class="string">'undefined'</span>) thisArg = <span class="built_in">window</span> || global;</span><br><span class="line">  thisArg.fn = <span class="keyword">this</span>;</span><br><span class="line">  <span class="keyword">const</span> res = thisArg.fn(...rest);</span><br><span class="line">  <span class="keyword">delete</span> thisArg.fn</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="new"><a href="#new" class="headerlink" title="new"></a>new</h1><div class="note default no-icon">            <ul><li>实现 <code>new</code> 需要注意几点</li><li><code>new</code> 构造函数的返回值，为基础类型则返回<code>this</code>，使用引用类型则按你的返回。</li><li>原型链</li></ul>          </div><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_new</span>(<span class="params">constructor, ...rest</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> instance = &#123;&#125;;</span><br><span class="line">  instance.__proto__ = <span class="keyword">constructor</span>.prototype;</span><br><span class="line">  // 处理构造函数对应的this</span><br><span class="line">  const res = <span class="keyword">constructor</span>.apply(instance, rest);</span><br><span class="line">  if (typeof res === 'object' || typeof res === 'function') return res;</span><br><span class="line">  return instance;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">function P() &#123;</span><br><span class="line">  <span class="keyword">this</span>.a = <span class="string">'1'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">P.prototype.a = <span class="string">'1'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p1 = _new(P);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(p1 <span class="keyword">instanceof</span> P); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 面试 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>活动-育碧喜加一，雷曼：传奇 - 截至(4)月(3)日</title>
      <link href="/2020/04/02/wl-active/"/>
      <url>/2020/04/02/wl-active/</url>
      
        <content type="html"><![CDATA[<p>最近大厂都在清库存嘛~ 又送看门狗，又送雷曼，这两个游戏质量相对来说算高哒。</p><blockquote><p><a href="https://store.ubi.com/cn/game?pid=56c4948888a7e300458b47da" target="_blank" rel="noopener">雷曼传送门</a></p></blockquote><p><img src="/" class="lazyload" data-src="https://wxt.sinaimg.cn/mw690/0085UwQ9ly1gdejmx94laj30zi0hdjve.jpg"  alt=""></p><blockquote><p>截至4月3日</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 活动 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>vue-vue3 CompositionApi</title>
      <link href="/2020/03/27/vue-vue3/"/>
      <url>/2020/03/27/vue-vue3/</url>
      
        <content type="html"><![CDATA[<h1 id="等出来再写吧，发现年前看的又有改动蛮恶心的。。。"><a href="#等出来再写吧，发现年前看的又有改动蛮恶心的。。。" class="headerlink" title="等出来再写吧，发现年前看的又有改动蛮恶心的。。。"></a>等出来再写吧，发现年前看的又有改动蛮恶心的。。。</h1>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>js-复制，document.execCommand 的一些小坑</title>
      <link href="/2020/03/27/js-copy/"/>
      <url>/2020/03/27/js-copy/</url>
      
        <content type="html"><![CDATA[<p>对于 execCommand 来复制的使用应该不会很陌生，这几天使用的碰上了一个新问题，此方法在请求的时候是无法使用的，往下看👇</p><h1 id="默认使用复制"><a href="#默认使用复制" class="headerlink" title="默认使用复制"></a>默认使用复制</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> copy = <span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> inp = <span class="built_in">document</span>.createElement(<span class="string">'input'</span>);</span><br><span class="line">    inp.setAttribute(<span class="string">'value'</span>, value)</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(inp);</span><br><span class="line">    inp.select();</span><br><span class="line">    <span class="built_in">document</span>.execCommand(<span class="string">'copy'</span>)</span><br><span class="line">    <span class="built_in">document</span>.body.removeChild(inp)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="在正常情况下-document-execCommand-39-copy-39-是返回-true-的，但是在有异步请求的情况下会返回-false；"><a href="#在正常情况下-document-execCommand-39-copy-39-是返回-true-的，但是在有异步请求的情况下会返回-false；" class="headerlink" title="在正常情况下 document.execCommand(&#39;copy&#39;) 是返回 true 的，但是在有异步请求的情况下会返回 false；"></a>在正常情况下 <code>document.execCommand(&#39;copy&#39;)</code> 是返回 true 的，但是在有异步请求的情况下会返回 false；</h3><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">const copy = value =&gt; &#123;</span><br><span class="line">    let inp = document.createElement('input');</span><br><span class="line">    inp.setAttribute('value', value)</span><br><span class="line">    document.body.appendChild(inp);</span><br><span class="line">    inp.select();</span><br><span class="line"><span class="addition">+   if (document.execCommand('copy')) &#123;</span></span><br><span class="line">         document.execCommand('copy')</span><br><span class="line"><span class="addition">+   &#125;</span></span><br><span class="line">    document.body.removeChild(inp)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>一个 Git 项目配置多个仓库</title>
      <link href="/2020/03/26/git-Repository/"/>
      <url>/2020/03/26/git-Repository/</url>
      
        <content type="html"><![CDATA[<p>废话不多直接x</p><h1 id="普通添加仓库"><a href="#普通添加仓库" class="headerlink" title="普通添加仓库"></a>普通添加仓库</h1><figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="code"><pre><span class="line">git remote add origin &lt;git@git.com&gt;</span><br></pre></td></tr></table></figure><h1 id="添加多个仓库"><a href="#添加多个仓库" class="headerlink" title="添加多个仓库"></a>添加多个仓库</h1><figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="code"><pre><span class="line">git remote add &lt;仓库名称&gt; &lt;git@git.com&gt;</span><br><span class="line"><span class="meta">#</span><span class="bash"> 例子</span></span><br><span class="line">git remote add newRepository https://github.com/xxx/xxx</span><br><span class="line"><span class="meta">#</span><span class="bash"> 查询</span></span><br><span class="line">git remote -v</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> newRepository   https://github.com/xxx/newRepository.git (fetch)</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> newRepository   https://github.com/xxx/newRepository.git (push)</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> origin  http://github.com/xxx/xxx (fetch)</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> origin  http://github.com/xxx/xxx (push)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> push</span></span><br><span class="line">git push -u newRepository master</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>git ssh key 设置，多邮箱配置</title>
      <link href="/2020/03/26/wl-ssh-git/"/>
      <url>/2020/03/26/wl-ssh-git/</url>
      
        <content type="html"><![CDATA[<p>单邮箱的小伙伴可能没这样的烦恼，但是邮箱多的又需要使用 ssh 的连接就需要此教程啦。</p><h1 id="先最基本的配置-ssh-吧"><a href="#先最基本的配置-ssh-吧" class="headerlink" title="先最基本的配置 ssh 吧"></a>先最基本的配置 ssh 吧</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -C "你的邮箱” -f ~/.ssh/id_rsa</span><br></pre></td></tr></table></figure><p>一直按确定将会在 ~/.ssh，你设置的路径里找到对应公钥私钥</p><h1 id="多邮箱配置"><a href="#多邮箱配置" class="headerlink" title="多邮箱配置"></a>多邮箱配置</h1><figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -C "你的另一个邮箱” -f ~/.ssh/id_rsa</span><br></pre></td></tr></table></figure><p>生成之后在当前文件夹创建 config 文件 无后缀。</p><figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="code"><pre><span class="line">touch config</span><br></pre></td></tr></table></figure><p><code>config</code> 文件</p><figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> gitee.com</span></span><br><span class="line">Host gitee.com</span><br><span class="line">Port 22</span><br><span class="line">HostName gitee.com</span><br><span class="line">PreferredAuthentications publickey</span><br><span class="line">IdentityFile /Users/a666/.ssh/id_rsa_jyk</span><br><span class="line">User jyk</span><br></pre></td></tr></table></figure><h4 id="参数解析"><a href="#参数解析" class="headerlink" title="参数解析"></a>参数解析</h4><figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 配置文件参数</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Host : Host可以看作是一个你要识别的模式，对识别的模式，进行配置对应的的主机名和ssh文件（可以直接填写ip地址）</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> HostName : 要登录主机的主机名（建议与Host一致）</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> User : 登录名（如github的username）</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> IdentityFile : 指明上面User对应的identityFile路径</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Port: 端口号（如果不是默认22号端口则需要指定）</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ssh </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>es2020 实用的几个新方法</title>
      <link href="/2020/03/26/js-es-2020-1/"/>
      <url>/2020/03/26/js-es-2020-1/</url>
      
        <content type="html"><![CDATA[<h4 id="最近-JavaScript-从-es6-就提高了更新频率，2019还没有结束-2020的规范就已经开始出草案了😵。"><a href="#最近-JavaScript-从-es6-就提高了更新频率，2019还没有结束-2020的规范就已经开始出草案了😵。" class="headerlink" title="最近 JavaScript 从 es6 就提高了更新频率，2019还没有结束 2020的规范就已经开始出草案了😵。"></a>最近 JavaScript 从 es6 就提高了更新频率，2019还没有结束 2020的规范就已经开始出草案了😵。</h4><p>话不多说</p><h1 id="可选链运算符"><a href="#可选链运算符" class="headerlink" title="可选链运算符 ??"></a>可选链运算符 <code>??</code></h1><h4 id="场景：访问嵌套对象时如果当前为-undefined-或者为-null这时再做其他操作将会报错，可选链运算符可完美解决。"><a href="#场景：访问嵌套对象时如果当前为-undefined-或者为-null这时再做其他操作将会报错，可选链运算符可完美解决。" class="headerlink" title="场景：访问嵌套对象时如果当前为 undefined 或者为 null这时再做其他操作将会报错，可选链运算符可完美解决。"></a>场景：访问嵌套对象时如果当前为 undefined 或者为 null这时再做其他操作将会报错，<code>可选链运算符</code>可完美解决。</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">   a: <span class="number">1</span>,</span><br><span class="line">   b: <span class="string">''</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj.a); <span class="comment">// 1</span></span><br><span class="line"><span class="built_in">console</span>.log(obj.a.b); <span class="comment">// undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(obj.a.b.c); <span class="comment">// Uncaught TypeError: Cannot read property 'c' of undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(obj.a.b?.c);</span><br><span class="line"><span class="comment">// 使用可选链运算符 ?. 来访问嵌套对象，如果碰到的是 undefined 或 null 属性，只会返回 undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(obj.b?.substring); <span class="comment">// ƒ substring() &#123; [native code] &#125;</span></span><br></pre></td></tr></table></figure><blockquote><p>使用可选链运算符 ?. 来访问嵌套对象，如果碰到的是 undefined 或 null 属性，只会返回 undefined</p></blockquote><h1 id="空值合并运算符"><a href="#空值合并运算符" class="headerlink" title="空值合并运算符"></a>空值合并运算符</h1><h4 id="场景：当给变量值为-undefined-或者-null-设置默认值时会遇到变量为-空字符串或为0的尴尬情况"><a href="#场景：当给变量值为-undefined-或者-null-设置默认值时会遇到变量为-空字符串或为0的尴尬情况" class="headerlink" title="场景：当给变量值为 undefined 或者 null 设置默认值时会遇到变量为 空字符串或为0的尴尬情况"></a>场景：当给变量值为 undefined 或者 null 设置默认值时会遇到变量为 空字符串或为0的尴尬情况</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> x = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">const</span> y = x || <span class="string">'false'</span>;</span><br><span class="line"><span class="keyword">const</span> z = x ?? <span class="string">'false'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(y); <span class="comment">// 'false'</span></span><br><span class="line"><span class="built_in">console</span>.log(z); <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ECMA 规范 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> es2020 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>分享一个破防盗链方法，亲测。。。（Referrer-Policy）</title>
      <link href="/2020/03/20/wl-fdl/"/>
      <url>/2020/03/20/wl-fdl/</url>
      
        <content type="html"><![CDATA[<p><em><strong>废话少说，来这的有几个不是因为盗图不显示再去搜索di，盗图一时爽 一直盗图一直爽。🤣</strong></em></p><blockquote><p>言归正传！盗图可耻，请尊重版权！👀</p></blockquote><h3 id="代码在此"><a href="#代码在此" class="headerlink" title="代码在此"></a>代码在此</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"referrer"</span> <span class="attr">content</span>=<span class="string">"never"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>好吧是个标签👅，亲测<code>掘金</code>是可以被盗的，详情可以看此文章 <a href="https://ksh7.com/2020/03/20/js-ms-bf/">点我<del>点我</del></a>。</p><h4 id="注意-注意-注意"><a href="#注意-注意-注意" class="headerlink" title="注意 注意 注意"></a>注意 注意 注意</h4><p>此标签建议不要全局使用，因为它修改了你的所有链接的 <code>Referrer Policy</code> 都指 <code>no-referrer</code>了，这样后端判断以为是浏览器直接打开资源就放行了，但是如果你的网站使用了 <code>ga</code>或者其他需要根据这个判断的链接人家就无法追踪你了，可以使用 <code>iframe包裹一层，用一个单独的html加载统计代码</code>。</p><h5 id="下面列出-Referrer-Policy-的几个参数"><a href="#下面列出-Referrer-Policy-的几个参数" class="headerlink" title="下面列出 Referrer Policy 的几个参数"></a>下面列出 Referrer Policy 的几个参数</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">Referrer-Policy: no-referrer</span><br><span class="line">Referrer-Policy: no-referrer-when-downgrade</span><br><span class="line">Referrer-Policy: origin</span><br><span class="line">Referrer-Policy: origin-when-cross-origin</span><br><span class="line">Referrer-Policy: same-origin</span><br><span class="line">Referrer-Policy: strict-origin</span><br><span class="line">Referrer-Policy: strict-origin-when-cross-origin</span><br><span class="line">Referrer-Policy: unsafe-url</span><br></pre></td></tr></table></figure><blockquote><p><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referrer-Policy" target="_blank" rel="noopener">MDN 解释</a></p></blockquote><h1 id="2020-03-26-更新"><a href="#2020-03-26-更新" class="headerlink" title="2020/03/26 更新"></a>2020/03/26 更新</h1><h2 id="HTMLImageElement-referrerPolicy"><a href="#HTMLImageElement-referrerPolicy" class="headerlink" title="HTMLImageElement.referrerPolicy"></a><code>HTMLImageElement.referrerPolicy</code></h2><blockquote><p><code>HTMLImageElement.referrerPolicy</code> 反映了 <code>&lt;img&gt;</code> 元素的HTML属性 referrerpolicy 的定义，这个属性定义了<code>&lt;img&gt;</code> 元素在获取资源时的引用方式。</p></blockquote><h4 id="值"><a href="#值" class="headerlink" title="值"></a>值</h4><ul><li>“no-referrer” 表示HTTP头部信息将不会发送 referrer 。</li><li>“origin” 表示 referrer 只包含策略、主机名、端口等页面源的信息。</li><li>“unsafe-url” 这意味着引用者将包括源站和路径（但不包括片段、密码或用户名）。这种情况是不安全的，因为它可能会泄漏路径信息，这些信息已被使用TLS隐藏到第三方。</li></ul><blockquote><p><code>注意</code>！这是实验中的功能，谷歌、火狐、欧朋 最新版本支持</p></blockquote><h4 id="demo"><a href="#demo" class="headerlink" title="demo"></a>demo</h4><h5 id="未使用的referrerPolicy"><a href="#未使用的referrerPolicy" class="headerlink" title="未使用的referrerPolicy"></a>未使用的<code>referrerPolicy</code></h5><iframe width="100%" srcdoc="<img style='width: 100%;' src='https://juejin.im/post/5e73694c518825494b3cf1f3'>"></iframe><h5 id="使用-referrerPolicy"><a href="#使用-referrerPolicy" class="headerlink" title="使用 referrerPolicy"></a>使用 <code>referrerPolicy</code></h5><iframe style="border: none" width="100%" srcdoc="<img style='width: 100%;' `referrerpolicy='no-referrer'` src='https://user-gold-cdn.xitu.io/2019/3/14/1697bfadd9dad924?imageView2/0/w/1280/h/960'>"></iframe><h4 id="html"><a href="#html" class="headerlink" title="html"></a>html</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">referrerpolicy</span>=<span class="string">"no-referrer"</span> <span class="attr">src</span>=<span class="string">"https://user-gold-cdn.xitu.io/2019/3/14/1697bfadd9dad924?imageView2/0/w/1280/h/960"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLImageElement/referrerPolicy" target="_blank" rel="noopener">MDN for referrerPolicy</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 网络 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>js-面试-并发，记录下并发，并行，串行</title>
      <link href="/2020/03/20/js-ms-bf/"/>
      <url>/2020/03/20/js-ms-bf/</url>
      
        <content type="html"><![CDATA[<h1 id="区分-并发-并行-串行"><a href="#区分-并发-并行-串行" class="headerlink" title="区分 并发 并行 串行"></a>区分 并发 并行 串行</h1><p>之前很容易搞混 并发和并行，所以记录一哈</p><h4 id="并发"><a href="#并发" class="headerlink" title="并发"></a>并发</h4><blockquote><p>两个或多个事件在同一时间，间隔发生。</p></blockquote><h4 id="并行"><a href="#并行" class="headerlink" title="并行"></a>并行</h4><blockquote><p>两个或多个事件在同一时间执行</p></blockquote><p>或者<code>并发</code>是同一实体上的多个事件而<code>并行</code>是不同实体上的多个事件。</p><h4 id="来看一个并发的面试题"><a href="#来看一个并发的面试题" class="headerlink" title="来看一个并发的面试题"></a>来看一个并发的面试题</h4><meta name="referrer" content="never"><p><img src="/" class="lazyload" data-src="https://user-gold-cdn.xitu.io/2019/3/14/1697bfadd9dad924?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"  alt="image"></p><details>    <summary>      看前试试水    </summary><pre><code>const urls = Array.from({ length: 10 }).map((v, i) =&gt; i);const sleep = url =&gt; new Promise(resolve =&gt; setTimeout(resolve, Math.random() * 3000 + 1000))const sendRequest = (urls, limit, callback) =&gt; {    const copyUrls = urls.slice(0)    let index = 0;    const requestUrl = () =&gt; {      index += 1;      console.log(&apos;当前并发&apos;, index, &apos;- - -  - -  -&apos;);      sleep(copyUrls.shift())        .then(res =&gt; {          index -= 1;          console.log(&apos;剩余并发&apos;, limit - index, &apos;- - -  - -  -&apos;);          if(copyUrls.length) requestUrl();          else if(index === 0) callback?.();        })      if(index &lt; limit) requestUrl();    }    requestUrl();  }  sendRequest(urls, 4, () =&gt; console.log(&apos;run callback&apos;)));</code></pre><p><button id="ms-btn">点我运行，在console中查看结果</button></p><script>    const urls = Array.from({ length: 10 }).map((v, i) => i);    const sleep = url => new Promise(resolve => setTimeout(resolve, Math.random() * 3000 + 1000))    const sendRequest = (urls, limit, callback) => {        const copyUrls = urls.slice(0);        let index = 0;        const requestUrl = () => {          index += 1;          console.log('当前并发', index, '- - -  - -  -');          sleep(copyUrls.shift())            .then(res => {              index -= 1;              console.log(`%c 剩余并发 ${limit - index} - - - `, 'color: red');              // console.log('剩余并发', limit - index, '- - -  - -  -');              if(copyUrls.length) requestUrl();              else if(index === 0) callback?.();            });          if(index < limit) requestUrl();        };        requestUrl();      };   const btn = document.getElementById('ms-btn');   btn.onclick = () => sendRequest(urls, 4, () => console.log('%c run callback', 'color: green'))</script></details>]]></content>
      
      
      <categories>
          
          <category> 面试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 并发 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>parabola-js demo page</title>
      <link href="/2020/03/19/demo-parabola-js/"/>
      <url>/2020/03/19/demo-parabola-js/</url>
      
        <content type="html"><![CDATA[ <style>   .wrap {     overflow: hidden;   }   .box-1 {     position: relative;     width: 70%;     height: 400px;     margin: 100px auto;     border: 1px solid;   }   .r-item {     position: absolute;     top: 20%;     right: 0;     width: 50px;     height: 50px;     background-color: #00c4b6;   }   .r-target {     position: absolute;     top: 0;     left: 0;     width: 50px;     height: 50px;     background-color: #8e908c;     visibility: hidden;   } </style> <body> <section class="wrap">   <p>抛物线测试</p>   <hr>   <div class="box-1">     <div class="r-item"></div>     <div class="r-target"></div>   </div> </section> </body>    <script src="https://cdn.jsdelivr.net/npm/parabola-js@1.0.1/lib/parabola.js"></script> <script>      const box1 = document.querySelector('.box-1');      const rItem = document.querySelector('.r-item');      const rTarget = document.querySelector('.r-target');          // ie8+ 1      box1.addEventListener('click', e => {        const diffX = e.offsetX + box1.scrollLeft;        const diffY = e.offsetY + box1.scrollTop;        rTarget.style.left = diffX + 'px';        rTarget.style.top = diffY + 'px';        new Parabola(rItem, rTarget, {          endScale: '0.3',        }).init();      }) </script><h1 id="html"><a href="#html" class="headerlink" title="html"></a>html</h1><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"wrap"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>抛物线测试<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-1"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"r-item"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"r-target"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span>   </span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/parabola-js@1.0.1/lib/parabola.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> box1 = <span class="built_in">document</span>.querySelector(<span class="string">'.box-1'</span>);</span><br><span class="line"><span class="keyword">const</span> rItem = <span class="built_in">document</span>.querySelector(<span class="string">'.r-item'</span>);</span><br><span class="line"><span class="keyword">const</span> rTarget = <span class="built_in">document</span>.querySelector(<span class="string">'.r-target'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ie8+ 1</span></span><br><span class="line">box1.addEventListener(<span class="string">'click'</span>, e =&gt; &#123;</span><br><span class="line"><span class="keyword">const</span> diffX = e.offsetX + box1.scrollLeft;</span><br><span class="line"><span class="keyword">const</span> diffY = e.offsetY + box1.scrollTop;</span><br><span class="line">rTarget.style.left = diffX + <span class="string">'px'</span>;</span><br><span class="line">rTarget.style.top = diffY + <span class="string">'px'</span>;</span><br><span class="line"><span class="keyword">new</span> Parabola(rItem, rTarget, &#123;</span><br><span class="line">  endScale: <span class="string">'0.3'</span>,</span><br><span class="line">&#125;).init();</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> demo-page </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>css svg loading demo</title>
      <link href="/2020/03/13/css-svg-loading/"/>
      <url>/2020/03/13/css-svg-loading/</url>
      
        <content type="html"><![CDATA[<blockquote><p><code>本篇将记录一些 loading demo。</code></p></blockquote><h2 id="通过svg属性stroke-dashoffset-偏移和svg的差速旋转实现-loading"><a href="#通过svg属性stroke-dashoffset-偏移和svg的差速旋转实现-loading" class="headerlink" title="通过svg属性stroke-dashoffset 偏移和svg的差速旋转实现 loading"></a>通过svg属性<code>stroke-dashoffset</code> 偏移和svg的差速旋转实现 loading</h2><blockquote><p>了解 <code>stroke-dashoffset</code><br><a href="https://developer.mozilla.org/zh-CN/docs/Web/SVG/Attribute/stroke-dashoffset" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/SVG/Attribute/stroke-dashoffset</a></p></blockquote><h3 id="loading-1"><a href="#loading-1" class="headerlink" title="loading-1"></a>loading-1</h3><h4 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h4><style>.svg-loading-wrap {  margin: 10px auto 10px 10px;}.svg-loading-wrap .item .load {  width: 75px;  animation: loading 3s linear infinite;}.svg-loading-wrap .item .load #loading-inner {  stroke-dashoffset: 0;  stroke-dasharray: 300;  stroke-width: 10;  stroke-miterlimit: 10;  stroke-linecap: round;  animation: loading-circle 2s linear infinite;  stroke: #00adb5;  fill: transparent;}@keyframes loading {  0% {    transform: rotate(0);  }  100% {    transform: rotate(360deg);  }}@keyframes loading-circle {  0% {    stroke-dashoffset: 0;  }  100% {    stroke-dashoffset: -600;  }}.svg-loading-wrap .loading-2 .l-svg {  animation: loading2-svg linear 3s infinite;}.svg-loading-wrap .loading-2 .l-svg .l-circle {  fill: transparent;  stroke: #7c4dff;  stroke-width: 10;  stroke-dasharray: 300;  stroke-dashoffset: 0;  stroke-miterlimit: 10;  animation: loading2-circle linear 2s infinite;}@keyframes loading2-svg {  from {    transform: rotate(0deg);  }  to {    transform: rotate(360deg);  }}@keyframes loading2-circle {  from {    stroke-dashoffset: 0;  }  to {    stroke-dashoffset: -600;  }}.svg-loading-wrap .loading-3 {  width: 50px;  height: 50px;  margin: 0 auto;  position: relative;  border-radius: 50%;  background-color: rgba(0, 169, 178, 0.2);}.svg-loading-wrap .loading-3::before {  content: "";  width: 70px;  height: 70px;  background-color: #00adb5;  position: absolute;  left: 50%;  bottom: 50%;  z-index: 1;}.svg-loading-wrap .loading-3::after {  width: 40px;  height: 40px;  position: absolute;  left: 0;  right: 0;  top: 0;  bottom: 0;  margin: auto;  background-color: #fff;  z-index: 2;  border-radius: 50%;}@keyframes rotate {  0% {    transform: rotate(0);  }  50% {    transform: rotate(180deg);  }  100% {    transform: rotate(360deg);  }}.svg-loading-wrap .loading-4 {  position: relative;  width: 75px;  height: 75px;  border-radius: 50%;  background-color: rgba(78, 167, 249, 0.21);  overflow: hidden;}.svg-loading-wrap .loading-4::after {  content: '';  position: absolute;  top: 0;  bottom: 0;  left: 0;  right: 0;  margin: auto;  width: 65px;  height: 65px;  border-radius: 50%;  background-color: #fff;}.svg-loading-wrap .loading-4::before {  content: '';  position: absolute;  bottom: 50%;  left: 50%;  width: 100%;  height: 100%;  background-color: #00adb5;  animation: loading4-rotate 1.5s linear infinite;  transform-origin: bottom left;}@keyframes loading4-rotate {  0% {    transform: rotate(0deg);  }  50% {    transform: rotate(180deg);  }  100% {    transform: rotate(360deg);  }}/*# sourceMappingURL=svg-loading.css.map */</style><section class="svg-loading-wrap">  <div class="loading-2">    <svg class="l-svg" width="75" viewBox="0 0 150 150">      <g>        <circle            class="l-circle"            r="65"            cx="75"            cy="75"            stroke-linecap="round"            stroke-opacity="0.7"        />      </g>    </svg>  </div></section><h4 id="html"><a href="#html" class="headerlink" title="html"></a>html</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"loading-2"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">svg</span> <span class="attr">class</span>=<span class="string">"l-svg"</span> <span class="attr">width</span>=<span class="string">"75"</span> <span class="attr">viewBox</span>=<span class="string">"0 0 150 150"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">g</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">circle</span></span></span><br><span class="line"><span class="tag">          <span class="attr">class</span>=<span class="string">"l-circle"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">r</span>=<span class="string">"65"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">cx</span>=<span class="string">"75"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">cy</span>=<span class="string">"75"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">stroke-linecap</span>=<span class="string">"round"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">stroke-opacity</span>=<span class="string">"0.7"</span></span></span><br><span class="line"><span class="tag">      /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">g</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="css"><a href="#css" class="headerlink" title="css"></a>css</h4><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.loading-2</span> &#123;</span><br><span class="line">  <span class="selector-class">.l-svg</span> &#123;</span><br><span class="line">    <span class="attribute">animation</span>: loading2-svg linear <span class="number">3s</span> infinite;</span><br><span class="line">    <span class="selector-class">.l-circle</span> &#123;</span><br><span class="line">      <span class="attribute">fill</span>: transparent;</span><br><span class="line">      <span class="attribute">stroke</span>: <span class="number">#7c4dff</span>;</span><br><span class="line">      <span class="attribute">stroke-width</span>: <span class="number">10</span>;</span><br><span class="line">      <span class="attribute">stroke-dasharray</span>: <span class="number">300</span>;</span><br><span class="line">      <span class="attribute">stroke-dashoffset</span>: <span class="number">0</span>;</span><br><span class="line">      <span class="attribute">stroke-miterlimit</span>: <span class="number">10</span>;</span><br><span class="line">      <span class="attribute">animation</span>: loading2-circle linear <span class="number">2s</span> infinite;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">@keyframes</span> loading2-svg &#123;</span><br><span class="line">    <span class="selector-tag">from</span> &#123;</span><br><span class="line">      <span class="attribute">transform</span>: rotate(<span class="number">0deg</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-tag">to</span> &#123;</span><br><span class="line">      <span class="attribute">transform</span>: rotate(<span class="number">360deg</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">@keyframes</span> loading2-circle &#123;</span><br><span class="line">    <span class="selector-tag">from</span> &#123;</span><br><span class="line">      <span class="attribute">stroke-dashoffset</span>: <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-tag">to</span> &#123;</span><br><span class="line">      <span class="attribute">stroke-dashoffset</span>: -<span class="number">600</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="loading-2"><a href="#loading-2" class="headerlink" title="loading-2"></a>loading-2</h2><h3 id="效果-1"><a href="#效果-1" class="headerlink" title="效果"></a>效果</h3><blockquote><p>通过伪类遮盖，修改旋转 origin 来达到此 loading</p></blockquote><section class="svg-loading-wrap">  <div class="loading-4"></div></section><h4 id="html-1"><a href="#html-1" class="headerlink" title="html"></a>html</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"loading-4"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="css-1"><a href="#css-1" class="headerlink" title="css"></a>css</h4><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.loading-4</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">75px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">75px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">78</span>, <span class="number">167</span>, <span class="number">249</span>, <span class="number">0.21</span>);</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line"></span><br><span class="line">    // 10px的"边框"</span><br><span class="line">    &amp;<span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">      <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">      <span class="attribute">position</span>: absolute;</span><br><span class="line">      <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">      <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">      <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">      <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">      <span class="attribute">margin</span>: auto;</span><br><span class="line">      <span class="attribute">width</span>: <span class="number">65px</span>;</span><br><span class="line">      <span class="attribute">height</span>: <span class="number">65px</span>;</span><br><span class="line">      <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">      <span class="attribute">background-color</span>: <span class="number">#fff</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 转圈的矩形</span><br><span class="line">    &amp;<span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">      <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">      <span class="attribute">position</span>: absolute;</span><br><span class="line">      <span class="attribute">bottom</span>: <span class="number">50%</span>;</span><br><span class="line">      <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">      <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">      <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">      <span class="attribute">background-color</span>: <span class="number">#00adb5</span>;</span><br><span class="line">      <span class="attribute">animation</span>: loading4-rotate <span class="number">1.5s</span> linear infinite;</span><br><span class="line">      <span class="attribute">transform-origin</span>: bottom left;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">@keyframes</span> loading4-rotate &#123;</span><br><span class="line">      0% &#123;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      50% &#123;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">180deg</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      100% &#123;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> cssTricks </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>css-svg实现小于12号字体</title>
      <link href="/2020/03/12/css-svg-12px-fontsize/"/>
      <url>/2020/03/12/css-svg-12px-fontsize/</url>
      
        <content type="html"><![CDATA[<h1 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h1><style>  .s12-wrap {    display: flex;    align-items: center;    justify-content: center;  }  .s12-d {    width: max-content;    margin: 20px auto;  }</style><div class="s12-d">  <input      id="s12-inp"      style="width: 100px;" type="number" max="12" min="1"      placeholder="font size"      value="12"  ></div><section class="s12-wrap">  <p style="font-size: 12px; margin: 0;padding-right: 10px;">    千山鸟飞绝 - from hill to hill no bird in flight  </p>  <svg style="flex: 0.4" id="size-svg" width="auto" height="14">    <text        id="size-text"        dominant-baseline="baseline"        font-size="12"        y="12"        style="line-height: 1; vertical-align: middle;"    >      千山鸟飞绝 - from hill to hill no bird in flight    </text>  </svg></section><script>  const svg = document.getElementById('size-svg');  const sText = document.getElementById('size-text');  const inp = document.getElementById('s12-inp');  let size = 12;  const fontsizeHeightMap = {    1: 1.22,    2: 2.52,    3: 3.63,    4: 5.02,    5: 6.03,    6: 7.52,    7: 8.52,    8: 9.14,    9: 10.52,    10: 11.52,    11: 13.02,    12: 14  };  const changeAttr = size => {    const value = fontsizeHeightMap[size];    svg.setAttribute('height', value);    if (size < 3) {      sText.setAttribute('y', value)    } else if (size === 3) {      sText.setAttribute('y', (value - 1).toFixed(2))    } else {      sText.setAttribute('y', (value - 2).toFixed(2))    }    sText.setAttribute('font-size', size);    inp.value = size;  };  inp.addEventListener('change', e => {    const num = e.target.value * 1;    console.log(num);    if (num > 12) size = 12;    else if (num < 0) size = 1;    else size = num;    changeAttr(size);  })</script><h1 id="html"><a href="#html" class="headerlink" title="html"></a>html</h1><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"s12-wrap"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">"font-size: 12px; margin: 0;padding-right: 10px;"</span>&gt;</span></span><br><span class="line">    千山鸟飞绝 - from hill to hill no bird in flight</span><br><span class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">svg</span> <span class="attr">id</span>=<span class="string">"size-svg"</span> <span class="attr">width</span>=<span class="string">"205.515625"</span> <span class="attr">height</span>=<span class="string">"14"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">text</span></span></span><br><span class="line"><span class="tag">        <span class="attr">id</span>=<span class="string">"size-text"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">dominant-baseline</span>=<span class="string">"baseline"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">font-size</span>=<span class="string">"12"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">y</span>=<span class="string">"12"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">style</span>=<span class="string">"line-height: 1; vertical-align: middle;"</span></span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line">      千山鸟飞绝 - from hill to hill no bird in flight</span><br><span class="line">    <span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="js"><a href="#js" class="headerlink" title="js"></a>js</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> svg = <span class="built_in">document</span>.getElementById(<span class="string">'size-svg'</span>);</span><br><span class="line"><span class="keyword">const</span> sText = <span class="built_in">document</span>.getElementById(<span class="string">'size-text'</span>);</span><br><span class="line"><span class="keyword">const</span> inp = <span class="built_in">document</span>.getElementById(<span class="string">'s12-inp'</span>);</span><br><span class="line"><span class="keyword">let</span> size = <span class="number">12</span>;</span><br><span class="line"><span class="keyword">const</span> fontsizeHeightMap = &#123;</span><br><span class="line">  <span class="number">1</span>: <span class="number">1.22</span>,</span><br><span class="line">  <span class="number">2</span>: <span class="number">2.52</span>,</span><br><span class="line">  <span class="number">3</span>: <span class="number">3.63</span>,</span><br><span class="line">  <span class="number">4</span>: <span class="number">5.02</span>,</span><br><span class="line">  <span class="number">5</span>: <span class="number">6.03</span>,</span><br><span class="line">  <span class="number">6</span>: <span class="number">7.52</span>,</span><br><span class="line">  <span class="number">7</span>: <span class="number">8.52</span>,</span><br><span class="line">  <span class="number">8</span>: <span class="number">9.14</span>,</span><br><span class="line">  <span class="number">9</span>: <span class="number">10.52</span>,</span><br><span class="line">  <span class="number">10</span>: <span class="number">11.52</span>,</span><br><span class="line">  <span class="number">11</span>: <span class="number">13.02</span>,</span><br><span class="line">  <span class="number">12</span>: <span class="number">14</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> changeAttr = <span class="function"><span class="params">size</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> value = fontsizeHeightMap[size];</span><br><span class="line">  svg.setAttribute(<span class="string">'height'</span>, value);</span><br><span class="line">  <span class="keyword">if</span> (size &lt; <span class="number">3</span>) &#123;</span><br><span class="line">    sText.setAttribute(<span class="string">'y'</span>, value)</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (size === <span class="number">3</span>) &#123;</span><br><span class="line">    sText.setAttribute(<span class="string">'y'</span>, (value - <span class="number">1</span>).toFixed(<span class="number">2</span>))</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    sText.setAttribute(<span class="string">'y'</span>, (value - <span class="number">2</span>).toFixed(<span class="number">2</span>))</span><br><span class="line">  &#125;</span><br><span class="line">  sText.setAttribute(<span class="string">'font-size'</span>, size)</span><br><span class="line">  inp.value = size;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">inp.addEventListener(<span class="string">'change'</span>, e =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> num = e.target.value * <span class="number">1</span></span><br><span class="line">  <span class="built_in">console</span>.log(num);</span><br><span class="line">  <span class="keyword">if</span> (num &gt; <span class="number">12</span>) size = <span class="number">12</span>;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (num &lt; <span class="number">0</span>) size = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">else</span> size = num</span><br><span class="line">  changeAttr(size);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><blockquote><p><strong>Tip</strong><br>使用 svg 作为解决小于 12px 字号文字的方案：<br>使用 transform: scale() 设置后占位区域并没有改变，难以调节对齐方式。<br>使用 canvas 无法选中文字（也可以解决，但不如 svg 简洁）</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> cssTricks </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>css-手风琴动效</title>
      <link href="/2020/03/12/css-shouFengQin/"/>
      <url>/2020/03/12/css-shouFengQin/</url>
      
        <content type="html"><![CDATA[<style>.sfq-wrap {  width: 100%;  min-width: 400px;  margin: 100px auto;}.sfq-wrap ul,.sfq-wrap li {  padding: 0;  margin: 0;  list-style: none;}.sfq-wrap .list {  display: flex;  overflow: hidden;  justify-content: flex-start;  align-items: flex-start;}.sfq-wrap .list > li {  display: flex;  justify-content: center;  align-items: center;  position: relative;  padding: 10px;  height: 500px;  width: 600px;  transition: width 0.5s;  font-size: 18px;  font-weight: bold;  color: #fff;  background-position: center;  background-size: 500px;  background-repeat: no-repeat;  will-change: width;}.sfq-wrap .list > li:not(:hover) {  width: 20%;}.sfq-wrap .list > li::after {  content: '';  position: absolute;  top: 0;  left: 0;  right: 0;  bottom: 0;  background: rgba(0, 0, 0, 0.3);  opacity: 0;  transition: opacity 0.5s;}.sfq-wrap .list > li:hover::after {  opacity: 1;}.sfq-wrap .list > li > p {  margin: 0;  position: relative;  z-index: 1;}.sfq-wrap .list > li:first-child {  background-image: url("http://css-tricks.neatbang.com/assets/img/bg7.af68deb6.jpeg");}.sfq-wrap .list > li:nth-of-type(2) {  background-image: url("http://css-tricks.neatbang.com/assets/img/bg10.eaa9de63.jpeg");}.sfq-wrap .list > li:nth-of-type(3) {  background-image: url("http://css-tricks.neatbang.com/assets/img/bg9.aa9a9041.jpeg");}.sfq-wrap .list > li:nth-of-type(4) {  background-image: url("http://css-tricks.neatbang.com/assets/img/bg7.af68deb6.jpeg");}.sfq-wrap .list > li:nth-of-type(5) {  background-image: url("http://css-tricks.neatbang.com/assets/img/bg10.eaa9de63.jpeg");}.sfq-wrap .modal {  position: absolute;  top: 0;  left: 0;  right: 0;  bottom: 0;  margin: 0;  background: rgba(0, 0, 0, 0.3);  line-height: 100%;}/*# sourceMappingURL=sfq.css.map */</style><h1 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h1><section class="sfq-wrap">  <ul class="list">    <li class="list">      <p class="text">1</p>    </li>    <li class="list">      <p class="text">2</p>    </li>    <li class="list">      <p class="text">3</p>    </li>    <li class="list">      <p class="text">4</p>    </li>    <li class="list">      <p class="text">6</p>    </li>  </ul></section><h1 id="css"><a href="#css" class="headerlink" title="css"></a>css</h1><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.sfq-wrap</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">min-width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">100px</span> auto;</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">ul</span>, <span class="selector-tag">li</span> &#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">list-style</span>: none;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.list</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">justify-content</span>: flex-start;</span><br><span class="line">    <span class="attribute">align-items</span>: flex-start;</span><br><span class="line"></span><br><span class="line">&gt; <span class="selector-tag">li</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">500px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">600px</span>;</span><br><span class="line">  <span class="attribute">transition</span>: width .<span class="number">5s</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">background-position</span>: center;</span><br><span class="line">  <span class="attribute">background-size</span>: <span class="number">500px</span>;</span><br><span class="line">  <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">  <span class="attribute">will-change</span>: width;</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">&amp;</span><span class="selector-pseudo">:not(</span><span class="selector-pseudo">:hover)</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">20%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  &gt; <span class="selector-tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"sfq-wrap"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"list"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"list"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"text"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"list"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"text"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"list"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"text"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"list"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"text"</span>&gt;</span>4<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"list"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"text"</span>&gt;</span>6<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> cssTricks </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>三角边框-实心/镂空</title>
      <link href="/2020/03/11/san-jiao-bian-kuang/"/>
      <url>/2020/03/11/san-jiao-bian-kuang/</url>
      
        <content type="html"><![CDATA[<h1 id="实心边框"><a href="#实心边框" class="headerlink" title="实心边框"></a>实心边框</h1><style>  .sanjiao-wrap {    width: 400px;    min-height: 100px;    padding: 20px;    margin: 100px auto;    border: 1px solid;  }  .sanjiao-box-1 {    width: max-content;    margin: 0 auto;    border-width: 0 30px 30px;    /*border-color: transparent transparent black black;*/    border-color: transparent transparent black;    border-style: solid;  }  .sanjiao-box-2 {    --width: 50px;    margin-top: 20px;    width: 0;    height: 0;    border-style: solid;    border-width: 0 var(--width) var(--width) var(--width);    position:relative;    border-color: transparent transparent #fff transparent;  }    .sanjiao-box-2::after {    --width: 52px;    content: '';    border-style: solid;    border-width: 0 var(--width) var(--width) var(--width);    border-color: transparent transparent #00adb5 transparent;    position: absolute;    left: -52px;    top: -1px;    z-index: -1;  }</style><section class="sanjiao-wrap">  <div class="sanjiao-box-1"></div></section><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.box-1</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: max-content;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">  <span class="attribute">border-width</span>: <span class="number">0</span> <span class="number">30px</span> <span class="number">30px</span>;</span><br><span class="line">  <span class="comment">/*border-color: transparent transparent black black;*/</span></span><br><span class="line">  <span class="attribute">border-color</span>: transparent transparent black;</span><br><span class="line">  <span class="attribute">border-style</span>: solid;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;section class&#x3D;&quot;wrap&quot;&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;box-1&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;section&gt;</span><br></pre></td></tr></table></figure><h1 id="镂空"><a href="#镂空" class="headerlink" title="镂空"></a>镂空</h1><section class="sanjiao-wrap">  <div class="sanjiao-box-1 sanjiao-box-2"></div></section><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.box-2</span> &#123;</span><br><span class="line">  <span class="attribute">--width</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">border-style</span>: solid;</span><br><span class="line">  <span class="attribute">border-width</span>: <span class="number">0</span> <span class="built_in">var</span>(--width) <span class="built_in">var</span>(--width) <span class="built_in">var</span>(--width);</span><br><span class="line">  <span class="attribute">position</span>:relative;</span><br><span class="line">  <span class="attribute">border-color</span>: transparent transparent <span class="number">#fff</span> transparent;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box-2</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">  <span class="attribute">--width</span>: <span class="number">52px</span>;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">  <span class="attribute">border-style</span>: solid;</span><br><span class="line">  <span class="attribute">border-width</span>: <span class="number">0</span> <span class="built_in">var</span>(--width) <span class="built_in">var</span>(--width) <span class="built_in">var</span>(--width);</span><br><span class="line">  <span class="attribute">border-color</span>: transparent transparent <span class="number">#00adb5</span> transparent;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: -<span class="number">52px</span>;</span><br><span class="line">  <span class="attribute">top</span>: -<span class="number">1px</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"wrap"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-1 box-2"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> cssTricks </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>底部 footer 自适应</title>
      <link href="/2020/03/11/btn-sticky-footer/"/>
      <url>/2020/03/11/btn-sticky-footer/</url>
      
        <content type="html"><![CDATA[<h5 id="底部-footer-自适应在底部"><a href="#底部-footer-自适应在底部" class="headerlink" title="底部 footer 自适应在底部"></a>底部 footer 自适应在底部</h5><style>  .btn-wrap {    position: relative;    width: 300px;    height: 500px;    overflow-y: auto;    margin: 100px auto;    border: 1px solid;  }  .btn-content-wrap {    min-height: 100%;    text-align: center;    background-color: azure;  }  .btn-content {    padding-bottom: 40px;  }  .btn-footer {    margin-top: -40px;    background-color: #00adb5;    line-height: 40px;    color: #fff;    text-align: center;  }  .btn-s-input:checked ~ .btn-content > .btn-s-text {    display: none;  }</style><section class="btn-wrap">  <div class="btn-content-wrap">    <input class="btn-s-input" type="checkbox">    <label>隐藏</label>    <div class="btn-content">      <p class="btn-s-text">        内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容        内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容        内容内内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容        内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容        内容内内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容        内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容        内容内内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容        内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容        内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容      </p>    </div>  </div>  <footer class="btn-footer">    footer  </footer></section><h4 id="css"><a href="#css" class="headerlink" title="css"></a>css</h4><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.wrap</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">500px</span>;</span><br><span class="line">  <span class="attribute">overflow-y</span>: auto;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">100px</span> auto;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.content-wrap</span> &#123;</span><br><span class="line">  <span class="attribute">min-height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">background-color</span>: azure;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content</span> &#123;</span><br><span class="line">  <span class="attribute">padding-bottom</span>: <span class="number">40px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.footer</span> &#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: -<span class="number">40px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#00adb5</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">40px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="html"><a href="#html" class="headerlink" title="html"></a>html</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"wrap"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content-wrap"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"s-input"</span> <span class="attr">type</span>=<span class="string">"checkbox"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span>隐藏<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"s-text"</span>&gt;</span></span><br><span class="line">        内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容</span><br><span class="line">        内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容</span><br><span class="line">        内容内内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容</span><br><span class="line">        内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容</span><br><span class="line">        内容内内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容</span><br><span class="line">        内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容</span><br><span class="line">        内容内内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容</span><br><span class="line">        内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容</span><br><span class="line">        内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容</span><br><span class="line">      <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">footer</span> <span class="attr">class</span>=<span class="string">"footer"</span>&gt;</span></span><br><span class="line">    footer</span><br><span class="line">  <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> cssTricks </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>css 实现毛玻璃</title>
      <link href="/2020/03/11/filter-glass/"/>
      <url>/2020/03/11/filter-glass/</url>
      
        <content type="html"><![CDATA[<h1 id="solution"><a href="#solution" class="headerlink" title="solution"></a>solution</h1><ul><li>filter: blur(x px);</li></ul><h1 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h1><style>  .f-wrap {    height: 400px;    position: relative;    background:        url("/img/filter-glass/bg1.jpg") no-repeat 0 / 100% fixed;  }  .f-box-1 {    position: absolute;    /*left: 50%;*/    /*top: 50%;*/    /*transform: translate3d(-50%, -50%, 0);*/    left: 0;    right: 0;    top: 0;    bottom: 0;    margin: auto;    z-index: 1;    width: 80%;    height: 55%;    box-sizing: border-box;    padding: 66px 30px;    background-color: rgba(255, 255, 255, 0.5);    font-size: 18px;  }  .f-box-1::after {    content: '';    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;    filter: blur(10px);    background: url("/img/filter-glass/bg1.jpg") no-repeat 0 / 100% fixed;    z-index: -1;  }  .f-footer {    font-size: 14px;    text-align: right;  }</style><section class="f-wrap">  <div class="f-box-1">    123    <footer class="f-footer">--      <cite>李白 《梦游天姥吟留别》</cite>    </footer>  </div></section><h5 id="tips"><a href="#tips" class="headerlink" title="tips"></a>tips</h5><blockquote><p>background-attachment: fixed;<br>使用此属性时 背景<code>size</code>和<code>定位</code>是依据向上查找到第一个属性为 <code>overflow: auto</code> 的父元素</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> cssTricks </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>绝对定位-元素宽度自动撑开</title>
      <link href="/2020/03/10/css-position-width/"/>
      <url>/2020/03/10/css-position-width/</url>
      
        <content type="html"><![CDATA[<style>  .wrap {    position: relative;    margin: auto;    height: 30px;    width: 120px;    margin-bottom: 50px;    border: 1px solid blue;  }  .wrap > div {     position: absolute;    border: 1px solid;   }  .box-1 {    left: 50%;    transform: translateX(-50%);  }</style><h1 id="情景"><a href="#情景" class="headerlink" title="情景"></a>情景</h1><h5 id="当父级出现定宽高情况下，子级绝对定位元素需要宽度撑开时。"><a href="#当父级出现定宽高情况下，子级绝对定位元素需要宽度撑开时。" class="headerlink" title="当父级出现定宽高情况下，子级绝对定位元素需要宽度撑开时。"></a>当父级出现定宽高情况下，子级绝对定位元素需要宽度撑开时。</h5><h6 id="原场景"><a href="#原场景" class="headerlink" title="原场景"></a>原场景</h6><section class="wrap">    我是父级 100px  <div class="box-1">    <p>子元素-撑撑撑撑撑撑撑撑撑撑撑撑撑撑撑撑撑撑</p>  </div></section><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.box-1</span> &#123;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateX</span>(-<span class="number">50%</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-width-max-content"><a href="#1-width-max-content" class="headerlink" title="1. width: max-content"></a>1. width: max-content</h4><style>    .wrap1 {    z-index: 2;        /*overflow-y: initial !important;*/    }    .box-2 {        width: max-content;    }</style><section class="wrap wrap1">    我是父级 100px  <div class="box-1 box-2">    <p>子元素-撑撑撑撑撑撑撑撑撑撑撑撑撑撑撑撑撑撑</p>  </div></section><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">  .box-1 &#123;</span><br><span class="line">    left: 50%;</span><br><span class="line">    transform: translateX(-50%);</span><br><span class="line"><span class="addition">+   width: max-content;</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h4 id="2-white-space-nowrap"><a href="#2-white-space-nowrap" class="headerlink" title="2. white-space: nowrap;"></a>2. white-space: nowrap;</h4><style>    .box-3 {        white-space: nowrap;    }</style><section class="wrap wrap1">    我是父级 100px  <div class="box-1 box-3">    <p>子元素-撑撑撑撑撑撑撑撑撑撑撑撑撑撑撑撑撑撑</p>  </div></section><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">  .box-1 &#123;</span><br><span class="line">    left: 50%;</span><br><span class="line">    transform: translateX(-50%);</span><br><span class="line"><span class="addition">+    white-space: nowrap;</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> cssTricks </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>双线部署博客，解决 github 访问速度问题</title>
      <link href="/2020/03/09/update-theme-fluid/"/>
      <url>/2020/03/09/update-theme-fluid/</url>
      
        <content type="html"><![CDATA[<h1 id="项目部署-Github-并且仓库名为-quot-userName-quot-github-io"><a href="#项目部署-Github-并且仓库名为-quot-userName-quot-github-io" class="headerlink" title="项目部署 Github 并且仓库名为 &quot;userName&quot;.github.io"></a>项目部署 Github 并且仓库名为 <code>&quot;userName&quot;</code>.github.io</h1><p><img src="/" class="lazyload" data-src="https://kshao.coding.net/p/web-pic/d/web-pic/git/raw/master/blog-pic/update-theme-fluid/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202020-03-09%2020.47.47.png"  alt=""></p><h1 id="项目设置绑定域名，建议开启-https"><a href="#项目设置绑定域名，建议开启-https" class="headerlink" title="项目设置绑定域名，建议开启 https"></a>项目设置绑定域名，建议开启 https</h1><h5 id="在-项目-设置-githubPage-下绑定域名"><a href="#在-项目-设置-githubPage-下绑定域名" class="headerlink" title="在 项目/设置/githubPage 下绑定域名"></a>在 项目/设置/githubPage 下绑定域名</h5><p><img src="/" class="lazyload" data-src="/img/update-theme-fluid/1.png"  alt=""></p><h4 id="域名绑定页面，选-cname-github-给的二级域名-，线路：境外"><a href="#域名绑定页面，选-cname-github-给的二级域名-，线路：境外" class="headerlink" title="域名绑定页面，选 cname(github 给的二级域名)，线路：境外"></a>域名绑定页面，选 cname(github 给的二级域名)，线路：境外</h4><h1 id="项目部署到-coding-上"><a href="#项目部署到-coding-上" class="headerlink" title="项目部署到 coding 上"></a>项目部署到 coding 上</h1><blockquote><p><a href="https://coding.net" target="_blank" rel="noopener">https://coding.net</a></p></blockquote><h4 id="项目-构建与部署-点立即部署（后续可自动化部署）"><a href="#项目-构建与部署-点立即部署（后续可自动化部署）" class="headerlink" title="项目/构建与部署 点立即部署（后续可自动化部署）"></a>项目/构建与部署 点立即部署（后续可自动化部署）</h4><h5 id="同页面上半部分找到二级域名为-cname，线路选择默认。并在当前页面的设置里绑定你的域名（申请证书失败的话需要把域名境外线路调回默认）"><a href="#同页面上半部分找到二级域名为-cname，线路选择默认。并在当前页面的设置里绑定你的域名（申请证书失败的话需要把域名境外线路调回默认）" class="headerlink" title="同页面上半部分找到二级域名为 cname，线路选择默认。并在当前页面的设置里绑定你的域名（申请证书失败的话需要把域名境外线路调回默认）"></a>同页面上半部分找到二级域名为 cname，线路选择默认。并在当前页面的设置里绑定你的域名（申请证书失败的话需要把域名境外线路调回默认）</h5><h3 id="hexo-快速部署项目插件"><a href="#hexo-快速部署项目插件" class="headerlink" title="hexo 快速部署项目插件"></a>hexo 快速部署项目插件</h3><h6 id="以下为-ssh-连接，可自行百度（双账号邮箱建议保持一致，方便注册-ssh）"><a href="#以下为-ssh-连接，可自行百度（双账号邮箱建议保持一致，方便注册-ssh）" class="headerlink" title="以下为 ssh 连接，可自行百度（双账号邮箱建议保持一致，方便注册 ssh）"></a>以下为 ssh 连接，可自行百度（双账号邮箱建议保持一致，方便注册 ssh）</h6><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">npm</span> <span class="string">i</span> <span class="string">hexo-deployer-git</span> <span class="string">-S</span></span><br><span class="line"><span class="string">yarn</span> <span class="string">add</span> <span class="string">hexo-deployer-git</span></span><br></pre></td></tr></table></figure><h4 id="hexo-配置文件"><a href="#hexo-配置文件" class="headerlink" title="hexo 配置文件"></a>hexo 配置文件</h4><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">deploy:</span><br><span class="line"> type: git</span><br><span class="line"># 触发分支</span><br><span class="line"> branch: master</span><br><span class="line"> repo:</span><br><span class="line">   github: git@github.com:&lt;userName&gt;/&lt;projectName&gt;.git</span><br><span class="line">   coding: git@e.coding.net:xxx/xxx.git</span><br></pre></td></tr></table></figure><h5 id="触发流程"><a href="#触发流程" class="headerlink" title="触发流程"></a>触发流程</h5><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">hexo</span> <span class="string">clean</span></span><br><span class="line"><span class="string">hexo</span> <span class="string">generate</span></span><br><span class="line"><span class="string">hexo</span> <span class="string">deploy</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 其他教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>滚动歌词</title>
      <link href="/2019/07/02/music-gun/"/>
      <url>/2019/07/02/music-gun/</url>
      
        <content type="html"><![CDATA[<h4 id="滚动歌词"><a href="#滚动歌词" class="headerlink" title="滚动歌词"></a>滚动歌词</h4><ol><li>把获取到的歌词 用换行符 split 分割</li><li>使用正则判断并分割出时间和歌词</li><li>把正则匹配出的 分、秒、毫秒 转换成秒 做 key 传入 temp 对象，或者 push 数组也可以，没有 key 的排序问题</li><li>通过 temp 遍历出 html 元素放入 content</li><li>监听 audio 的 [on]timeupdate 事件，关键字 e.target.currentTime 为当前播放时间</li><li>根据 时间 找到 匹配的歌词元素，计算元素的 top 与 父元素 top 的差，即为上滚的距离</li><li>滚动时给当前 歌词元素 加上 active class 使其突出</li></ol><h6 id="获取到的歌词可在-log-里查看"><a href="#获取到的歌词可在-log-里查看" class="headerlink" title="获取到的歌词可在 log 里查看"></a>获取到的歌词可在 log 里查看</h6><style>    audio {        width: 300px;        height: 100px;      }          .lrc-box {        margin: 100px auto;      }          .lrc-wrap {        margin: auto;        width: 80%;        height: 400px;        background-color: rgba(153, 204, 153, 0.48);        overflow: hidden;        padding: 0 15px;        position: relative;      }          .lrc-content {        margin-top: 60px;        position: absolute;        text-align: center;        padding-top: 60px;        left: 50%;        transform: translate(-50%, 0);        transition: all 1s;      }          .lrc-content p {        text-align: center;        transition: all .1s;        /*transition-delay: .4s;*/      }          .active {        color: white;        background-color: hotpink;      }</style><div class="lrc-box"><audio id="musicBtn" style="width: 200px; height: 100px" autoplay controls="controls" src="../assets/music-gun/music.mp3"> </audio>  <div class="lrc-wrap">    <div class="lrc-content">    </div>  </div></div><script>const data = {    music: "[00:01.00]岁月神偷 - 金玟岐\n" +        "[00:06.00]\n" +        "[00:07.50]歌词编辑：\n" +        "[00:12.50]QQ：123123\n" +        "[00:17.50]\n" +        "[00:19.04]能够握紧的就别放了\n" +        "[00:23.09]能够拥抱的就别拉扯\n" +        "[00:27.22]时间着急的 冲刷着\n" +        "[00:31.65]剩下了什么\n" +        "[00:35.18]原谅走过的那些曲折\n" +        "[00:39.14]原来留下的都是真的\n" +        "[00:43.22]纵然似梦啊 半醒着\n" +        "[00:47.35]笑着哭着都快活\n" +        "[00:51.69]谁让\n" +        "[00:54.73]时间是让人猝不及防的东西\n" +        "[00:58.95]晴时有风阴有时雨\n" +        "[01:02.95]争不过朝夕 又念着往昔\n" +        "[01:06.93]偷走了青丝却留住一个你\n" +        "[01:11.00]岁月是一场有去无回的旅行\n" +        "[01:15.01]好的坏的都是风景\n" +        "[01:18.98]别怪我贪心 只是不愿醒\n" +        "[01:22.98]因为你只为你愿和我一起\n" +        "[01:27.00]看云淡风轻\n" +        "[01:31.14]\n" +        "[01:42.91]时间是让人猝不及防的东西\n" +        "[01:46.92]晴时有风阴有时雨\n" +        "[01:50.91]争不过朝夕 又念着往昔\n" +        "[01:54.92]偷走了青丝却留住一个你\n" +        "[01:58.89]岁月是一场有去无回的旅行\n" +        "[02:02.88]好的坏的都是风景\n" +        "[02:06.96]别怪我贪心 只是不愿醒\n" +        "[02:10.86]因为你只为你愿和我一起\n" +        "[02:16.32]看云淡风轻\n" +        "[02:20.07]"};console.log(data.music);const temp = {};const LRC = data.music;const matchLrc = LRC.split(/\n/);const reg = /\[(\d{2}):(\d{2})\.(\d{2})](.*)/;for (let i = 0; i < matchLrc.length; i += 1) {   const item = matchLrc[i];   // exec 没有匹配返回 null   const res = reg.exec(item);   if (! reg) continue;   const [_, m, s, ms, text] = res;   // 将他们转成秒 毫秒也可以做秒的四舍五入操作   // const key = (m * 60) + Math.round(s);   // - 0 05 - 0 = 5   // console.log((m * 60) + ((s + '.' + ms) - 0));   const key = (m * 60) + (s - 0);   temp[key] = text;}let html = '';for (let time in temp) {   html += `<p time=${time}>${temp[time]}</p>`}const lrcContent = document.querySelector('.lrc-content');lrcContent.innerHTML = html;const musicBtn = document.getElementById('musicBtn');let index = -1;musicBtn.ontimeupdate = e => {   // 获取秒数 与 dom 元素对应   // console.log(e.target.currentTime, 'time');   const key = Math.floor(e.target.currentTime);   if (! temp[key]) return;   const p = lrcContent.querySelector(`p[time='${key}']`);   // 此时的 p top值，大于 content，用 p - content 的 top 值，即为需要移动的距离   const far = p.offsetTop - lrcContent.offsetTop;   lrcContent.style.transform = `translate(-50%, -${far}px)`;   p.classList.add('active');   if (index > -1 && index !== key) lrcContent.querySelector(`p[time='${index}']`).classList.remove('active');   index = key;}</script><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">data.music = <span class="string">'歌词'</span>; <span class="comment">// 歌词在 log 自行复制</span></span><br><span class="line"><span class="keyword">const</span> temp = &#123;&#125;;</span><br><span class="line"><span class="keyword">const</span> LRC = data.music;</span><br><span class="line"><span class="keyword">const</span> matchLrc = LRC.split(<span class="regexp">/\n/</span>);</span><br><span class="line"><span class="keyword">const</span> reg = <span class="regexp">/\[(\d&#123;2&#125;):(\d&#123;2&#125;)\.(\d&#123;2&#125;)](.*)/</span>;</span><br><span class="line">   </span><br><span class="line">   </span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; matchLrc.length; i += <span class="number">1</span>) &#123;</span><br><span class="line">   <span class="keyword">const</span> item = matchLrc[i];</span><br><span class="line">   <span class="comment">// exec 没有匹配返回 null</span></span><br><span class="line">   <span class="keyword">const</span> res = reg.exec(item);</span><br><span class="line">   <span class="keyword">if</span> (! reg) <span class="keyword">continue</span>;</span><br><span class="line">   <span class="keyword">const</span> [_, m, s, ms, text] = res;</span><br><span class="line">   <span class="comment">// 将他们转成秒 毫秒也可以做秒的四舍五入操作</span></span><br><span class="line">   <span class="comment">// const key = (m * 60) + Math.round(s);</span></span><br><span class="line">   <span class="comment">// - 0 05 - 0 = 5</span></span><br><span class="line">   <span class="comment">// console.log((m * 60) + ((s + '.' + ms) - 0));</span></span><br><span class="line">   <span class="keyword">const</span> key = (m * <span class="number">60</span>) + (s - <span class="number">0</span>);</span><br><span class="line">   temp[key] = text;</span><br><span class="line">&#125;</span><br><span class="line">   </span><br><span class="line"><span class="keyword">let</span> html = <span class="string">''</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> time <span class="keyword">in</span> temp) &#123;</span><br><span class="line">   html += <span class="string">`&lt;p time=<span class="subst">$&#123;time&#125;</span>&gt;<span class="subst">$&#123;temp[time]&#125;</span>&lt;/p&gt;`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> lrcContent = <span class="built_in">document</span>.querySelector(<span class="string">'.lrc-content'</span>);</span><br><span class="line"></span><br><span class="line">lrcContent.innerHTML = html;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> musicBtn = <span class="built_in">document</span>.getElementById(<span class="string">'musicBtn'</span>);</span><br><span class="line"><span class="keyword">let</span> index = <span class="number">-1</span>;</span><br><span class="line">musicBtn.ontimeupdate = <span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">   <span class="comment">// 获取秒数 与 dom 元素对应</span></span><br><span class="line">   <span class="comment">// console.log(e.target.currentTime, 'time');</span></span><br><span class="line">   <span class="keyword">const</span> key = <span class="built_in">Math</span>.floor(e.target.currentTime);</span><br><span class="line">   <span class="keyword">if</span> (! temp[key]) <span class="keyword">return</span>;</span><br><span class="line">   <span class="keyword">const</span> p = lrcContent.querySelector(<span class="string">`p[time='<span class="subst">$&#123;key&#125;</span>']`</span>);</span><br><span class="line">   <span class="comment">// 此时的 p top值，大于 content，用 p - content 的 top 值，即为需要移动的距离</span></span><br><span class="line">   <span class="keyword">const</span> far = p.offsetTop - lrcContent.offsetTop;</span><br><span class="line">   lrcContent.style.transform = <span class="string">`translate(-50%, -<span class="subst">$&#123;far&#125;</span>px)`</span>;</span><br><span class="line">   p.classList.add(<span class="string">'active'</span>);</span><br><span class="line">   <span class="keyword">if</span> (index &gt; <span class="number">-1</span> &amp;&amp; index !== key) lrcContent.querySelector(<span class="string">`p[time='<span class="subst">$&#123;index&#125;</span>']`</span>).classList.remove(<span class="string">'active'</span>);</span><br><span class="line">   index = key;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> demo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>css 底部菜单栏动画</title>
      <link href="/2019/07/01/css-tab/"/>
      <url>/2019/07/01/css-tab/</url>
      
        <content type="html"><![CDATA[<p>从中间展开 after 需要<br>设置 position:absolute；left：0；right：0；bottom：0；margin：auto</p><iframe width="100%" height="500" src="//jsfiddle.net/142536yu/fq3pgnx0/embedded/js,html,css,result/dark/" allowfullscreen="allowfullscreen" allowpaymentrequest frameborder="0"></iframe>]]></content>
      
      
      <categories>
          
          <category> cssTricks </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>css 背景渐变 实现优惠券</title>
      <link href="/2019/07/01/coucpons-bg/"/>
      <url>/2019/07/01/coucpons-bg/</url>
      
        <content type="html"><![CDATA[<h5 id="关键词"><a href="#关键词" class="headerlink" title="关键词"></a>关键词</h5><h6 id="线性渐变-径向渐变"><a href="#线性渐变-径向渐变" class="headerlink" title="线性渐变 径向渐变"></a>线性渐变 径向渐变</h6><ol><li>使用径向渐变实现缺口效果</li></ol><iframe width="100%" height="300" src="//jsfiddle.net/142536yu/5qpf47en/4/embedded/js,html,css,result/dark/" allowfullscreen="allowfullscreen" allowpaymentrequest frameborder="0"></iframe>]]></content>
      
      
      <categories>
          
          <category> cssTricks </category>
          
      </categories>
      
      
        <tags>
            
            <tag> background </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mac + docker 容器搭建本地 gitlab ci runner + ssh | ftp 自动部署</title>
      <link href="/2019/07/01/gitlab-ci/"/>
      <url>/2019/07/01/gitlab-ci/</url>
      
        <content type="html"><![CDATA[<h4 id="安装-docker"><a href="#安装-docker" class="headerlink" title="安装 docker"></a>安装 docker</h4><blockquote><p><a href="https://www.docker.com/products/docker-toolbox" target="_blank" rel="noopener">https://www.docker.com/products/docker-toolbox</a></p></blockquote><h4 id="加速器"><a href="#加速器" class="headerlink" title="加速器"></a>加速器</h4><blockquote><p><a href="https://dashboard.daocloud.io/mirror" target="_blank" rel="noopener">https://dashboard.daocloud.io/mirror</a></p></blockquote><ol><li>点击立即开始－接入自有主机－我已有一台主机－选择MAC－直接点击</li><li>根据步骤 直至控制台显示有你的主机</li><li>去镜像仓库搜索 <code>gitlab-ce</code></li></ol><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">部署镜像可在命令行部署，或者刚刚下载的 Gui 工具内</span><br></pre></td></tr></table></figure><ol start="4"><li>部署好镜像，打开映射的主机端口，会显示重置密码(密码应为 八位+英文字符限制)默认用户名 <code>root</code></li><li>安装 runner 镜像，可在 <a href="https://dashboard.daocloud.io/" target="_blank" rel="noopener">Daocloud</a> 中部署到主机</li><li>注册runner</li></ol><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="string">在刚刚安装的</span> <span class="string">gitlab</span> <span class="string">中创建项目，在项目内的setting选项选中</span> <span class="string">Ci/CD</span></span><br><span class="line"></span><br><span class="line"><span class="string">在</span> <span class="string">Runners</span> <span class="string">选项中会看到对应的</span> <span class="string">链接</span> <span class="string">和</span> <span class="string">token</span></span><br></pre></td></tr></table></figure><p><img src="/" class="lazyload" data-src="https://i.loli.net/2019/07/01/5d197ecc3e59810455.png"  alt="image"></p><ol start="7"><li>注册 runner</li></ol><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="string">启动</span> <span class="string">runner</span> <span class="string">容器，并进入容器</span></span><br><span class="line"></span><br><span class="line"><span class="string">docker</span> <span class="string">exec</span> <span class="string">-it</span> <span class="string">runner</span> <span class="string">bash</span></span><br><span class="line"><span class="string">退出命令</span> <span class="string">exit</span></span><br><span class="line"></span><br><span class="line"><span class="string">进入容器输入</span></span><br><span class="line"></span><br><span class="line"><span class="string">gitlab-runner</span> <span class="string">register</span> <span class="string">-n</span> <span class="string">\</span></span><br><span class="line">   <span class="string">--url</span> <span class="string">http://172.17.0.3/</span> <span class="string">\</span></span><br><span class="line">   <span class="string">--registration-token</span> <span class="string">PCfVAC_B_zJWDzz_xxkt</span> <span class="string">\</span></span><br><span class="line">   <span class="string">--executor</span> <span class="string">docker</span> <span class="string">\</span></span><br><span class="line">   <span class="string">--description</span> <span class="string">"runner1"</span> <span class="string">\</span></span><br><span class="line">   <span class="string">--docker-image</span> <span class="string">"node:latest"</span> <span class="string">\</span></span><br><span class="line">   <span class="string">--clone-url</span> <span class="string">http://172.17.0.3/</span> </span><br><span class="line">   </span><br><span class="line"><span class="string">url：gitlab</span> <span class="string">的域名，docker内为容器的</span> <span class="string">IP</span></span><br><span class="line"><span class="string">registration-token：</span> <span class="string">刚刚复制的</span> <span class="string">token</span></span><br><span class="line"><span class="string">executor：</span> <span class="string">运行环境</span></span><br><span class="line"><span class="string">description：</span></span><br><span class="line"><span class="string">clone-url：</span> <span class="string">很重要，不添加可能会报错如下</span></span><br><span class="line"></span><br><span class="line"><span class="attr">fatal:</span> <span class="string">unable</span> <span class="string">to</span> <span class="string">access</span> <span class="string">'http://gitlab-ci-token:[MASKED]@f96d3c31771a</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">默认注册输入 gitlab-runner register  是按流程来的有 tag标签</span></span><br><span class="line"><span class="string">按上面步骤需要在 setting/[CI/CD]/runners 设置 tag</span></span><br></pre></td></tr></table></figure><h6 id="设置完成，可在-setting-CI-CD-runners-看到-runner"><a href="#设置完成，可在-setting-CI-CD-runners-看到-runner" class="headerlink" title="设置完成，可在  setting/[CI/CD]/runners 看到 runner"></a>设置完成，可在  setting/[CI/CD]/runners 看到 runner</h6><p><img src="/" class="lazyload" data-src="https://img-blog.csdn.net/20170515161632358?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYWl4aWFveWFuZzE2OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast"  alt="image"></p><ol start="8"><li>配置 ssh mac/Linux 环境</li></ol><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 不建议使用 root 账户创建，可能会有各种问题</span></span><br><span class="line"><span class="comment"># 创建账户 kshao1</span></span><br><span class="line">useradd kshao1</span><br><span class="line"><span class="comment"># 修改密码</span></span><br><span class="line">passwd kshao1</span><br><span class="line"></span><br><span class="line"><span class="comment"># 直接生成 公私钥 全程回车 免密登陆</span></span><br><span class="line">ssh-keygen -t rsa || ssh-keygen</span><br><span class="line"></span><br><span class="line"><span class="comment"># 一般用户会在 home/用户名/.ssh 看到文件密钥文件</span></span><br><span class="line"><span class="comment"># 如果没有以下文件则生成</span></span><br><span class="line">touch authorized_keys</span><br><span class="line"></span><br><span class="line"><span class="comment"># 该文件权限必须是 600 路径随意</span></span><br><span class="line">chmod <span class="number">600</span> /root/.ssh/authorized_keys</span><br><span class="line"></span><br><span class="line"><span class="comment"># 是&gt;&gt;而不是&gt;，双尖括号&gt;&gt;表示像向文件中追加：</span></span><br><span class="line">cat /root/.ssh/id_rsa.pub &gt;&gt; /root/.ssh/authorized_keys</span><br></pre></td></tr></table></figure><blockquote><p>细节 <a href="https://blog.csdn.net/nahancy/article/details/79059135" target="_blank" rel="noopener">https://blog.csdn.net/nahancy/article/details/79059135</a></p></blockquote><h6 id="使用-shell-ssh-密码链接"><a href="#使用-shell-ssh-密码链接" class="headerlink" title="使用 shell ssh 密码链接"></a>使用 shell ssh 密码链接</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;expect -f</span><br><span class="line">set TARGET 119.3.79.171</span><br><span class="line">set USER xxx</span><br><span class="line">set PASSWD xxx</span><br><span class="line">set PORT xxx</span><br><span class="line">set timeout 10</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">spawn ssh $USER@$TARGET -p $PORT</span><br><span class="line">expect &#123;</span><br><span class="line">    &quot;*yes&#x2F;no&quot; &#123;send &quot;yes\r&quot;; exp_continue&#125;</span><br><span class="line">    &quot;*password:&quot; &#123;send &quot;$PASSWD\r&quot;&#125;</span><br><span class="line">&#125;</span><br><span class="line">interact</span><br></pre></td></tr></table></figure><ol start="9"><li>配值 .gitlab-ci.yml 文件<h6 id="Lftp-连接虚拟主机"><a href="#Lftp-连接虚拟主机" class="headerlink" title="Lftp 连接虚拟主机"></a>Lftp 连接虚拟主机</h6><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">image:</span> <span class="string">mwienk/docker-lftp:latest</span></span><br><span class="line"></span><br><span class="line"><span class="attr">stages:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">deploy</span></span><br><span class="line"></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">stage:</span> <span class="string">deploy</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">script:</span></span><br><span class="line">    <span class="comment"># 指定目录覆盖上传 (强制更新)</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">ls</span> <span class="string">-la</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">lftp</span> <span class="string">-c</span> <span class="string">"set ftp:ssl-allow no; open -u $FTP_USERNAME,$FTP_PASSWORD $FTP_HOST -p $port;mirror -RLv ./public /gmlh97ux/wwwroot --ignore-time --transfer-all --parallel=50 --exclude-glob .git* --exclude .git/"</span></span><br><span class="line">  <span class="attr">tags:</span></span><br><span class="line">    <span class="comment"># runner 容器标签</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">docker</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">only:</span></span><br><span class="line">    <span class="comment"># 仅 master 分支</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">master</span></span><br></pre></td></tr></table></figure><h6 id="ssh-连接服务器-需要准备好-密钥文件-scp-同理"><a href="#ssh-连接服务器-需要准备好-密钥文件-scp-同理" class="headerlink" title="ssh 连接服务器 需要准备好 密钥文件 scp 同理"></a>ssh 连接服务器 需要准备好 密钥文件 scp 同理</h6><h6 id="shell文件-可在-yml-中打开-script-xxx"><a href="#shell文件-可在-yml-中打开-script-xxx" class="headerlink" title="shell文件 可在 yml 中打开 script ./xxx"></a>shell文件 可在 yml 中打开 script ./xxx</h6><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># -tt 取消提示</span></span><br><span class="line"><span class="comment"># ./id_rsa1 文件地址</span></span><br><span class="line">  ssh -tt -i ./id_rsa1 kshao1@119.3.79.170 -p 22  &lt;&lt; remotessh</span><br><span class="line">  <span class="built_in">echo</span> down</span><br><span class="line">  <span class="built_in">cd</span> /home/kshao1/.ssh</span><br><span class="line">  ls</span><br><span class="line"></span><br><span class="line">  <span class="built_in">exit</span></span><br><span class="line">remotessh</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> 其他教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> gitlab </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用 Hexo + Next + Algolia 搜索 搭建博客</title>
      <link href="/2019/07/01/blog/"/>
      <url>/2019/07/01/blog/</url>
      
        <content type="html"><![CDATA[<hr><p>title: blog-theme-fluid<br>date: 2020-03-09 20:33:18<br>categories:<br>    - 其他教程<br>tags:<br>    - blog</p><hr><h2 id="安装-Hexo"><a href="#安装-Hexo" class="headerlink" title="安装 Hexo"></a>安装 Hexo</h2><h5 id="全局安装"><a href="#全局安装" class="headerlink" title="全局安装"></a>全局安装</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ npm install hexo-cli -g #282a2e</span><br></pre></td></tr></table></figure><h5 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h5><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">$ hexo init [folder]</span><br><span class="line"><span class="comment"># folder  项目名称</span></span><br></pre></td></tr></table></figure><h5 id="启动预览"><a href="#启动预览" class="headerlink" title="启动预览"></a>启动预览</h5><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">$ hexo server 预览</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如你是 webstrom 可在 package 内的 scripts 中添加</span></span><br><span class="line"></span><br><span class="line"><span class="string">"start"</span>: <span class="string">"hexo server"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 方便以后启动预览</span></span><br></pre></td></tr></table></figure><h5 id="新建页面"><a href="#新建页面" class="headerlink" title="新建页面"></a>新建页面</h5><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">$ hexo new [layout] &lt;title&gt;</span><br></pre></td></tr></table></figure><h4 id="安装-Next-主题"><a href="#安装-Next-主题" class="headerlink" title="安装 Next 主题"></a>安装 Next 主题</h4><blockquote><p>官网 <a href="http://theme-next.iissnan.com/" target="_blank" rel="noopener">http://theme-next.iissnan.com/</a></p></blockquote><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 官网提供的是 旧版 链接，注意本文的发布日期再去官网对照</span></span><br><span class="line">$ cd hexo</span><br><span class="line">$ git clone https://github.com/theme-next/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure><h6 id="安装完成之后去站点配置文件，根目录-config-选用-Next"><a href="#安装完成之后去站点配置文件，根目录-config-选用-Next" class="headerlink" title="安装完成之后去站点配置文件，根目录/_config 选用 Next"></a>安装完成之后去站点配置文件，根目录/_config 选用 Next</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">theme: next</span><br></pre></td></tr></table></figure><h5 id="配置菜单的-分类、标签"><a href="#配置菜单的-分类、标签" class="headerlink" title="配置菜单的 分类、标签"></a>配置菜单的 分类、标签</h5><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">$ cd your-hexo-site</span><br><span class="line">$ hexo new page tags</span><br></pre></td></tr></table></figure><h6 id="修改菜单-Next-主题配置文件"><a href="#修改菜单-Next-主题配置文件" class="headerlink" title="修改菜单(Next 主题配置文件)"></a>修改菜单(Next 主题配置文件)</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">menu:</span><br><span class="line">  home: &#x2F;</span><br><span class="line">  archives: &#x2F;archives</span><br><span class="line">  tags: &#x2F;tags</span><br></pre></td></tr></table></figure><h6 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># ---</span><br><span class="line"># 分类</span><br><span class="line">categories:</span><br><span class="line">  - 其他教程</span><br><span class="line"># 标签</span><br><span class="line">tags:</span><br><span class="line">  - blog</span><br><span class="line"># ---</span><br></pre></td></tr></table></figure><h4 id="安装-Algolia-搜索"><a href="#安装-Algolia-搜索" class="headerlink" title="安装 Algolia 搜索"></a>安装 Algolia 搜索</h4><h6 id="此操作流程只在-Next-主题下测试"><a href="#此操作流程只在-Next-主题下测试" class="headerlink" title="此操作流程只在 Next 主题下测试"></a>此操作流程只在 Next 主题下测试</h6><h1 align="center">Algolia 搜索</h1><p>NexT 内部提供 Algolia 的搜索功能，要使用此功能请确保所使用的 NexT 版本在 <code>v5.1.0</code> 之后。需要注意的是，仅仅将 <code>next/_config.yml</code> 中 <code>algolia_search</code> 的 <code>enable</code> 打开<strong>并不能让你使用 Algolia 搜索</strong>，你还需要<strong>使用对应的 Hexo-Algolia 插件</strong> 才能真正在博客页面中使用 Algolia 搜索。按照下面介绍的步骤操作即可完成 Algolia 搜索的安装。</p><ol><li><p>前往 <a href="https://www.algolia.com/" target="_blank" rel="noopener">Algolia 注册页面</a>，注册一个新账户。 可以使用 GitHub 或者 Google 账户直接登录，注册后的 14 天内拥有所有功能（包括收费类别的）。之后若未续费会自动降级为免费账户，免费账户 总共有 10,000 条记录，每月有 100,000 的可以操作数。注册完成后，创建一个新的 Index，这个 Index 将在后面使用。</p><p> <img src="/" class="lazyload" data-src="http://theme-next.iissnan.com/uploads/algolia/algolia-step-2.png"  alt=""></p></li><li><p>Index 创建完成后，此时这个 Index 里未包含任何数据。接下来需要安装 <a href="https://github.com/oncletom/hexo-algolia" target="_blank" rel="noopener">Hexo Algolia</a> 扩展，这个扩展的功能是搜集站点的内容并通过 API 发送给 Algolia。前往站点根目录，执行命令安装：</p> <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ cd hexo</span><br><span class="line">$ npm install --save hexo-algolia</span><br></pre></td></tr></table></figure></li><li><p>在 <code>API Keys</code> 页面找到需要使用的一些配置的值，包括 <code>ApplicationID</code> 和 <code>Search-Only API Key</code>。注意，<code>Admin API Key</code> 需要保密保存，不要外泄。</p><p> <img src="/" class="lazyload" data-src="https://user-images.githubusercontent.com/8521181/35479066-64e35aec-0428-11e8-91f9-1ec3afa45c5c.png"  alt=""></p></li><li><p>在 <code>API Keys</code> 页面，点击 <code>ALL API KEYS</code> 找到新建 INDEX 对应的 key，<strong>编辑权限</strong>，在弹出框中找到 ACL ，<strong>勾选 Add records、 Delete records、List indices、Delete index 权限</strong>，点击 <code>update</code> 更新。</p><p> <img src="/" class="lazyload" data-src="https://user-images.githubusercontent.com/8521181/35479064-611aa0b4-0428-11e8-85a1-cfb449b486ec.png"  alt=""><br> <img src="/" class="lazyload" data-src="https://user-images.githubusercontent.com/8521181/35479084-d4f7ac02-0428-11e8-95a6-c4e3b1bef47b.png"  alt=""></p></li><li><p>编辑 <code>站点配置文件</code>，新增以下配置，除了 <code>chunkSize</code> 字段，替换成在 Algolia 获取到的值：</p> <figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">algolia:</span></span><br><span class="line">  <span class="attr">applicationID:</span> <span class="string">'applicationID'</span></span><br><span class="line">  <span class="attr">apiKey:</span> <span class="string">'apiKey'</span></span><br><span class="line">  <span class="attr">indexName:</span> <span class="string">'indexName'</span></span><br><span class="line">  <span class="attr">chunkSize:</span> <span class="number">5000</span></span><br></pre></td></tr></table></figure></li><li><p>当配置完成，在站点根目录下执行一下命令来更新上传 Index。请注意观察命令的输出。</p> <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ export HEXO_ALGOLIA_INDEXING_KEY&#x3D;Search-Only API key # 使用 Git Bash</span><br><span class="line"># set HEXO_ALGOLIA_INDEXING_KEY&#x3D;Search-Only API key # 使用 Windows CMD 命令行</span><br><span class="line">$ hexo clean</span><br><span class="line">$ hexo algolia</span><br></pre></td></tr></table></figure><p> <img src="/" class="lazyload" data-src="http://theme-next.iissnan.com/uploads/algolia/algolia-step-4.png"  alt=""></p></li><li><p>切换到 NexT 目录，并安装 algolia-instant-search 到 <code>source/lib</code> 目录。</p> <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ cd themes&#x2F;next</span><br><span class="line">$ git clone https:&#x2F;&#x2F;github.com&#x2F;theme-next&#x2F;theme-next-algolia-instant-search source&#x2F;lib&#x2F;algolia-instant-search</span><br></pre></td></tr></table></figure><p> 如果你想直接使用 CDN 设置 Algolia Search，则需要在<code>主题配置文件</code>中添加 vendors 字段：</p> <figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">vendors:</span></span><br><span class="line">  <span class="string">...</span></span><br><span class="line">  <span class="comment"># Internal version: 1</span></span><br><span class="line">  <span class="comment"># https://www.algolia.com</span></span><br><span class="line">  <span class="attr">algolia_instant_js:</span> <span class="string">https://cdn.jsdelivr.net/npm/instantsearch.js@2.4.1/dist/instantsearch.js</span></span><br><span class="line">  <span class="attr">algolia_instant_css:</span> <span class="string">https://cdn.jsdelivr.net/npm/instantsearch.js@2.4.1/dist/instantsearch.min.css</span></span><br><span class="line">  <span class="string">...</span></span><br></pre></td></tr></table></figure></li><li><p>更改<code>主题配置文件</code>，找到 Algolia Search 配置部分，将 <code>enable</code> 改为 <code>true</code>。同时你需要<strong>关闭</strong>其他搜索插件，如 Local Search 等。你也可以根据需要调整 <code>labels</code> 中的文本：</p> <figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Algolia Search</span></span><br><span class="line"><span class="attr">algolia_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">hits:</span></span><br><span class="line">    <span class="attr">per_page:</span> <span class="number">10</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">input_placeholder:</span> <span class="string">Search</span> <span class="string">for</span> <span class="string">Posts</span></span><br><span class="line">    <span class="attr">hits_empty:</span> <span class="string">"We didn't find any results for the search: $&#123;query&#125;"</span></span><br><span class="line">    <span class="attr">hits_stats:</span> <span class="string">"$&#123;hits&#125; results found in $&#123;time&#125; ms"</span></span><br></pre></td></tr></table></figure></li></ol><h2 align="center">已知的问题</h2><ol><li>考虑到 Algolia 免费账户的限制，目前 <a href="https://github.com/oncletom/hexo-algolia" target="_blank" rel="noopener">Hexo-Algolia</a> 插件最新版本去掉了正文索引功能。</li><li><a href="https://github.com/LouisBarranqueiro/hexo-algoliasearch" target="_blank" rel="noopener">Hexo-Algoliasearch</a> 插件提供了正文索引功能，不过需要替换 NEXT 主题中的关键字。对于免费账户，<code>Record Too Big</code> 的问题同样存在。<ul><li>替换 <code>source/js/algolia-search.js</code> 中所有的 <code>applicationID</code> 为 <code>appId</code></li><li>替换 <code>layout/_partials/head/head.swig</code> 中所有的 <code>applicationID</code> 为 <code>appId</code></li></ul></li></ol><blockquote><p>此文档在 /themes/nest/docs/ALGOLIA-SEARCH</p></blockquote><h4 id="看完以上文档，默认你以安装完-Algolia，接下来使用-Hexo-Algoliasearch"><a href="#看完以上文档，默认你以安装完-Algolia，接下来使用-Hexo-Algoliasearch" class="headerlink" title="看完以上文档，默认你以安装完 Algolia，接下来使用 Hexo-Algoliasearch"></a>看完以上文档，默认你以安装完 Algolia，接下来使用 Hexo-Algoliasearch</h4><ul><li>首先安装 <a href="https://github.com/LouisBarranqueiro/hexo-algoliasearch" target="_blank" rel="noopener">Hexo-Algoliasearch</a></li></ul><h5 id="在站点配置文件"><a href="#在站点配置文件" class="headerlink" title="在站点配置文件"></a>在站点配置文件</h5><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">algolia:</span></span><br><span class="line">  <span class="comment"># appid 为 applicationID 如未替换需替换</span></span><br><span class="line">  <span class="attr">appId:</span> <span class="string">"Z7A3XW4R2I"</span></span><br><span class="line">  <span class="comment"># search only key</span></span><br><span class="line">  <span class="attr">apiKey:</span> <span class="string">"12db1ad54372045549ef465881c17e743"</span></span><br><span class="line">  <span class="attr">adminApiKey:</span> <span class="string">"40321c7c207e7f73b63a19aa24c4761b"</span></span><br><span class="line">  <span class="attr">chunkSize:</span> <span class="number">5000</span></span><br><span class="line">  <span class="attr">indexName:</span> <span class="string">"my-hexo-blog"</span></span><br><span class="line">  <span class="attr">fields:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">content:strip:truncate,0,500</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">excerpt:strip</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">gallery</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">permalink</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">photos</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">slug</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">tags</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">title</span></span><br></pre></td></tr></table></figure><p>配置完成后运行</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="string">$</span> <span class="string">hexo</span> <span class="string">clean</span></span><br><span class="line"><span class="string">$</span> <span class="string">hexo</span> <span class="string">algolia</span></span><br></pre></td></tr></table></figure><hr><p>配置好以上，Next的<code>algolia</code>搜索是没有内容搜索的，所以配置了上面的插件。<br>默认 <code>algolia</code> 搜索显示只有标题，关键词未高亮，所以开始了老本行工作。</p><ol><li>打开配置文件 <code>/themes/next/source/js</code> 替换以下内容</li></ol><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">instantsearch.widgets.hits(&#123;</span><br><span class="line">      container  : <span class="string">'#algolia-hits'</span>,</span><br><span class="line">      hitsPerPage: algoliaSettings.hits.per_page || <span class="number">10</span>,</span><br><span class="line">      templates  : &#123;</span><br><span class="line">        item: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">          <span class="keyword">var</span> link = data.permalink ? data.permalink : CONFIG.root + data.path;</span><br><span class="line">          <span class="keyword">return</span> (</span><br><span class="line">            <span class="string">`</span></span><br><span class="line"><span class="string">              &lt;ul&gt;</span></span><br><span class="line"><span class="string">                &lt;li&gt;</span></span><br><span class="line"><span class="string">                  &lt;a href=<span class="subst">$&#123;link&#125;</span> class="algolia-hit-item-link"&gt;<span class="subst">$&#123;data._highlightResult.title.value&#125;</span>&lt;/a&gt;</span></span><br><span class="line"><span class="string">                  &lt;a href=<span class="subst">$&#123;link&#125;</span> class="algolia-hit-item-match"&gt;</span></span><br><span class="line"><span class="string">                    &lt;p&gt;<span class="subst">$&#123;data._highlightResult.contentStripTruncate.value&#125;</span>&lt;/p&gt;</span></span><br><span class="line"><span class="string">                  &lt;/a&gt;</span></span><br><span class="line"><span class="string">                &lt;/li&gt;</span></span><br><span class="line"><span class="string">              &lt;/ul&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">            `</span></span><br><span class="line">          );</span><br><span class="line">        &#125;,</span><br><span class="line">        empty: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">          <span class="keyword">return</span> (</span><br><span class="line">            <span class="string">'&lt;div id="algolia-hits-empty"&gt;'</span></span><br><span class="line">          + algoliaSettings.labels.hits_empty.replace(<span class="regexp">/\$\&#123;query&#125;/</span>, data.query)</span><br><span class="line">          + <span class="string">'&lt;/div&gt;'</span></span><br><span class="line">          );</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      cssClasses: &#123;</span><br><span class="line">        item: <span class="string">'algolia-hit-item'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure><ol start="2"><li>修改 css <code>/themes/next/source/css/main.styl</code></li></ol><figure class="highlight styl"><table><tr><td class="code"><pre><span class="line">.algolia-hit-item-match</span><br><span class="line">  <span class="attribute">text-decoration</span> none</span><br><span class="line">  <span class="attribute">border</span> none</span><br><span class="line">  <span class="attribute">color</span> rgba(<span class="number">31</span>, <span class="number">31</span>, <span class="number">31</span>, <span class="number">0.37</span>)</span><br><span class="line">  &amp;:hover</span><br><span class="line">    <span class="attribute">color</span> rgba(<span class="number">34</span>, <span class="number">34</span>, <span class="number">34</span>, <span class="number">0.53</span>)</span><br><span class="line"></span><br><span class="line">  em</span><br><span class="line">    <span class="attribute">padding</span> <span class="number">3px</span></span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> dashed <span class="number">#f00</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: bold;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#f00</span>;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 其他教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>图片懒加载的两种方法-节流 IntersectionObserver</title>
      <link href="/2019/03/17/e5-9b-be-e7-89-87-e6-87-92-e5-8a-a0-e8-bd-bd-e7-9a-84-e4-b8-a4-e7-a7-8d-e6-96-b9-e6-b3-95-e8-8a-82-e6-b5-81-intersectionobserver/"/>
      <url>/2019/03/17/e5-9b-be-e7-89-87-e6-87-92-e5-8a-a0-e8-bd-bd-e7-9a-84-e4-b8-a4-e7-a7-8d-e6-96-b9-e6-b3-95-e8-8a-82-e6-b5-81-intersectionobserver/</url>
      
        <content type="html"><![CDATA[<p><strong>第一种：</strong></p><blockquote><p>以下代码皆在 React 中测试使用</p></blockquote><p>使用 <strong><em>window</em></strong> 上的 <strong><em>onscroll</em></strong> 事件，配合封装好的 throttle 节流函数实现图片的懒加载。</p><p>render 函数内：</p><pre><code>render() {    const data = [      {        url: &apos;https://dwz.cn/Jwg1UQEj&apos;,        text: &apos;图片1-1&apos;,      },      {        url: &apos;https://dwz.cn/w8t4A0WD&apos;,        text: &apos;图片1-2&apos;,      },      {        url: &apos;https://dwz.cn/l1nYpL4U&apos;,        text: &apos;图片1-3&apos;,      },      {        url: &apos;https://dwz.cn/2XrYhRBX&apos;,        text: &apos;图片1-4&apos;,      },      {        url: &apos;https://dwz.cn/00pSTOtm&apos;,        text: &apos;图片1-5&apos;,      },      {        url: &apos;https://dwz.cn/Hg1aIh3e&apos;,        text: &apos;图片1-6&apos;,      },    ];    return(      &lt;ul className={styles.list}&gt;        {Object.keys(data).length ? data.map(item =&gt; {          return (            &lt;li key={item.url} &gt;              &lt;h2&gt;{item.text}&lt;/h2&gt;              &lt;img className={styles.lazyImg} src=&apos;https://dwz.cn/qLQmSywT&apos; _src={item.url} alt={item.text}/&gt;            &lt;/li&gt;          )        }) : &apos;loading&apos;}      &lt;/ul&gt;    )  }</code></pre><p>componentDidmount 函数内</p><pre><code>// 获取所有的需要懒加载的图片元素const imgs = document.querySelectorAll(&apos;.&apos;+styles.lazyImg);// 首次执行 手动触发滚动事件this.lazyLoad(imgs);// 节流函数const lazyLoad = this.throttle(e =&gt; this.lazyLoad(imgs), 400, true);window.onscroll - lazyLoad</code></pre><p>lazyLoad 方法</p><pre><code>lazyLoad = (imgs) =&gt; {    imgs.forEach(item =&gt; {      console.log(&apos;lazyLoad&apos;);      const top = item.getBoundingClientRect().top;      if (top &lt; window.innerHeight &amp;&amp; item.src !== item.getAttribute(&apos;_src&apos;)) {        item.src = item.getAttribute(&apos;_src&apos;);      }    })  };</code></pre><p>// 节流函数的封装<br>throttle = (fn, wait, immediate) =&gt; {<br>  let timer = null;<br>  let callNow = immediate;<br>  return function() {<br>    const args = arguments,<br>          that = this;<br>    if (callNow) {<br>      fn.apply(that, args);<br>      callNow = false<br>  }<br>    if (!timer) {<br>      setTimeout(() =&gt; {<br>        fn.apply(that, args);<br>        timer = null;<br>      }, wait)<br>    }<br>  }<br>};</p><p><strong>第二种</strong></p><p>使用 IntersectionObserver 接口，具体使用方法请去 MDN 查看</p><pre><code>const io = new IntersectionObserver(callback); // 获取所有的需要懒加载的图片元素const imgs = document.querySelectorAll(&apos;.&apos;+styles.lazyImg);function callback(entries) {      entries.forEach((item) =&gt; {        if(item.isIntersecting){          item.target.src = item.target.getAttribute(&apos;_src&apos;);          io.unobserve(item.target)        }      })}imgs.forEach((item)=&gt;{   io.observe(item)})</code></pre><p>componentDidmount 函数内</p><blockquote><p>本文引荐 <a href="https://www.jianshu.com/p/84a86e41eb2b" target="_blank" rel="noopener">https://www.jianshu.com/p/84a86e41eb2b</a></p><p>IntersectionObserver 亦可以实现 导航栏吸顶效果</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>算法面试题-查找指定的字符串</title>
      <link href="/2019/03/09/e7-ae-97-e6-b3-95-e9-9d-a2-e8-af-95-e9-a2-98-e6-9f-a5-e6-89-be-e6-8c-87-e5-ae-9a-e7-9a-84-e5-ad-97-e7-ac-a6-e4-b8-b2/"/>
      <url>/2019/03/09/e7-ae-97-e6-b3-95-e9-9d-a2-e8-af-95-e9-a2-98-e6-9f-a5-e6-89-be-e6-8c-87-e5-ae-9a-e7-9a-84-e5-ad-97-e7-ac-a6-e4-b8-b2/</url>
      
        <content type="html"><![CDATA[<p>实现一个算法，寻找字符串中出现次数最少的、并且首次出现位置最前的字符如<br>“<em>cbaacfdeaebb</em>“，符合要求的是”f”，因为他只出现了一次（次数最少）。<br>并且比其他只出现一次的字符（如”d”）首次出现的位置最靠前。</p><pre><code>const findMinStr = (str) =&gt; {    const hash = {};    for (let i = 0; i &lt; str.length; i += 1) {      hash[str[i]] = hash[str[i]] || { index: i, count: 0 };      hash[str[i]].count += 1;    }    return Object.keys(hash).map(item =&gt; {      return Object.assign({ char: item }, hash[item]);    })      .sort((a, b) =&gt; a.count - b.count)      .filter((item, index, arr) =&gt; item.count === arr[0].count)      .sort((a, b) =&gt; a.index - b.index)[0].char};const str = &apos;cbaacfdeaebb&apos;;findMinStr (str)  // &apos;f&apos;</code></pre>]]></content>
      
      
      <categories>
          
          <category> 面试 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>在react中使用antd+less+css modules</title>
      <link href="/2019/03/09/e5-9c-a8react-e4-b8-ad-e4-bd-bf-e7-94-a8antdlesscss-modules/"/>
      <url>/2019/03/09/e5-9c-a8react-e4-b8-ad-e4-bd-bf-e7-94-a8antdlesscss-modules/</url>
      
        <content type="html"><![CDATA[<h4 id="配置less"><a href="#配置less" class="headerlink" title="配置less"></a>配置less</h4><p>首先安装less和less-loader</p><pre><code>cnpm i --save-dev less less-loader</code></pre><p>然后在webpack.config中配置</p><pre><code>{  test: /\.less$/,  use: [      require.resolve(&apos;style-loader&apos;),      {          loader: require.resolve(&apos;css-loader&apos;)      },      {          loader: require.resolve(&apos;less-loader&apos;), // compiles Less to CSS      },  ],},</code></pre><h4 id="开启css-modules功能"><a href="#开启css-modules功能" class="headerlink" title="开启css modules功能"></a>开启css modules功能</h4><p>但是如果我想开启css modules功能，使less和css可以模块化，就需要再配置，但是不能全局配置，这样的话会导致antd没有使用css modules模块的框架的样式无法作用。</p><h6 id="开启less的css-modules功能"><a href="#开启less的css-modules功能" class="headerlink" title="开启less的css modules功能"></a>开启less的css modules功能</h6><pre><code> 这里我开启自己编写的less文件的css modules功能 除了node_modules库中的less，//也就是可以过滤掉antd库中的样式{  test: /\.less$/,  exclude: [/node_modules/],  use: [      require.resolve(&apos;style-loader&apos;),      {          loader: require.resolve(&apos;css-loader&apos;),          options: {              modules: true,              localIdentName:&quot;[name]__[local]___[hash:base64:5]&quot;          },      },      {          loader: require.resolve(&apos;less-loader&apos;), // compiles Less to CSS      },  ],},</code></pre><h6 id="开启css的css-modules功能"><a href="#开启css的css-modules功能" class="headerlink" title="开启css的css modules功能"></a>开启css的css modules功能</h6><p>如果想开启css的css modules功能，就比较麻烦点，除了针对css开启css modules，还需要需要针对antd的css 单独写一条loader的规则,不开启 css modules。</p><pre><code> 这里设置css开启modules支持,node_modules和antd里面的css不开启{  test: /\.css$/,  exclude: /node_modules|antd\.css/,  use: [      require.resolve(&apos;style-loader&apos;),      {          loader: require.resolve(&apos;css-loader&apos;),          options: {              importLoaders: 1,              // 改动              modules: true,   // 新增对css modules的支持              localIndetName: &apos;[name]__[local]__[hash:base64:5]&apos;, //          },      },      {          loader: require.resolve(&apos;postcss-loader&apos;),          options: {              ident: &apos;postcss&apos;,              plugins: () =&gt; [                  require(&apos;postcss-flexbugs-fixes&apos;),                  autoprefixer({                      browsers: [                          &apos;&gt;1%&apos;,                          &apos;last 4 versions&apos;,                          &apos;Firefox ESR&apos;,                          &apos;not ie &lt; 9&apos;, // React doesn&apos;t support IE8 anyway                      ],                      flexbox: &apos;no-2009&apos;,                  }),              ],          },      },  ],}然后针对node_modules和antd里面的css写编译配置{  test: /\.css$/,  include: /node_modules|antd\.css/,  use: [      require.resolve(&apos;style-loader&apos;),      {          loader: require.resolve(&apos;css-loader&apos;),          options: {              importLoaders: 1,              // 改动              // modules: true,   // 新增对css modules的支持              // localIndetName: &apos;[name]__[local]__[hash:base64:5]&apos;, //          },      },      {          loader: require.resolve(&apos;postcss-loader&apos;),          options: {              ident: &apos;postcss&apos;,              plugins: () =&gt; [                  require(&apos;postcss-flexbugs-fixes&apos;),                  autoprefixer({                      browsers: [                          &apos;&gt;1%&apos;,                          &apos;last 4 versions&apos;,                          &apos;Firefox ESR&apos;,                          &apos;not ie &lt; 9&apos;, // React doesn&apos;t support IE8 anyway                      ],                      flexbox: &apos;no-2009&apos;,                  }),              ],          },      },  ],},</code></pre><blockquote><p>至此就配置好了开发环境下的所有代码<br>同样的代码需要在webpack.config.prod，生产环境的webpack里面再配置一次，打包后的文件各种CSS和less文件才会生效。</p></blockquote><p><a href="https://www.jianshu.com/p/51ff1c8be301" target="_blank" rel="noopener">转自 追风的云月</a></p>]]></content>
      
      
      <categories>
          
          <category> webpack </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>编译修饰符 Bable配置</title>
      <link href="/2019/03/08/e7-bc-96-e8-af-91-e7-ae-ad-e5-a4-b4-e5-87-bd-e6-95-b0-bable-e9-85-8d-e7-bd-ae/"/>
      <url>/2019/03/08/e7-bc-96-e8-af-91-e7-ae-ad-e5-a4-b4-e5-87-bd-e6-95-b0-bable-e9-85-8d-e7-bd-ae/</url>
      
        <content type="html"><![CDATA[<p>xiu npm install –save-dev babel-plugin-transform-decorators-legacy</p><pre><code>在根目录.babelrc文件里&quot;plugins&quot;: [&quot;transform-decorators-legacy&quot;]如果没有babel.lrc文件请搜索对应框架的文件配置</code></pre>]]></content>
      
      
      <categories>
          
          <category> webpack </category>
          
      </categories>
      
      
        <tags>
            
            <tag> babel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>阿里云 144 元 一年30Mb香港服务器 3.4~3.15</title>
      <link href="/2019/03/08/e9-98-bf-e9-87-8c-e4-ba-91-144-e5-85-83-e4-b8-80-e5-b9-b430mb-e9-a6-99-e6-b8-af-e6-9c-8d-e5-8a-a1-e5-99-a8-3-43-15/"/>
      <url>/2019/03/08/e9-98-bf-e9-87-8c-e4-ba-91-144-e5-85-83-e4-b8-80-e5-b9-b430mb-e9-a6-99-e6-b8-af-e6-9c-8d-e5-8a-a1-e5-99-a8-3-43-15/</url>
      
        <content type="html"><![CDATA[<p>打开：<a href="http://t.cn/EIJKfAY" target="_blank" rel="noopener">http://t.cn/EIJKfAY</a> 点击立即报名</p><p>打开：<a href="http://t.cn/EIJ9KUH" target="_blank" rel="noopener">http://t.cn/EIJ9KUH</a> 按上图选择香港CentOs系统1年30Mb服务器只需144元</p><p>活动时间：2019.3.4~3.15</p><p><img src="/" class="lazyload" data-src="http://blog.ksh7.com/wp-content/uploads/2019/03/rjIMsVh_jpg-1-1024x387.jpg"  alt=""></p><p><img src="/" class="lazyload" data-src="http://blog.ksh7.com/wp-content/uploads/2019/03/rjIMvXu_jpg-1-1024x680.jpg"  alt=""></p>]]></content>
      
      
      <categories>
          
          <category> 福利活动 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>courseTable -- 可移动的React课程表组件</title>
      <link href="/2019/03/08/coursetable-e5-8f-af-e7-a7-bb-e5-8a-a8-e7-9a-84react-e8-af-be-e7-a8-8b-e8-a1-a8-e7-bb-84-e4-bb-b6/"/>
      <url>/2019/03/08/coursetable-e5-8f-af-e7-a7-bb-e5-8a-a8-e7-9a-84react-e8-af-be-e7-a8-8b-e8-a1-a8-e7-bb-84-e4-bb-b6/</url>
      
        <content type="html"><![CDATA[<h1 id="Course-Table"><a href="#Course-Table" class="headerlink" title="Course Table"></a>Course Table</h1><h2 id="✨-Features"><a href="#✨-Features" class="headerlink" title="✨ Features"></a>✨ Features</h2><ul><li>可移动的 课程表</li><li>代码简单，欢迎优化</li><li>预览链接 <a href="https://Kshao123.github.io" target="_blank" rel="noopener">https://Kshao123.github.io</a></li></ul><p><a href="http://godban.github.io/browsers-support-badges/" target="_blank" rel="noopener"><img src="/" class="lazyload" data-src="https://raw.githubusercontent.com/alrra/browser-logos/master/src/edge/edge_48x48.png"  alt="IE / Edge"></a><br>IE / Edge</p><p><a href="http://godban.github.io/browsers-support-badges/" target="_blank" rel="noopener"><img src="/" class="lazyload" data-src="https://raw.githubusercontent.com/alrra/browser-logos/master/src/firefox/firefox_48x48.png"  alt="Firefox"></a><br>Firefox</p><p><a href="http://godban.github.io/browsers-support-badges/" target="_blank" rel="noopener"><img src="/" class="lazyload" data-src="https://raw.githubusercontent.com/alrra/browser-logos/master/src/chrome/chrome_48x48.png"  alt="Chrome"></a><br>Chrome</p><p><a href="http://godban.github.io/browsers-support-badges/" target="_blank" rel="noopener"><img src="/" class="lazyload" data-src="https://raw.githubusercontent.com/alrra/browser-logos/master/src/safari/safari_48x48.png"  alt="Safari"></a><br>Safari</p><p><a href="http://godban.github.io/browsers-support-badges/" target="_blank" rel="noopener"><img src="/" class="lazyload" data-src="https://raw.githubusercontent.com/alrra/browser-logos/master/src/opera/opera_48x48.png"  alt="Opera"></a><br>Opera</p><p><a href="http://godban.github.io/browsers-support-badges/" target="_blank" rel="noopener"><img src="/" class="lazyload" data-src="https://raw.githubusercontent.com/alrra/browser-logos/master/src/electron/electron_48x48.png"  alt="Electron"></a><br>Electron</p><p>IE9, IE10, IE11, Edge</p><p>last 2 versions</p><p>last 2 versions</p><p>last 2 versions</p><p>last 2 versions</p><p>last 2 versions</p><h2 id="📦-Install"><a href="#📦-Install" class="headerlink" title="📦 Install"></a>📦 Install</h2><pre><code>npm i course-tablenpm i course-table -S</code></pre><h2 id="🔨-Usage"><a href="#🔨-Usage" class="headerlink" title="🔨 Usage"></a>🔨 Usage</h2><pre><code>import CourseTable from &apos;course-table&apos;;const courseTables = {      1: [        {          startTime:1551920827000,          endTime:1551924427000,          stuNameList: [&apos;123&apos;],          teaName: &apos;312&apos;        }      ]    };const handleConfirm = (data,handleOK) =&gt; {    handleOK()};ReactDOM.render(    &lt;CourseTable         courseTables={courseTables}        handleConfirm={handleConfirm}    /&gt;,     mountNode);</code></pre>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ReactComponent </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
